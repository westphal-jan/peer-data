{"id": "1204.3348", "review": {"conference": "AAAI", "VERSION": "v1", "DATE_OF_SUBMISSION": "16-Apr-2012", "title": "Symmetry Breaking Constraints: Recent Results", "abstract": "Symmetry is an important problem in many combinatorial problems. One way of dealing with symmetry is to add constraints that eliminate symmetric solutions. We survey recent results in this area, focusing especially on two common and useful cases: symmetry breaking constraints for row and column symmetry, and symmetry breaking constraints for eliminating value symmetry", "histories": [["v1", "Mon, 16 Apr 2012 02:56:16 GMT  (25kb)", "http://arxiv.org/abs/1204.3348v1", "To appear in Proceedings of Twenty-Sixth Conference on Artificial Intelligence (AAAI-12)"]], "COMMENTS": "To appear in Proceedings of Twenty-Sixth Conference on Artificial Intelligence (AAAI-12)", "reviews": [], "SUBJECTS": "cs.AI cs.CC", "authors": ["toby walsh"], "accepted": true, "id": "1204.3348"}, "pdf": {"name": "1204.3348.pdf", "metadata": {"source": "CRF", "title": "Symmetry Breaking Constraints: Recent Results", "authors": ["Toby Walsh"], "emails": ["toby.walsh@nicta.com.au"], "sections": [{"heading": null, "text": "ar Xiv: 120 4.33 48v1 [cs.AI] 16 Apr 201 2"}, {"heading": "Introduction", "text": "In this paper, we examine the most recent results on symmetry satisfaction and optimization problems (Ghent, Petrie, and Puget 2006). For example, we assume that we have a proper coloring of a graph, and we permutate the colors, then we get another symmetric coloring. Symmetries are problematic because they increase the size of the search space. We waste time finding symmetric solutions, but not all symmetric solutions (e.g. Puget 1993; Crawford et al. 1996; Shlyakhter 2001; Sakallah, and Markov 2003; Puget 2005c; Law and Lee 2006; Walsh 2006a)."}, {"heading": "An Example", "text": "We will consider a combinatorial problem that has been investigated in several previous work on symmetry breaking.An example: The problem of equidistant frequency permutation array (EFPA) (Huczynska et al. 2009) is a difficult problem in coding theory.The goal is to find a series of words with V code, each with the length q\u03bb so that each word contains \u03bb copies of symbols 1 to q, and each pair of code words is hamming spacing d apart. For example, for v = 4, \u03bb = 2, q = 3, d = 4, a solution is: 0 2 1 2 2 1 0 1 0 1 0 1 0 2 1 0 1 1 0 1 2 2 2 0 1 1 1 1 1 1 1 1 2 2 2 2 (a) This problem has applications in communication theory and is related to other combinatorial problems such as finding orthogonal Latin squares. We can have this problem by a v decision series of symmetrical domains with two Cohen domains each. One of these symmetrical domains is a Cohen domains with one."}, {"heading": "Symmetry Breaking Constraints", "text": "A simple but effective way to handle symmetry is to add constraints that eliminate some (but not all) symmetric solutions in each symmetry class < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < < <"}, {"heading": "Symmetries of Symmetry Breaking Constraints", "text": "One way to construct new symmetries that break constraints is to use symmetry itself (Katsirelos and Walsh 2010). Any symmetry that acts on a set of symmetries that break constraints breaks even the symmetry of a problem. To do this, we need to define the action of a symmetry on a set of symmetries that break constraints. We define symmetry as acting on assignments by assigning solutions to solutions. We can raise this definition to constraints. For example, the action of a variable symmetry on a constraint changes the scope of the constraint (that is, the variables on which symmetry acts). Theorem 1 (Katsirelos and Walsh 2010) Given a set of symmetries of C, if S is a set of symmetries of symmetries of C, if S is a set of symmetries of C, if S is a set of symmetries of symmetries of C, the constraints are complete."}, {"heading": "Intractability of Breaking Symmetry", "text": "The symmetry groups seen in practice can be very large. As a result, breaking symmetry can be mathematically difficult. For example, if we have a q interchangeable value (as in our EFPA model), then we have q! symmetries. To eliminate each of these symmetries, a separate Lex Leader constraint is required. As a result, the Lex Leader method is generally not tractable. An alternative is to break symmetry partially by posting only a subset of the LexLeader constraints (e.g. (Jefferson and Petrie 2011). Crawford et al (1996) have proven that breaking symmetry is completely intractable by adding constraints to symmetric solutions in general. Specifically, they prove that in the face of a matrix model with series and column symmetries determining whether an assignment is the smallest symmetry class in its smallest symmetry class."}, {"heading": "Row and Column Symmetry", "text": "Similarly, we have a whole range of solutions where the EFPA problem has both rows and column symmetries. Similarly, it has a column symmetry that is common in many models of decision variables (Flener et al. 2001b; Flener et al. 2002). We can break rows and column symmetries with the Lex Leader method, but this is not practicable in general. An n of m matrix has n! m and column symmetries, and each symmetry would require a separate lexicographic order. To break up all row symmetries, we can set up a linear number of rows that are ordered lexicographically."}, {"heading": "SnakeLex", "text": "An interesting alternative method of breaking row and column symmetry uses a lexicographic sequence that linearizes the matrix, rather than in sequence. This method appends the first row to the back of the second row, and this is appended to the third row, and then to the back of the fourth row, and so on. Breaking row and column symmetry with this sequence is surprisingly insoluble, as is the case with the more conventional lexicographic sequence, where matrices are ordered in sequence. Theorem 6 ((Narodytska and Walsh 2012) The decision whether an assignment in row and column symmetry is the smallest is the SNAKELEX constraint derived from the Lex-Leader method, using such a snake-Lex order."}, {"heading": "Gray Code Ordering", "text": "Another interesting alternative method of breaking up symmetry is to eliminate all but the smallest symmetric solution in an order other than the lexicographic order. For example, we have seen some promise in the use of the Gray code order (Narodytska and Walsh 2012).The Gray code order is a total order of assignments used in error correction codes.The 4-bit Gray code order orders assignments as follows: 0000, 0001, 0011, 0010, 0110, 0111, 0101, 0100,1100, 1101, 1111, 1110, 1010, 1011, 1001, 1000.Such an order can pick out different solutions in each symmetry class, which can reduce the conflict between symmetry fragmentation, problem code constraints, and branched heuristics.The Gray code order has some properties that can make it useful for symmetry fragmentation. For example, adjacent assignments differ by the order and the order reversing only by the following one."}, {"heading": "Value Symmetry", "text": "If a problem has many value symmetries, the Lex-Leader method reintroduces too many symmetry-breaking constraints to be practicable. Puget has proposed an effective alternative that maps value symmetries into variable symmetries (Puget 2005b). His method introduces channels into some auxiliary variables that, as in (Smith, Stergiou and Walsh 2000), allow the (symmetry-breaking) constraints to be easily mapped into variable symmetry-symmetry-symmetry-symmetry-symmetry-symmetry-symmetry-symmetry-unit-unit-unit-unit-unit-constraints symmetry-unit-unit-unit-unit-unit-unit-symmetry-unit-unit-unit-unit-unit-symmetry-symmetry-symmetry-symmetry-symmetry-unit-unit-unit-unit-unit-unit-unit-unit-unit-symmetry-unit-unit-unit-unit-unit-unit-symmetry-unit-unit-unit-unit-symmetry-unit-unit-unit-unit-unit-symmetry-unit-unit symmetric symmetric-unit-unit-unit-unit symmetric-unit-unit-unit symmetric-unit-unit symmetric-unit-unit-unit-unit-unit symmetric-unit-unit symmetric-unit-unit symmetric-unit-unit-unit symmetric-unit-unit symmetric-unit-unit-unit-unit symmetric-unit symmetric-unit-unit-unit-symmetric-unit-unit-unit symmetrical-unit-symmetrical-unit-unit-unit-symmetrical symmetrical-unit-unit-symmetrical-symmetrical symmetrical-unit-unit-unit-unit-unit-symmetrical-unit-unit-unit-unit-symmetrical-symmetrical-unit-symmetrical-symmetrical-unit-unit-unit-unit-symmet"}, {"heading": "Combinations of Symmetries", "text": "Another important question is how to deal with symmetry combinations. We have already seen that we can take a symmetry group that is able to break completely (row symmetry), combine it with another symmetry group that is able to break completely (column symmetry), and end up with a symmetry group (row and column symmetry) that is able to break, and where we lack good methods to eliminate all symmetric solutions in general. Another difficult combination is when we have both variable symmetries and value symmetries. How do we break both symmetries at the same time? We can apply the Lex-Leader method, but this is not practical if we have many variable and value symmetries in general. Unfortunately, Puget's method of breaking value symmetries is not compatible with the Zvariables we generally use."}, {"heading": "Open Problems", "text": "A number of important and challenging questions about symmetries that include constraints: Identifiable cases: Are there other types of symmetry that occur in practice that are polynomial to break? Suppose we color the edges of a graph, and we have a clique of interchangeable links. This leads to a certain symmetry of decision variables that represent the colors of the various edges of the graph. How can we efficiently break up this large symmetry group? Are we exploring other orders besides the lexicographic order with which we can effectively break symmetries? We have seen some promise for the gray code order, but there are many other orders that we could consider."}], "references": [{"title": "Efficient symmetry breaking for Boolean satisfiability", "author": ["Sakallah Aloul", "F. Markov 2003] Aloul", "K. Sakallah", "I. Markov"], "venue": "In Proc. of 18th International Joint Conf. on AI,", "citeRegEx": "Aloul et al\\.,? \\Q2003\\E", "shortCiteRegEx": "Aloul et al\\.", "year": 2003}, {"title": "Excluding symmetries in constraint-based search", "author": ["Backofen", "R. Will 1999] Backofen", "S. Will"], "venue": "Proc. of the 5th International Conf. on Principles and Practice of Constraint Programming,", "citeRegEx": "Backofen et al\\.,? \\Q1999\\E", "shortCiteRegEx": "Backofen et al\\.", "year": 1999}, {"title": "Enhancing clause learning by symmetry in sat solvers", "author": ["Benhamou"], "venue": "In Proc. of 22nd IEEE International Conf. on Tools with Artificial Intelligence (ICTAI 2010),", "citeRegEx": "Benhamou,? \\Q2010\\E", "shortCiteRegEx": "Benhamou", "year": 2010}, {"title": "The alldifferent constraint with precedences", "author": ["Bessiere"], "venue": "Proc. of 8th International Conf. on Integration of AI and OR Techniques", "citeRegEx": "Bessiere,? \\Q2011\\E", "shortCiteRegEx": "Bessiere", "year": 2011}, {"title": "Symmetries and lazy clause generation", "author": ["Chu"], "venue": null, "citeRegEx": "Chu,? \\Q2011\\E", "shortCiteRegEx": "Chu", "year": 2011}, {"title": "Symmetry definitions for constraint satisfaction problems", "author": ["Cohen"], "venue": null, "citeRegEx": "Cohen,? \\Q2006\\E", "shortCiteRegEx": "Cohen", "year": 2006}, {"title": "Symmetry breaking predicates for search problems", "author": ["Crawford"], "venue": "In Proc. of the 5th International Conf. on Knowledge Representation and Reasoning,", "citeRegEx": "Crawford,? \\Q1996\\E", "shortCiteRegEx": "Crawford", "year": 1996}, {"title": "Symmetry breaking", "author": ["Schamberger Fahle", "T. Sellmann 2001] Fahle", "S. Schamberger", "M. Sellmann"], "venue": "Proc. of 7th International Conf. on Principles and Practice of Constraint Programming", "citeRegEx": "Fahle et al\\.,? \\Q2001\\E", "shortCiteRegEx": "Fahle et al\\.", "year": 2001}, {"title": "Symmetry in matrix models. Technical Report APES-30-2001, APES group. Presented at SymCon\u201901 (Symmetry in Constraints), CP2001 post-conference workshop", "author": ["Flener"], "venue": null, "citeRegEx": "Flener,? \\Q2001\\E", "shortCiteRegEx": "Flener", "year": 2001}, {"title": "Matrix modelling. Technical Report APES-36-2001, APES group. Presented at Formul\u201901 Workshop on Modelling and Problem Formulation, CP2001 post-conference workshop", "author": ["Flener"], "venue": null, "citeRegEx": "Flener,? \\Q2001\\E", "shortCiteRegEx": "Flener", "year": 2001}, {"title": "Breaking row and column symmetry in matrix models", "author": ["Flener"], "venue": "In 8th International Conf. on Principles and Practices of Constraint Programming", "citeRegEx": "Flener,? \\Q2002\\E", "shortCiteRegEx": "Flener", "year": 2002}, {"title": "Static and dynamic structural symmetry breaking", "author": ["Flener"], "venue": "In Proc. of 12th International Conf. on Principles and Practice of Constraint Programming", "citeRegEx": "Flener,? \\Q2006\\E", "shortCiteRegEx": "Flener", "year": 2006}, {"title": "Global constraints for lexicographic orderings", "author": ["Frisch"], "venue": "In 8th International Conf. on Principles and Practices of Constraint Programming", "citeRegEx": "Frisch,? \\Q2002\\E", "shortCiteRegEx": "Frisch", "year": 2002}, {"title": "Multiset ordering constraints", "author": ["Frisch"], "venue": "In Proc. of 18th International Joint Conf. on Artificial Intelligence (IJCAI-2003). IJCAI", "citeRegEx": "Frisch,? \\Q2003\\E", "shortCiteRegEx": "Frisch", "year": 2003}, {"title": "Propagation algorithms for lexicographic ordering constraints. Artificial Intelligence 170(10):803\u2013908", "author": ["Frisch"], "venue": null, "citeRegEx": "Frisch,? \\Q2006\\E", "shortCiteRegEx": "Frisch", "year": 2006}, {"title": "Constraints for breaking more row and column symmetries", "author": ["Jefferson Frisch", "A. Miguel 2003] Frisch", "C. Jefferson", "I. Miguel"], "venue": "Proc. of 9th International Conf. on Principles and Practice of Constraint Programming", "citeRegEx": "Frisch et al\\.,? \\Q2003\\E", "shortCiteRegEx": "Frisch et al\\.", "year": 2003}, {"title": "Symmetry breaking in constraint programming", "author": ["Gent", "I. Smith 2000] Gent", "B. Smith"], "venue": "Proc. of ECAI-2000,", "citeRegEx": "Gent et al\\.,? \\Q2000\\E", "shortCiteRegEx": "Gent et al\\.", "year": 2000}, {"title": "CSPLib: a benchmark library for constraints", "author": ["Gent", "I. Walsh 1999] Gent", "T. Walsh"], "venue": "Technical report, Technical report APES-09-1999. A shorter version appears in Proc. of the 5th International Conf. on Principles and Practices of Constraint Programming (CP-99)", "citeRegEx": "Gent et al\\.,? \\Q1999\\E", "shortCiteRegEx": "Gent et al\\.", "year": 1999}, {"title": "Symmetry in constraint programming", "author": ["Petrie Gent", "I. Puget 2006] Gent", "K. Petrie", "J.-F. Puget"], "venue": "In Handbook for Constraint Programming. Elsevier", "citeRegEx": "Gent et al\\.,? \\Q2006\\E", "shortCiteRegEx": "Gent et al\\.", "year": 2006}, {"title": "Snake lex: An alternative to double lex", "author": ["Miguel Grayland", "A. Roney-Dougal 2009] Grayland", "I. Miguel", "C. Roney-Dougal"], "venue": "Proc. of 15th International Conf. on Principles and Practice of Constraint Programming,", "citeRegEx": "Grayland et al\\.,? \\Q2009\\E", "shortCiteRegEx": "Grayland et al\\.", "year": 2009}, {"title": "Modelling equidistant frequency permutation arrays: An application of constraints to mathematics", "author": ["Huczynska"], "venue": "Proc. of 15th International Conf. on Principles and Practice of Constraint Program-", "citeRegEx": "Huczynska,? \\Q2009\\E", "shortCiteRegEx": "Huczynska", "year": 2009}, {"title": "Automatic generation of constraints for partial symmetry breaking", "author": ["Jefferson", "C. Petrie 2011] Jefferson", "K. Petrie"], "venue": "Proc. of 17th International Conf. on Principles and Practice of Constraint Programming (CP", "citeRegEx": "Jefferson et al\\.,? \\Q2011\\E", "shortCiteRegEx": "Jefferson et al\\.", "year": 2011}, {"title": "Symmetries of symmetry breaking constraints", "author": ["Katsirelos", "G. Walsh 2010] Katsirelos", "T. Walsh"], "venue": "In Proc. of the 19th European Conf. on Artificial Intelligence", "citeRegEx": "Katsirelos et al\\.,? \\Q2010\\E", "shortCiteRegEx": "Katsirelos et al\\.", "year": 2010}, {"title": "Combining symmetry breaking and global constraints", "author": ["Narodytska Katsirelos", "G. Walsh 2009] Katsirelos", "N. Narodytska", "T. Walsh"], "venue": "Recent Advances in Constraints,", "citeRegEx": "Katsirelos et al\\.,? \\Q2009\\E", "shortCiteRegEx": "Katsirelos et al\\.", "year": 2009}, {"title": "On the complexity and completeness of static constraints for breaking row and column symmetry", "author": ["Narodytska Katsirelos", "G. Walsh 2010] Katsirelos", "N. Narodytska", "T. Walsh"], "venue": "Proc. of the 16th International Conf. on the Principles and Practice", "citeRegEx": "Katsirelos et al\\.,? \\Q2010\\E", "shortCiteRegEx": "Katsirelos et al\\.", "year": 2010}, {"title": "Global constraints for integer and set value precedence", "author": ["Law", "Y. Lee 2004] Law", "J. Lee"], "venue": "In Proc. of 10th International Conf. on Principles and Practice of Constraint Programming", "citeRegEx": "Law et al\\.,? \\Q2004\\E", "shortCiteRegEx": "Law et al\\.", "year": 2004}, {"title": "Symmetry Breaking Constraints for Value Symmetries in Constraint Satisfaction", "author": ["Law", "Y. Lee 2006] Law", "J. Lee"], "venue": null, "citeRegEx": "Law et al\\.,? \\Q2006\\E", "shortCiteRegEx": "Law et al\\.", "year": 2006}, {"title": "Breaking symmetry of interchangeable variables and values", "author": ["Law"], "venue": "In 13th International Conf. on Principles and Practices of Constraint Programming", "citeRegEx": "Law,? \\Q2007\\E", "shortCiteRegEx": "Law", "year": 2007}, {"title": "A novel approach for detecting symmetries in CSP models", "author": ["Mears"], "venue": null, "citeRegEx": "Mears,? \\Q2008\\E", "shortCiteRegEx": "Mears", "year": 2008}, {"title": "Beyond lex leader: Breaking symmetry with other orderings", "author": ["Narodytska", "N. Walsh 2012] Narodytska", "T. Walsh"], "venue": "Under review for Proc. of the 18th International Conf. on the Principles and Practice of Constraint Programming (CP", "citeRegEx": "Narodytska et al\\.,? \\Q2012\\E", "shortCiteRegEx": "Narodytska et al\\.", "year": 2012}, {"title": "Automatic detection of variable and value symmetries", "author": ["Puget", "J.-F"], "venue": "Proc. of 11th International Conf. on Principles and Practice of Constraint Programming (CP", "citeRegEx": "Puget and J..F.,? \\Q2005\\E", "shortCiteRegEx": "Puget and J..F.", "year": 2005}, {"title": "Breaking symmetries in all different problems", "author": ["Puget 2005c] Puget", "J.-F"], "venue": "In Proc. of 19th International Joint Conf. on AI,", "citeRegEx": "Puget and J..F.,? \\Q2005\\E", "shortCiteRegEx": "Puget and J..F.", "year": 2005}, {"title": "Global grammar constraints", "author": ["Quimper", "Walsh 2006] Quimper", "C.-G", "T. Walsh"], "venue": "In 12th International Conf. on Principles and Practices of Constraint Programming", "citeRegEx": "Quimper et al\\.,? \\Q2006\\E", "shortCiteRegEx": "Quimper et al\\.", "year": 2006}, {"title": "Decomposing global grammar constraints", "author": ["Quimper", "Walsh 2007] Quimper", "C.-G", "T. Walsh"], "venue": "In 13th International Conf. on Principles and Practices of Constraint Programming", "citeRegEx": "Quimper et al\\.,? \\Q2007\\E", "shortCiteRegEx": "Quimper et al\\.", "year": 2007}, {"title": "Structural symmetry breaking", "author": ["Sellmann", "M. Hentenryck 2005] Sellmann", "P.V. Hentenryck"], "venue": "In Proc. of 19th International Joint Conf. on AI (IJCAI", "citeRegEx": "Sellmann et al\\.,? \\Q2005\\E", "shortCiteRegEx": "Sellmann et al\\.", "year": 2005}, {"title": "Using auxiliary variables and implied", "author": ["Stergiou Smith", "B. Walsh 2000] Smith", "K. Stergiou", "T. Walsh"], "venue": null, "citeRegEx": "Smith et al\\.,? \\Q2000\\E", "shortCiteRegEx": "Smith et al\\.", "year": 2000}, {"title": "General symmetry breaking constraints", "author": ["T. Walsh 2006a] Walsh"], "venue": "In Proc. of 12th International Conf. on Principles and Practices of Constraint Programming", "citeRegEx": "Walsh,? \\Q2006\\E", "shortCiteRegEx": "Walsh", "year": 2006}, {"title": "Symmetry breaking using value precedence", "author": ["T. Walsh 2006b] Walsh"], "venue": "In Proc. of the 17th European Conf. on Artificial Intelligence", "citeRegEx": "Walsh,? \\Q2006\\E", "shortCiteRegEx": "Walsh", "year": 2006}, {"title": "Breaking value symmetry", "author": ["T. Walsh"], "venue": "In Proc. of 13th International Conf. on Principles and Practices of Constraint Programming", "citeRegEx": "Walsh,? \\Q2007\\E", "shortCiteRegEx": "Walsh", "year": 2007}, {"title": "On the complexity of breaking symmetry", "author": ["T. Walsh"], "venue": "In Proc. of The 11th International Workshop on Symmetry in Constraint Satisfaction Problems (SymCon\u201911). Held alongside the 1th International Conf. on the Principles and Practice of Constraint Programming (CP", "citeRegEx": "Walsh,? \\Q2011\\E", "shortCiteRegEx": "Walsh", "year": 2011}, {"title": "Symmetry breaking via LexLeader feasibility checkers", "author": ["Yip", "J. Hentenryck 2011] Yip", "P.V. Hentenryck"], "venue": "Proc. of the 22nd International Joint Conf. on Artificial Intelligence", "citeRegEx": "Yip et al\\.,? \\Q2011\\E", "shortCiteRegEx": "Yip et al\\.", "year": 2011}], "referenceMentions": [{"referenceID": 38, "context": "1996) and value symmetries (Walsh 2007).", "startOffset": 27, "endOffset": 39}, {"referenceID": 6, "context": "Crawford et al. (1996) proved that breaking symmetry completely by adding constraints to eliminate symmetric solutions is computationally intractable in general.", "startOffset": 0, "endOffset": 23}, {"referenceID": 39, "context": "Theorem 4 ((Walsh 2011)) Given any simple ordering, there exists a symmetry group such that deciding if an assignment is smallest in its symmetry class according to this ordering is NP-hard.", "startOffset": 11, "endOffset": 23}, {"referenceID": 38, "context": "Theorem 8 ((Walsh 2007)) Given a set of value symmetries and a partial assignment, pruning all symmetric values is NP-hard.", "startOffset": 11, "endOffset": 23}, {"referenceID": 15, "context": "have proposed the multiset ordering (Frisch et al. 2003).", "startOffset": 36, "endOffset": 56}], "year": 2012, "abstractText": "Symmetry is an important problem in many combinatorial problems. One way of dealing with symmetry is to add constraints that eliminate symmetric solutions. We survey recent results in this area, focusing especially on two common and useful cases: symmetry breaking constraints for row and column symmetry, and symmetry breaking constraints for eliminating value symmetry.", "creator": "LaTeX with hyperref package"}}}