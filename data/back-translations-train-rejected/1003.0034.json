{"id": "1003.0034", "review": {"conference": "arxiv", "VERSION": "v1", "DATE_OF_SUBMISSION": "26-Feb-2010", "title": "A New Understanding of Prediction Markets Via No-Regret Learning", "abstract": "We explore the striking mathematical connections that exist between market scoring rules, cost function based prediction markets, and no-regret learning. We show that any cost function based prediction market can be interpreted as an algorithm for the commonly studied problem of learning from expert advice by equating trades made in the market with losses observed by the learning algorithm. If the loss of the market organizer is bounded, this bound can be used to derive an O(sqrt(T)) regret bound for the corresponding learning algorithm. We then show that the class of markets with convex cost functions exactly corresponds to the class of Follow the Regularized Leader learning algorithms, with the choice of a cost function in the market corresponding to the choice of a regularizer in the learning problem. Finally, we show an equivalence between market scoring rules and prediction markets with convex cost functions. This implies that market scoring rules can also be interpreted naturally as Follow the Regularized Leader algorithms, and may be of independent interest. These connections provide new insight into how it is that commonly studied markets, such as the Logarithmic Market Scoring Rule, can aggregate opinions into accurate estimates of the likelihood of future events.", "histories": [["v1", "Fri, 26 Feb 2010 23:27:22 GMT  (40kb,S)", "http://arxiv.org/abs/1003.0034v1", null]], "reviews": [], "SUBJECTS": "cs.AI cs.LG", "authors": ["yiling chen", "jennifer wortman vaughan"], "accepted": false, "id": "1003.0034"}, "pdf": {"name": "1003.0034.pdf", "metadata": {"source": "CRF", "title": "A New Understanding of Prediction Markets Via No-Regret Learning", "authors": ["Yiling Chen", "Jennifer Wortman Vaughan"], "emails": ["yiling@eecs.harvard.edu", "jenn@seas.harvard.edu"], "sections": [{"heading": null, "text": "ar Xiv: 100 3.00 34v1 [cs.AI] 26 Feb 2010 \u221a T) Repentance tied to the corresponding learning algorithm. Subsequently, we show that the class of markets with convex cost functions corresponds exactly to the class of learning algorithms of Follow the Regularized Leader, whereby the choice of a cost function in the market corresponds to the choice of a regulator in the learning problem. Finally, we show an equivalence between market scoring rules and forecast markets with convex cost functions. This implies that market scoring rules can of course also be interpreted as follow the regularized leader algorithms and may be of independent interest. These relationships provide new insights into what it is like for generally studied markets, such as the logarithmic market scoring rule, to aggregate opinions on accurate estimates of the probability of future events."}, {"heading": "1. INTRODUCTION", "text": "In fact, it is so that most people are able to determine for themselves what they want and what they want. (...) In fact, it is so that they are able to determine for themselves. (...) It is not so that they do it. (...) It is so that they do it. (...) It is so that they do it. (...) It is so that they do it. (...) It is so. (...) It is so. (...) It is so. (...) \"(.)\" (.) \"(.)\" (. \"(.)\" (.) \"(.)\" (.) \"(.)\" (.) \"(.)\" (.) \"(.).\" (.) \"(.)\" (.) \"(.)\" (. \"(.)\" (.) \"(.)\" (.) \"(.)\" (.) \"(.)\" (. \"(.)\" (.). \"(.).\" (.). \"(.).\" (.). \"(.).\" (.). \"(.).\" (.). \").\" (. \").\" (.). \"(.).\"). \"(.\"). \"(.).\"). \"(.\"). \"(.\"). \").\" (. \").\"). \"(.\"). \"(.\"). \"(.\"). \"(.).\"). \"(.\"). \"(.).\" (.). \").\" (.). \"(.).\" (.).)."}, {"heading": "2. PREDICTION MARKETS", "text": "In recent years, a variety of compelling prediction market mechanisms have been proposed and examined, including standard call market mechanisms and Pennock's dynamic parimutuel markets [30]. In this paper, we focus on two broad classes of mechanisms: Hanson's market scoring rules [15, 16] and cost function-based prediction markets as described in Chen and Pennock [5]."}, {"heading": "2.1 Market Scoring Rules", "text": "The scoring rule has long been used in the evaluation of probability forecasts. In the context of scoring markets and evaluation, scoring rules are used to encourage individuals to make careful assessments and truthfully report their beliefs [33, 11, 26]. In the context of the machine scoring system, scoring rules are used as loss functions to evaluate and compare the performance of different algorithms. Formally, the scoring rule for each result is i, with the si (~ p) the distribution of values in the extended real distribution line. Intuitively, this scoring rule represents a forecaster's reward for predicting the distribution."}, {"heading": "2.2 Cost Function Based Markets", "text": "In a cost function based on market prices, a market maker provides a security equivalent to any result. The security associated with an outcome is simply a potential function that describes the amount of money currently wagered on the market as a function of the amount of shares purchased. If qi is the number of securities currently held by traders, and a trader would like to buy shares in each security (where ri could be zero or even negative, representing the sale of shares), the trader must pay C (~ q + ~ r) \u2212 C to the market maker. The instantaneous price of security i (which is the price per share of an infinitely small number of shares) is then."}, {"heading": "3. LEARNING FROM EXPERT ADVICE", "text": "In this framework, an algorithm makes a sequence of predictions based on the advice of a number of experts and with a corresponding sequence of losses. < / p > p > p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p = p."}, {"heading": "4. INTERPRETING PREDICTION MARKETS AS NO-REGRET LEARNERS", "text": "The key idea is to equate the transactions made on the market with the losses observed by the learning algorithm. We can then consider the market maker to be essentially learning, a distribution of probabilities over the results by defining each observed trade as a training instance. Formally, we consider any market function based on costs to be having immediate price functions pi for each result i. We convert such a market maker to an algorithm in order to learn from expert advice by determining the weight of the expert i at a point in time when it is not usingwi, t = pi (-), (-), (-), (-), (-), (-), (-), (-), (-), (-), (-), (-), (-, -, (-), (-,), (-, (), (), (), -, (), (), -, (), (), (), -, (), (), (), (), (), (), ()."}, {"heading": "4.1 A Bound on Regret", "text": "In order to derive a regret for the learning algorithm defined in Eq.5, it is necessary to make some limitations on how quickly prices change in the markets. (If market prices change too quickly, the resulting learning algorithm becomes unstable and will therefore suffer from high worst-case regret, as was the case with the na\u00efve Follow The Leader algorithm described in Section 3.) To grasp this idea, we introduce the term volume stability, which is defined as follows. (Definition 1) We say that a number of price functions ~ p for a constant volume stability is stable when Pi is continuous and piecewise differentiable for all i markets. (\u00b7 \u00b7) The idea of volume stability of volume percentages and volume number of volume processes is not stable for a constant volume."}, {"heading": "4.2 Rederiving the Weighted Majority Bound", "text": "Chen et al. [6] showed that the weighted majority limit can be used as a starting point to derive the worst possible loss of b logN of an LMSR market maker. At this point, we show that the opposite is also the case; by applying theorem 2, we can derive the weighted majority limit from the limited loss of the LMSR. To apply theorem 2, we need to set a limit on how quickly prices for LMSR can change. This results from the following problem, the proof of which is in Appendix B. Lemma 3. Let us specify the price function of an LMSR with the parameter b > 0. ThenN \u2211 i = 1N \u0445 j = 1."}, {"heading": "5. CONNECTIONS BETWEEN MARKET SCORING RULES, COST FUNCTIONS, AND REGULARIZATION", "text": "In this section, we establish the formal links between market scoring rules, cost-function-based markets, and the class of Follow the Regularized Leaders algorithms, starting with a cost-function-based market presentation theorem that is crucial in our later analysis."}, {"heading": "5.1 A Representation Theorem for Convex Cost Functions", "text": "In this section, we will show a representation theorem for convex cost functions. The proof of this theorem is clearly based on the link between convex cost functions and a class of functions known in financial literature as convex risk measures, first introduced by Agrawal et al. [1] Convex risk measures were originally introduced by Fillmer and Schied [8] to model different attitudes to risk in financial markets. A risk measure can be considered an imaging of a vector of returns (corresponding to any possible outcome of an event) to a real number. The interpretation is that a vector of returns ~ x is \"preferred\" if \"the vector ~ x\" is, if and only if it is defined by a vector of returns (~ x). Formally, a function is a convex risk measure if it fulfils the following three properties: 1. Convex is a convex."}, {"heading": "5.2 Convex Cost Functions and Market Scoring Rules", "text": "As described in Section 2, the Logarithmic Market Valuation Rule ~ ~ Scoring Rule Market Maker = is a market rule or cost function based on market prices. LMSR is not unique in this respect. As we show in this section, any regular, strictly correct market accounting with differentiated scoring functions can be presented as a cost function in the market. Likewise, any convex cost function that meets a few mild conditions can be a market accounting. As long as the market truths are not zero, the market accounting and the corresponding cost function in the market are equivalent. Specifically, a trader that changes the market truths from ~ r to ~ r \u00b2 in the market accounting is guaranteed to receive the same payout for each result i as a trader that changes the quantity vectors from any ~ q to ~ q \u00b2 so that p (~ q) and p (~ r \u00b2) in the cost function formulation of the cost function is achieved."}, {"heading": "5.3 Convex Cost Functions and FTRL", "text": "Consider a predictive market with a convex cost function, represented as C (~ q) = sup ~ p N (\u2211 N = 1 piqi \u2212 \u03b1 (~ p)) and the corresponding learning algorithm with weights wi t = pi (\u2212 \u0432 ~ Lt \u2212 1). (Remember that ~ Lt \u2212 1 = < L1 t \u2212 1, \u00b7 \u00b7 FTN, t \u2212 1 > the vector of cumulative losses at the time \u2212 1) By Lemma 4 the weights chosen at this time are those that maximize the expression Ni = 1 wiLi, t \u2212 1 \u2212 (w), or equivalent, those that express the force = 1wiLi, + 1 + 1-1-1-1 weights that maximize the expression Ni = 1 wiLi, t \u2212 1 \u2212 (w), or equivalent, those that express the force = 1wiLi, + 1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1-1"}, {"heading": "5.4 Relation to the SCPM", "text": "Agrawal et al. [1] provide a different way of describing convex cost function based forecasting markets, which they call the Sequential Convex Pari-Mutuel Mechanism (SCPM). SCPM is defined by limit orders rather than market prices, but the underlying math is essentially the same. In SCPM, traders determine a maximum amount of shares they want to buy and a maximum price per share they are willing to issue. The market then decides how many shares to accept trading by solving a convex optimization problem. Agrawal et al. [1] show that for each SCPM there is an equivalent convex cost function based market. For each limit order, the number of shares the market maker accepts in the SCPM is the minimum number of shares requested by the trader and the number of shares he would need to drive the market price of the corresponding cost-based shares."}, {"heading": "6. EXAMPLE: THE QUADRATIC MSR AND ONLINE GRADIENT DESCENT", "text": "In the previous section, we described the relationship between market scoring rules, cost function-based markets with convex cost functions, and the consequences of Regulated Market Leader Algorithms. We discussed how the logarithmic market scoring rule can be presented as equivalent as a cost function-based market, and how it corresponds to the weighted majority in expert learning. In this section, we show the relationship using another example. In particular, we show that the square market scoring rule can be written as equivalent as a cost function-based market (namely the quad SCPM by Agrawal et al al al al al. [1] We show that this market corresponds to the well-researched online scoring algorithm in the learning environment, and a limit to the regret of this algorithm using Theorem 4.The square market scoring rule (QMSR) is the market rule that corresponds to the quadratic scoring function in equation."}, {"heading": "7. DISCUSSION", "text": "We have shown the elegant mathematical link between market-scoring rules, cost-based forecasting markets and no-contrition learning, a link that is thought-provoking in itself as it leads to new interpretations of known forecasting markets. Interpretation of the tightening function as a regulator can shed light on which market-scoring rule or cost-function-based market is best executed under other assumptions about traders. Furthermore, this link has the potential to be useful in shaping new forecasting markets and learning algorithms. In recent years, there has been an interest in finding ways to pursue market-scoring rules through combinatory or infinite result spaces [7, 10, 6]. For example, a market maker might want to accept bets on permutations (\"horse A will finish the race before horse B\"), boolean spaces (\"either a Democrat will win the 2010 race in Delaware, or a Democrat will win in North Dakota\"), or real prices (\"simply\" between Google's first quarter revenue \")."}, {"heading": "A. PROOF OF LEMMA 2", "text": "Using the way we have defined, this is x, 0 otherwise.UsingDi (x) = # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #"}, {"heading": "C. STABILITY OF QUAD-SCPM PRICES", "text": "The cost function of Quad-SCPM can be defined as follows: Quad-SCPM is defined by the optimal solution to the optimization problem in this function. Lagrange function corresponds to the limited optimization problem isL = (n) n \u00b2 n \u00b2 n \u00b2 n \u00b2 n \u00b2 n \u00b2 n \u00b2 n \u00b2 n \u00b2 n \u00b2 n \u00b2 n \u00b2 n \u00b2 n \u00b2 K = 1 \u00b2 n \u00b2 n \u00b2 n \u00b2 n \u00b2 n \u00b2 n \u00b2 i = 1pi \u2212 1) + N \u00b2 i = 1pi \u2212 1) + N \u00b2 i = 1\u00b5ipi.Since the objective function in ~ p is strictly designed, there is a unique optimal solution that meets the KT conditions: Zip L / Zip pi = 0 pi = 1 pi = 1 pi = 1 pi = 1 pi = 1 pi = 1 pi = 1 pi = 1 \u00b5ipi, pi = 1, pi = 1 pi = 0 pi, pi = 1 pi, pi = 1 pi, pi, i, i, i, i, i, i, i, i, i, i, i, i, i, i, i."}], "references": [], "referenceMentions": [], "year": 2010, "abstractText": "We explore the striking mathematical connections that exist between market scoring rules, cost function based prediction markets, and no-regret learning. We show that any cost function based prediction market can be interpreted as an algorithm for the commonly studied problem of learning from expert advice by equating trades made in the market with losses observed by the learning algorithm. If the loss of the market organizer is bounded, this bound can be used to derive an O( \u221a T ) regret bound for the corresponding learning algorithm. We then show that the class of markets with convex cost functions exactly corresponds to the class of Follow the Regularized Leader learning algorithms, with the choice of a cost function in the market corresponding to the choice of a regularizer in the learning problem. Finally, we show an equivalence between market scoring rules and prediction markets with convex cost functions. This implies that market scoring rules can also be interpreted naturally as Follow the Regularized Leader algorithms, and may be of independent interest. These connections provide new insight into how it is that commonly studied markets, such as the Logarithmic Market Scoring Rule, can aggregate opinions into accurate estimates of the likelihood of future events.", "creator": "LaTeX with hyperref package"}}}