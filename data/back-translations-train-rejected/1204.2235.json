{"id": "1204.2235", "review": {"conference": "arxiv", "VERSION": "v1", "DATE_OF_SUBMISSION": "10-Apr-2012", "title": "Publishing Identifiable Experiment Code And Configuration Is Important, Good and Easy", "abstract": "We argue for the value of publishing the exact code, configuration and data processing scripts used to produce empirical work in robotics. In particular, we recommend publishing a unique identifier for the code package in the paper itself, as a promise to the reader that this is the relavant code. We review some recent discussion of best practice for reproducibility in various professional organisations and journals, and discuss the current reward structure for publishing code in robotics, along with some ideas for improvement.", "histories": [["v1", "Tue, 10 Apr 2012 18:07:39 GMT  (17kb)", "http://arxiv.org/abs/1204.2235v1", "11 pages"]], "COMMENTS": "11 pages", "reviews": [], "SUBJECTS": "cs.RO cs.AI cs.DL", "authors": ["richard vaughan", "jens wawerla"], "accepted": false, "id": "1204.2235"}, "pdf": {"name": "1204.2235.pdf", "metadata": {"source": "CRF", "title": "Publishing Identifiable Experiment Code And Configuration Is Important, Good and Easy", "authors": ["Richard T. Vaughan", "Jens Wawerla"], "emails": ["vaughan@sfu.ca", "wawerla@sfu.ca"], "sections": [{"heading": null, "text": "ar Xiv: 120 4.22 35v1 [cs.RO] 1 0A pr2 012Publication of identifiable experiment code and configurationsImportant, good and simple questions Richard T. Vaughan Jens WawerlaSimon Fraser University {vaughan, wawerla} @ sfu.ca10 November 2009"}, {"heading": "1 Introduction", "text": "A few months ago, a PhD student in another country called me (Vaughan) to ask for the source code of one of my multi-robot simulation experiments, and the student had an idea for a modification that she thought would improve the performance of the system. By the standards of scientific practice, this was a perfectly reasonable request, and I felt obliged to give it to her. (iii) The student was able to re-conduct our experiments to ensure that we reported the results correctly. (iv) Check the code to make sure it actually implements the algorithm described in our paper. (iii) Change parameters and starting conditions to ensure that our results were not a curse of the respective experimental setting. (iv) Change the robot control code and quantitatively compare it with our originals. It would cost me nothing to make a copy of our code code, and its methodology would be impeccable."}, {"heading": "2 Publishing code is easy", "text": "It is not the first time that the EU Commission has taken such a step."}, {"heading": "2.1 What to do", "text": "1. The complete and exact source code, build scripts, configuration files, maps, log analysis scripts, a list of critical external dependencies, runtime details, and any other instructions and resources required for an experienced researcher to replicate the experiment should be packaged and downloaded by each reader free of charge and anonymous.2. The source package should be provided with a textual identifier specific to the version described in the essay, and the essay should include the identifier."}, {"heading": "2.2 Doing it easily", "text": "This can be done easily and inexpensively as follows: the code is merged into an archive file (tarball, gzip, etc.), and a digital signature is obtained using a cryptographic hash function such as SHA1 [24]; the archive is published on a reliable Internet host, and its URI and signature are published on paper; the archive can also be linked from the authors \"web publication list; when downloading the file, the user can find that the archive matches the signature on paper; the use of a good hash identifier makes it very difficult for authors to modify the code by error or design without the user / reader being able; modern software development tools make the process even easier; revision control systems such as Git1 automatically generate a cryptographic hash key for each version assigned, so there is a low probability that any two packages or versions have the same key."}, {"heading": "3 Publishing code is important", "text": "It is not the first time that the EU Commission has taken such a step."}, {"heading": "3.1 Falsifiability and shared artifacts", "text": "Publishing the actual experiment alongside the essay that describes and interprets it increases the scientific and practical value of the work. It is a long way to solving a problem that confronts our field from a philosophical point of view: the fact that we are a synthetic science that creates and examines artifacts, not a science that examines a universe common to all scientists. By reproducing and sharing our artifacts, we synthesize a common environment. Scientific assertions must be falsifiable. If I make a claim in an essay about a system that I created and to which you have no access, my assertion is not falsifiable in practice. My assertions are more scientifically valuable if I make them as easily falsifiable as possible, which I can achieve by publishing the artifacts."}, {"heading": "3.2 Repeatability and quantitative comparison", "text": "In the natural sciences, experimental results gain credibility after being repeated independently at least once. To be able to repeat an experiment, we often need many details that are not available in the work. Since we are often able to provide the accurate and complete experiment at negligible replication costs, we can achieve the best possible repeatability. Of course, we cannot prove that experiments are correct, and while a program is simply restarted, even this alone is not strong validation, as errors can be detected. Greater validation is achieved by completely1http: / / git-scm.com / 2http: / / github.com implementing the code or important parts of it, but by testing the new version using the original environment, as determined by inspecting the original code, we can improve our confidence in the outcomes. As in the whole of science, much work in robotics can be considered an incremental improvement of someone else's work. This requires mathematical rewriting based on the original language and natural implementation."}, {"heading": "4 Publishing code is good", "text": "It is not the first time that the EU Commission has taken such a step."}, {"heading": "4.1 Efficiency", "text": "Access to data sets and software implementations increases the efficiency of the scientific process in several ways. In the case of incremental work, it saves a lot of reintroduction effort. While the use of middleware such as Player [8], ROS3 and Microsoft Robotics Developer Studio4 has increased the reuse rate of code in recent years, these systems focus on low-level components and it is still unusual for a robot controller or the implementation of an algorithm to be essentially reused. Providing code by default would encourage reuse, especially if the code is of good quality."}, {"heading": "4.2 Quality", "text": "The quality of a research contribution depends on the soundness and originality of its theoretical basis, the depth of analysis, and the clarity and thoroughness of its presentation. It is assumed that the software that produces the results is correct, but implementation errors that greatly affect the outcome of an experiment are all too easy to detect. Even if an essay is a complete formal algorithm, discrepancies between the description and the implementation that led to the results are possible. Such discrepancies are impossible to detect without access to the source code. We can easily make code available for peer review, and we should be. Moreover, it is often argued that well-written and documented software has fewer errors. Developing software in the expectation that it will be reviewed and reused by experts is likely to result in roboticists writing better code, thus increasing the overall quality of work even before external review."}, {"heading": "5 Issues and objections", "text": "In fact, most of them are able to survive on their own."}, {"heading": "6 Encouraging Code Publication", "text": "How can the publication of source code constitute a Community standard? Provided the existence of some less suitable protocols is encouraged to use them. Although we believe that the quality of research and the efficiency gains should convince many researchers, such a policy seems impossible at the moment, although it is possible for individual journals and conferences. Perhaps a new journal or conference could have a differentiating function if the arguments above are correct."}, {"heading": "7 The Trend Toward Experiment Publishing", "text": "We have argued that publishing code and experimental data is important to the robotics research community, good for researchers, and easy to do. However, it is not common practice in our field. The idea of publishing experimental data and other artifacts beyond ready-made essays is not new, but it seems to be growing in popularity."}, {"heading": "7.1 Government and Funding Agency Policies", "text": "The US National Science Foundation (NSF) expects researchers to share with other researchers, at no more than incremental cost and within a reasonable period of time, the data, samples, physical collections and other supporting materialscreated or collected in the course of the work. It also encourages laureates to share software and inventions or otherwise act to make the innovations they embody widely useful and usable. [12] Since October 2003, the US National Institutes of Health (NIH) has been requesting grant applications for $500 per year or higher, a plan for data sharing or an explanation of why data sharing is not possible. [11] While the form of data sharing is not considered during application evaluation, the NIH is sending a clear signal for the publication of data. The Berlin Declaration on Open Access to Knowledge [2] can be considered an important milestone."}, {"heading": "7.2 Practice in non-robotics disciplines", "text": "According to Nielsen [18], physicists have made extensive use of the pre-print server arXiv since 1991, which makes scientific papers freely available while they are submitted to a journal for publication. Nielsen sees arXiv as an important tool to accelerate knowledge transfer, but goes even further by calling for the next generation of openness in science, by... \"providing more types of content than just scientific papers; by allowing creative reuse and modification of existing papers through more open licenses.\" Life sciences are undoubtedly leading the trend. For example, a document from the US National Academy of Sciences on best practice in life sciences [4] requires that authors be consistent with the principles of publication. This means that anything that is central to a paper must be made available in a way that allows replication, verification, and promotion of science. When it comes to publishing algorithms, these guidelines are very explicit: describing the complexity of an author's algorithm that might make it difficult to interpret."}, {"heading": "7.3 Journals", "text": "While scientists such as Leonardo da Vinci, Galileo Galilei, and Christiaan Huygens kept their discoveries secret [18], modern science is characterized by publications; the British Royal Society, in its Philosophical Transactions first published in 1665, ordered a peer review of published scientific articles, a policy that mirrored the philosophy of the Royal Society, which stated in its motto Nullius in Verba (nothing in words / don't take anyone's word for it) that scientific claims are valid only if they are reproducible. Since then, peer review journals have been the most important method of communicating scientific findings. Now that the cost of distributing large amounts of digital data - a small fraction of the total cost of an experiment or a paper publication - many journals require, in addition to traditional publication, the publication of data, samples, codes, and detailed method descriptions, or at least encourage it."}, {"heading": "7.3.1 Science", "text": "In 2004 and 2005, Science published two Stem Cell Papers (Science 303, 1669 (2004) and Science 308, 1777 (2005), which were later found to be fraudulent and withdrawn by the journal. As a result, Science commissioned an external committee to investigate the handling of the two papers and to propose improvements to the editorial process of its journal, which concluded that Science had followed its guidelines correctly and that no procedure could protect against deliberate fraud [9]. Interestingly, in connection with our paper, the committee's recommendation to improve the editorial process: \"Science should impose much stricter requirements on reporting of primary data.\" Today, Science requires that \u2022 large sets of data be deposited in approved public databases prior to publication, and an accession number be included in the published paper. \u2022 Any data necessary to understand, evaluate and expand the conclusions of the paper must be made available to the reader, with guidelines [12 and] all requests [4] to be met."}, {"heading": "7.3.2 Nature", "text": "The policy of the Nature Publishing Group regarding the availability of data for all its Nature publications is very similar: An inherent principle of publication is that others should be able to replicate and build on the published claims of the authors. Therefore, a prerequisite for publication in a Nature journal is that the authors must make material, data and associated protocols immediately available to readers without preconditions. [13] As in the case of Science, Nature requires the deposit of data sets in publicly available databases. Of great interest in relation to our work is Nature's policy of sharing biological material, which reads materials such as mutated strains and cell lines. Nature journals require the authors to use established public repositories whenever possible [...] and provide access numbers in the manuscript. [13] Nature has recently highlighted the importance of this issue on the front page of an issue that included a corresponding editorial and three news / opinion articles to make available to researchers at the same time [...] and provide access numbers in the manuscript."}, {"heading": "7.3.3 Others", "text": "Other journals such as Nucleic Acids Research [19] and the Publication Series of the Public Library of Science [23] have very similar guidelines for data sharing and access to research materials, and a less rigorous process is used by the Annals of Internal Medicine. In order to promote reproducible research and increase confidence in the scientific results of publications, the journal encourages authors to make their data publicly available and requires authors to include an explanation of whether or not materials are made available and under what conditions [10]."}, {"heading": "7.3.4 Robotics", "text": "The journal Autonomous Robots does not seem to have any guidelines for the publication of code and data, although it supports the bundling of complementary material such as videos and datasheets. IEEE Transactions on Robotics are similar, with no guidelines for the distribution of data or code. However, these are explicitly mentioned in the \"Multimedia\" instructions: multimedia can be \"playable\" files [...] or \"record files\" (e.g. raw data with programs to manipulate them). Such material is intended to improve the content of a paper both in clarity and added value."}, {"heading": "7.4 Impact on citation rates", "text": "A meta-study of cancer micorarray studies in 2007 found that publications that shared their micoarray data were cited about 70% more often [22] than those that did not. If this effect extends to robotics, authors would have an interest in publishing codes to increase their citations, and an increase in citations can also be achieved through publication in open access journals [6]."}, {"heading": "7.5 Related efforts", "text": "Schwab et al. [25] propose a system for sharing and reproducing calculations that uses their GNU make-based system as the main means of organizing and transferring scientific calculations in their geophysical laboratory. ReDoc's motivation is essentially the same as that described in this paper. Unfortunately, however, this tool does not seem to have had much impact on computer science so far. ReDoc is smart and powerful, but requires the user to learn to read special make macros. The method we advocate in this paper is simpler and does not prescribe a specific build system, and can be considered a subset of the ReDoc workflow."}, {"heading": "8 Sharing in Robotics", "text": "Various free-to-use robotics middleware and simulation platforms have been used over the past fifteen years, of which Carmen [7], Player [8] and most recently ROS6 are probably the most influential in research. Much6http: / / ros.org of the code sharing that has occurred is made possible by one of these three platforms, each of which is the result of many hours of work.ROS is currently the platform for a great deal of effort to boot a community based on shared resources. In 2010, Willow Garage7 used its unusual resources to equip ten groups with high-performance PR2 mobile manipulator robots that run ROS software on the condition that the resulting code is made available to later users. While the PR2 is too expensive to be ubiquitous, Willow Garage publishes a family of simulation models of its robot based on known and free platforms."}, {"heading": "9 Conclusion", "text": "We have also argued that code is a form of data that is particularly important for robotics research. Therefore, it is important to make experimental data, including code and configurations, publicly available for the advancement of robotics. We have also argued that the direct and indirect effects of publishing identifiable codes are good for the researcher sharing the code, as well as for the wider community. Other areas of research, particularly life sciences, have strong requirements for data exchange and open access to supporting materials alongside traditional paper publications. In the case of Nature, submitting biological material to a public repository is required. In robotics, sharing physical robots can be prohibitively expensive."}, {"heading": "Acknowledgements", "text": "Many thanks to Greg Mori, Alex Couture-Beil, Yaroslav Litus, Brian Gerkey, Gaurav Sukhatme and the organizers and participants of the RSS '09 Workshop on Methodology in Experimental Robotics for useful discussions on this topic.7http: / / willowgarage.com"}], "references": [{"title": "Literate Programming", "author": ["D.E. Knuth"], "venue": "The Computer Journal (British Computer Society), 27 (2) 97\u2013111,", "citeRegEx": "1", "shortCiteRegEx": null, "year": 1984}, {"title": "Sharing Publication-Related Data and Materials: Responsibilities of Authorship in the Life Sciences", "author": ["T.R. Cech"], "venue": "National Academy of Sciences,", "citeRegEx": "4", "shortCiteRegEx": "4", "year": 2003}, {"title": "What is a citation worth", "author": ["A.M. Diamond Jr"], "venue": "Journal of Human Resources, 21(2):200\u2013215,", "citeRegEx": "5", "shortCiteRegEx": null, "year": 1986}, {"title": "Citation advantage of open access articles", "author": ["G. Eysenbach"], "venue": "PLoS Biology, 4(5):e157,", "citeRegEx": "6", "shortCiteRegEx": null, "year": 2006}, {"title": "Perspectives on standardization in mobile robot programming: The Carnegie Mellon navigation (CARMEN) toolkit", "author": ["M. Montemerlo", "N. Roy", "S. Thrun"], "venue": "IEEE/RSJ Proceedings of the International Conference on Intelligent Robots and Systems, pages XX\u2013YY,", "citeRegEx": "7", "shortCiteRegEx": null, "year": 2003}, {"title": "Most valuable player: A robot device server for distributed control", "author": ["B.P. Gerkey", "R.T. Vaughan", "K. Stoy", "A. Howard", "G.S. Sukhatme", "M.J. Matari\u0107"], "venue": "IEEE/RSJ International Conference on Intelligent Robots and Systems, pages 1226 \u2013 1231,", "citeRegEx": "8", "shortCiteRegEx": null, "year": 2001}, {"title": "Responging to fraud", "author": ["D. Kennedy"], "venue": "Science, 314(5804):1353, December", "citeRegEx": "9", "shortCiteRegEx": null, "year": 2006}, {"title": "Reproducible research: moving toward research the public can really trust", "author": ["C. Laine", "S.N. Goodman", "M.E. Griswold", "H.C. Sox"], "venue": "Annals of Internal Medicine, 146(6):450454, March", "citeRegEx": "10", "shortCiteRegEx": null, "year": 2007}, {"title": "Post-publication sharing of data and tools", "author": ["P. Schofield", "T. Bubela", "T. Weaver", "L. Portilla", "S. Brown", "J. Hancock", "D. Einhorn", "G. Tocchini- Valentini", "M. Hrabe de Angelis", "N. Rosenthal"], "venue": "Nature, 461(7271):171-173,", "citeRegEx": "15", "shortCiteRegEx": "15", "year": 2009}, {"title": "Data sharing: Empty archives", "author": ["Bryn Nelson"], "venue": "Nature, 461(7271):160-163,", "citeRegEx": "17", "shortCiteRegEx": "17", "year": 2009}, {"title": "Doing science in the open", "author": ["M. Nielsen"], "venue": "Physicsworld, 22(5):30,", "citeRegEx": "18", "shortCiteRegEx": null, "year": 2009}, {"title": "Sharing detailed research data is associated with increased citation rate", "author": ["H.A. Piwowar", "R.S. Day", "D.B. Fridsma"], "venue": "PLoS ONE, 2(3):e308,", "citeRegEx": "22", "shortCiteRegEx": null, "year": 2007}, {"title": "RFC3174: US Secure Hash Algorithm 1 (SHA1)", "author": ["T. Hansen", "G. Wollman"], "venue": "Technical report,", "citeRegEx": "24", "shortCiteRegEx": "24", "year": 2001}, {"title": "Making scientific computations reproducible", "author": ["M. Schwab", "M. Karrenbach", "J. Clearbout"], "venue": "Computing in Science and Engineering, 2(6):61\u201367,", "citeRegEx": "25", "shortCiteRegEx": null, "year": 2000}, {"title": "How to break md5 and other hash functions", "author": ["X. Wang", "H. Yu"], "venue": "Eurocrypt 2005, volume 3494, pages 19\u201335. Lecture Notes in Computer Science, May", "citeRegEx": "27", "shortCiteRegEx": null, "year": 2005}], "referenceMentions": [{"referenceID": 12, "context": "The code is assembled into an archive file (tarball, gzip, etc), and a digital signature is obtained using a cryptographic hash function such as SHA1[24].", "startOffset": 149, "endOffset": 153}, {"referenceID": 5, "context": "While the use of middleware like Player[8], ROS, and Microsoft Robotics Developer Studio has increased the rate of code reuse in recent years, these systems focus on low-level components and it is still unusual for a robot controller or an implementation of an algorithm to be substantially reused.", "startOffset": 39, "endOffset": 42}, {"referenceID": 0, "context": "This idea is well developed in Knuth\u2019s literate programming model[1].", "startOffset": 65, "endOffset": 68}, {"referenceID": 10, "context": "2 Practice in non-robotics disciplines According to Nielsen [18] since 1991 physicists have made extensive use of the preprint server arXiv, which makes papers freely available at the same time as they are submitted to a journal for publication.", "startOffset": 60, "endOffset": 64}, {"referenceID": 1, "context": "For example a US National Academy of Sciences document on life science best practice [4] requires authors to be consistent with the principles of publication.", "startOffset": 85, "endOffset": 88}, {"referenceID": 1, "context": "[4]", "startOffset": 0, "endOffset": 3}, {"referenceID": 10, "context": "3 Journals While scientists like Leonardo da Vinci, Galileo Galilei and Christiaan Huygens kept their discoveries secret [18], modern science is characterized by publication.", "startOffset": 121, "endOffset": 125}, {"referenceID": 6, "context": "The committee concluded that Science had correctly followed their policies and that no procedure could protect against deliberate fraud [9].", "startOffset": 136, "endOffset": 139}, {"referenceID": 1, "context": "\u2022 all data necessary to understand, assess, and extend the conclusions of the paper must be made available to the reader, flowing the policies of [12] and [4].", "startOffset": 155, "endOffset": 158}, {"referenceID": 9, "context": "Various reasons why many researchers choose not to share, despite the existence of purpose-built infrastructure, are discussed in the context of the perceived failure of a digital archive project at the University of Rochester[17].", "startOffset": 226, "endOffset": 230}, {"referenceID": 8, "context": "A distinction is made between the issues of pre-publication [16] and post-publication [15] sharing of data and tools.", "startOffset": 86, "endOffset": 90}, {"referenceID": 7, "context": "To foster reproducible research and to enhance trust in scientific results of publications, the journal encourages authors to make their data publicly available and mandates authors to include a statement of whether materials are being made available or not and if under which conditions [10].", "startOffset": 288, "endOffset": 292}, {"referenceID": 2, "context": "4 Impact on citation rates Citation counts are commonly used to assess the impact of an author\u2019s work [5].", "startOffset": 102, "endOffset": 105}, {"referenceID": 11, "context": "A 2007 meta-study of cancer micorarray clinical trials revealed that papers which shared their mircoarray data were cited about 70% more frequently [22] than those that did not.", "startOffset": 148, "endOffset": 152}, {"referenceID": 3, "context": "An increase in citations can also be achieved by publishing in open-access journals [6].", "startOffset": 84, "endOffset": 87}, {"referenceID": 13, "context": "[25], who use their system, based on GNU make, as the principal means for organizing and transferring scientific computations in their geophysics laboratory.", "startOffset": 0, "endOffset": 4}, {"referenceID": 4, "context": "Various free-to-use middleware and simulartion platforms for robotics have been used over the last fifteen years, of which Carmen[7], Player[8] and recently ROS are probably the most influential in research.", "startOffset": 129, "endOffset": 132}, {"referenceID": 5, "context": "Various free-to-use middleware and simulartion platforms for robotics have been used over the last fifteen years, of which Carmen[7], Player[8] and recently ROS are probably the most influential in research.", "startOffset": 140, "endOffset": 143}], "year": 2013, "abstractText": "A few months ago, a graduate student in another country called me (Vaughan) to ask for the source code of one of my multi-robot simulation experiments. The student had an idea for a modification that she thought would improve the system\u2019s performance. By the standards of scientific practice this was a perfectly reasonable request and I felt obliged to give it to her. With our original code, the student could (i) re-run our experiments to verify that we reported the results correctly; (ii) inspect the code to make sure that it actually implements the algorithm described in our paper; (iii) change parameters and initial conditions to make sure our results were not a fluke of the particular experimental setting; (iv) modify the robot controllers and quantitatively compare her new method with our originals. It would cost me nothing to make her a copy of our code, and her methodology would be impeccable. Why then do we read so few papers using this methodology? It turned out to be impossible to identify exactly which code was used to perform the experiments in our years-old paper. We had not labeled the source code at that moment, and it had subsequently been modified. All the code was under version control, so we could obtain approximately the right code by looking at revision dates. But having only approximately the right code strictly invalidates the replication of the experiments. The user has no way of knowing what the differences are between the code she has and the code we used. So we were able to offer the requesting student some code that may or may not be that used in the paper. This was better than nothing, but not good enough, and we suspect this is quite typical in our community. This disappointing episode was a wake-up call for me, and our group has been discussing how we can make sure this doesn\u2019t happen again. We propose to routinely publish the exact code for each experiment that we use to justify any claims at all. This paper explains why we think complete experiment publication is important and why it is good for the originating researchers as well as subsequent users. The second half of the paper examines current standards of scientific data and code publications, and cites some evidence of its benefits. But first we present our protocol for publishing identifiable code and show how easy it is to do.", "creator": "LaTeX with hyperref package"}}}