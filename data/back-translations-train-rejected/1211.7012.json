{"id": "1211.7012", "review": {"conference": "arxiv", "VERSION": "v1", "DATE_OF_SUBMISSION": "29-Nov-2012", "title": "Learning-Assisted Automated Reasoning with Flyspeck", "abstract": "The considerable mathematical knowledge encoded by the Flyspeck project is combined with external automated theorem provers (ATPs) and machine-learning premise selection methods trained on the proofs, producing an AI system capable of answering a wide range of mathematical queries automatically. The performance of this architecture is evaluated in a bootstrapping scenario emulating the development of Flyspeck from axioms to the last theorem, each time using only the previous theorems and proofs. It is shown that 39% of the 14185 theorems could be proved in a push-button mode (without any high-level advice and user interaction) in 30 seconds of real time on a fourteen-CPU workstation. The necessary work involves: (i) an implementation of sound translations of the HOL Light logic to ATP formalisms: untyped first-order, polymorphic typed first-order, and typed higher-order, (ii) export of the dependency information from HOL Light and ATP proofs for the machine learners, and (iii) choice of suitable representations and methods for learning from previous proofs, and their integration as advisors with HOL Light. This work is described and discussed here, and an initial analysis of the body of proofs that were found fully automatically is provided.", "histories": [["v1", "Thu, 29 Nov 2012 18:15:10 GMT  (80kb)", "https://arxiv.org/abs/1211.7012v1", null], ["v2", "Sun, 17 Feb 2013 09:20:30 GMT  (81kb)", "http://arxiv.org/abs/1211.7012v2", null], ["v3", "Sun, 26 Oct 2014 15:02:54 GMT  (83kb)", "http://arxiv.org/abs/1211.7012v3", null]], "reviews": [], "SUBJECTS": "cs.AI cs.DL cs.LG cs.LO", "authors": ["cezary kaliszyk", "josef urban"], "accepted": false, "id": "1211.7012"}, "pdf": {"name": "1211.7012.pdf", "metadata": {"source": "CRF", "title": null, "authors": ["Cezary Kaliszyk", "Josef Urban"], "emails": [], "sections": [{"heading": null, "text": "ar Xiv: 121 1.70 12v3 [cs.AI] 26 Oct 201 4The necessary work includes: (i) the implementation of sound translations of HOL Light logic into ATP formalities: unwritten first-order firsts, polymorphic firsts and typed firsts of higher order, (ii) the export of dependency information from HOL Light and ATP proofs for machine learners, and (iii) the selection of suitable representations and methods for learning from previous proofs and their integration as consultants with HOL Light. This work is described and discussed here, and a first analysis of the evidence found fully automatically is planned. Cezary Kaliszyk, supported by the FWF scholarship P26201 of the University of Innsbruck, AustriaJosef Urban, is funded by the NWO funding Knowledge-based Reasoning Radboud University, Nijmegen."}, {"heading": "1 Introduction and Motivation", "text": "\"It is the view of some of us that many people who have easily contributed to the QED project have been distracted by the alluring lure of AI or AR.\" - The QED Manifesto \"So it will take 140 years to create a good basic library of formal mathematics.\" - Freek Wiedijk \"We will encourage you to develop the three great virtues of a programmer: laziness, impatience and hubris.\" - Larry Wall, Programming Perl [83] \"And in demonstration logic itself is not everything.\" The true mathematical reasoning is a real production [...] \"Henri Poincare,\" \"science and\" theory, \"\" which identifies with others, \"\" which externally automates an externally first order, \"\" we automated theorem proorem \"(ATPs) such as vampires [46], E [67],\" FASS, \"and more recently SMT.\""}, {"heading": "3 Exporting Theorem Problems for Re-proving with ATPs", "text": "In our earlier initial experiments [44], it was found that the ATP problems caused by calls to the MESON tactic in the HOL Light and Flyspeck libraries are very simple for the state-of-the-art ATPs. Part of this ease may have been caused by the (generally unsolid) fusion of various polymorphic versions of equality used by MESON in only one standard first order theory level. [14] However, after a manual random inspection, it still seemed that the ratio of such unsolid evidence is low and the MESON problems are simply too simple. Therefore, only the set of problems at the theory level is considered for experiments. [14] The theory level appears to be quite similar in the most important ITPs: theorem typically does not correspond to what mathematicians call a theorem, but it is rather an autarkic problem with a formal proof of several dozen (exceptionally hundreds) lines that can be called formal problems and should be useful in other proofs."}, {"heading": "3.1.1 Collecting and Naming of Theorems", "text": "The first step in this direction is to decide what a relevant theorem should be and what to do to understand its canonical terms. (This means that each theorem or tactic is just an OCaml value, which additionally takes the name of the disturbed object, while some are just pointed at the fly and immediately forgotten.) In the relevant export-oriented work of Obua [57], every occurrence of the HOL command is replaced by a command that additionally records the name of the disturbed object. (It also captures the entire flyspeck library by writing down the names for the following commands: Prove, new _ recursive _ definition, new _ definition, new _ inductive _ definition."}, {"heading": "3.1.2 Dependency Recording", "text": "In fact, most of us are able to set out in search of the new paths that we want to take in order to conquer the world."}, {"heading": "4 Premise Selection", "text": "This year, it has reached the point where it will be able to retaliate."}, {"heading": "5 Experiments", "text": "In fact, most of them will be able to go to another world, where they can go to another world, where they can go to another world, where they can go to another world."}, {"heading": "5.2.1 Further Premise Selection Improvements", "text": "This year has never gone as far as this year."}, {"heading": "5.2.2 Performance of different premise slices", "text": "Fig. 1 shows how the performance of ATP changes when using different numbers of the best rated premises, which in turn is evaluated in 30 seconds on the subset of the 1419 problems, i.e. the performance of vampires is likely to be better (compared to Epar) if a higher time limit was used. To some extent, this graph also serves as a comparison of the first-stage premise selection (in this case naive bayes trained on the minimized evidence) with the second-stage premise selection (various SInE strategies tried by the ATPs). Z3 has no second-stage premise selection, and after 250 premiums, the performance drops quite quickly (12.4% with 256 premiums vs. 6.2% with 740 premiums).For vampires, this decrease is more moderate (18.1% versus 12.9%).Epar remains above 20% on 512 premiums and falls to only 15.6% on premiums of the present-stage premise, so that the first-stage margins can be compensated for at least 6.9%."}, {"heading": "5.2.3 The Final Combination and Higher Time Limits", "text": "It is clear that the entire learning / ATPAI system can (and will) be improved in various interesting ways and for a long time to come. 32 When the number of small-scale assessments reached several hundred and the main initial problems seemed to be corrected, 32 In 2008, after a month of MaLARea across the entire MML, new evidence was still discovered. Analyzing the evidence and improving this AI over an interesting corpus is addictive. An overall assessment of the (greedy) best combination of 14 methods was conducted over the entire set of 14185 flyspeck problems within a 300-year time limit. Together, these 14 methods prove 39% of the theorems when performed in parallel for 30 seconds (see Table 14), which is also the way they are executed in the online service. The large-scale assessment shows in Table 15 and Table 16. Table 15 sorts the methods based on their 300-year performance, and Table 16 calculates the corresponding greedy coverage sequence."}, {"heading": "6 Initial Comparison of the Advised and Original Proofs", "text": "There is only one reason why it has come to this: \"It is as if it is a way,\" he says. \"It is as if it is a way.\" (\"It is as if it is a way.\") \"It is as if it is a way.\" (\"It is as if it is a way.\") \"It is as if it is a way.\" (\"It is as if it is a way.\") \"It is as if it is a way.\" (\"It is as if it is a way.\") \"It is as if it is a way.\" It is as if it is a way. \"It is as if it is a way.\" It is as if it is a way. \"It is as if it is a way.\" It is as if it is a way. \"It is as if it is an idea.\" It is an idea. \""}, {"heading": "7 Related Work and Contributions", "text": "This year, it has reached the stage where it will be able to take the lead."}, {"heading": "8 Future Work", "text": "The prototype of the online service could be made adaptable by learning from users \"own evidence. So far, only three ATPs are used by the service, but many other systems can eventually be added, possibly with different custom mappings to their logic. Translation methods can be experimented with further: either to obtain a symbol-consistent first-order translation (for example, to enable model evaluation features), or to obtain less incomplete translations. Proof reconstruction is currently in progress. A simple and obvious approach is to try MESON with the minimized set of dependencies. 49 A similar large-scale evaluation for Isabelle would be uninteresting. It is not clear whether the current\" Judgement Day \"benchmark contains goals at the same (theorem) level of grandeur."}, {"heading": "9 Acknowledgments", "text": "Thanks to John Harrison for discussing MESON and related topics. Mark Adams gave us his HOL Light proof export data for HOL Zero, which made it easy for us to start the first test and learning experiments. Piotr Rudnicki made his Mizar workplace available for a series of experiments (and his enthusiasm and support will be sorely missed). Andrej Paskevich implemented the Why3 bridge to the TFF1 format just in time for our experiments. Finally, this work stands on the shoulders of many ATP and ITP developers (especially HOL and Isabelle) as well as tireless organizers of ATP competitions and standard generators. We are grateful to the JAR referees, PAAR 2012 referees and Jasmin Blanchette for their detailed comments on the early versions of this paper."}], "references": [{"title": "Introducing HOL Zero - (extended abstract)", "author": ["Mark Adams"], "venue": "ICMS, volume 6327 of LNCS,", "citeRegEx": "1", "shortCiteRegEx": "1", "year": 2010}, {"title": "MetiTarski: An automatic theorem prover for real-valued special functions", "author": ["Behzad Akbarpour", "Lawrence C. Paulson"], "venue": "J. Autom. Reasoning,", "citeRegEx": "2", "shortCiteRegEx": "2", "year": 2010}, {"title": "Large formal wikis: Issues and solutions", "author": ["Jesse Alama", "Kasper Brink", "Lionel Mamane", "Josef Urban"], "venue": null, "citeRegEx": "3", "shortCiteRegEx": "3", "year": 2011}, {"title": "Premise selection for mathematics by corpus analysis and kernel methods", "author": ["Jesse Alama", "Tom Heskes", "Daniel K\u00fchlwein", "Evgeni Tsivtsivadze", "Josef Urban"], "venue": "J. Autom. Reasoning,", "citeRegEx": "4", "shortCiteRegEx": "4", "year": 2014}, {"title": "Automated Reasoning, 4th International Joint Conference, IJCAR 2008, Sydney, Australia", "author": ["Alessandro Armando", "Peter Baumgartner", "Gilles Dowek", "editors"], "venue": "August 12-15,", "citeRegEx": "6", "shortCiteRegEx": "6", "year": 2008}, {"title": "Automatic derivation of the irrationality of e", "author": ["Michael Beeson"], "venue": "J. Symb. Comput.,", "citeRegEx": "7", "shortCiteRegEx": "7", "year": 2001}, {"title": "On computer-assisted proofs in ordinal number theory", "author": ["Johan G.F. Belinfante"], "venue": "J. Autom. Reasoning,", "citeRegEx": "8", "shortCiteRegEx": "8", "year": 1999}, {"title": "Automated Deduction CADE-23 - 23rd International Conference on Automated Deduction", "author": ["Nikolaj Bj\u00f8rner", "Viorica Sofronie-Stokkermans", "editors"], "venue": "Wroc law, Poland, July 31 - August", "citeRegEx": "10", "shortCiteRegEx": "10", "year": 2011}, {"title": "Logic for Programming, Artificial Intelligence, and Reasoning - 18th International Conference, LPAR-18, M\u00e9rida, Venezuela", "author": ["Nikolaj Bj\u00f8rner", "Andrei Voronkov", "editors"], "venue": "March 11-15,", "citeRegEx": "11", "shortCiteRegEx": "11", "year": 2012}, {"title": "Automatic Proofs and Refutations for Higher-Order Logic", "author": ["Jasmin Christian Blanchette"], "venue": "PhD thesis, Fakulta\u0308t fu\u0308r Informatik, Technische Universita\u0308t Mu\u0308nchen,", "citeRegEx": "12", "shortCiteRegEx": "12", "year": 2012}, {"title": "Encoding monomorphic and polymorphic types", "author": ["Jasmin Christian Blanchette", "Sascha B\u00f6hme", "Andrei Popescu", "Nicholas Smallbone"], "venue": "editors, TACAS,", "citeRegEx": "14", "shortCiteRegEx": "14", "year": 2013}, {"title": "Automatic proof and disproof in Isabelle/HOL", "author": ["Jasmin Christian Blanchette", "Lukas Bulwahn", "Tobias Nipkow"], "venue": "FroCoS, volume 6989 of LNCS,", "citeRegEx": "15", "shortCiteRegEx": "15", "year": 2011}, {"title": "TFF1: The TPTP typed first-order form with rank-1 polymorphism", "author": ["Jasmin Christian Blanchette", "Andrei Paskevich"], "venue": "editor, CADE,", "citeRegEx": "16", "shortCiteRegEx": "16", "year": 2013}, {"title": "More SPASS with Isabelle - superposition with hard sorts and configurable simplification", "author": ["Jasmin Christian Blanchette", "Andrei Popescu", "Daniel Wand", "Christoph Weidenbach"], "venue": "In Lennart Beringer and Amy P. Felty, editors, ITP,", "citeRegEx": "17", "shortCiteRegEx": "17", "year": 2012}, {"title": "Sledgehammer: Judgement Day", "author": ["Sascha B\u00f6hme", "Tobias Nipkow"], "venue": "editors, IJCAR,", "citeRegEx": "18", "shortCiteRegEx": "18", "year": 2010}, {"title": "The SNoW Learning Architecture", "author": ["Andy Carlson", "Chad Cumby", "Jeff Rosen", "Dan Roth"], "venue": "Technical Report UIUCDCS-R-99-2101, UIUC Computer Science Department,", "citeRegEx": "20", "shortCiteRegEx": "20", "year": 1999}, {"title": "A formulation of the simple theory of types", "author": ["Alonzo Church"], "venue": "Journal of Symbolic Logic,", "citeRegEx": "21", "shortCiteRegEx": "21", "year": 1940}, {"title": "Interpretation of a Mizar-like logic in first-order logic", "author": ["Ingo Dahn"], "venue": "FTP (LNCS Selection),", "citeRegEx": "22", "shortCiteRegEx": "22", "year": 1998}, {"title": "First order proof problems extracted from an article in the MIZAR Mathematical Library", "author": ["Ingo Dahn", "Christoph Wernhard"], "venue": "Int. Workshop on First-Order Theorem Proving (FTP\u201997), RISC-Linz Report Series No", "citeRegEx": "23", "shortCiteRegEx": "23", "year": 1997}, {"title": "An Efficient SMT Solver", "author": ["Leonardo Mendon\u00e7a de Moura", "Nikolaj Bj\u00f8rner. Z"], "venue": "editors, TACAS,", "citeRegEx": "24", "shortCiteRegEx": "24", "year": 2008}, {"title": "The Why/Krakatoa/Caduceus platform for deductive program verification", "author": ["Jean-Christophe Filli\u00e2tre", "Claude March\u00e9"], "venue": null, "citeRegEx": "25", "shortCiteRegEx": "25", "year": 2007}, {"title": "Automated Reasoning, Third International Joint Conference, IJCAR", "author": ["Ulrich Furbach", "Natarajan Shankar", "editors"], "venue": "Proceedings, volume 4130 of LNCS. Springer,", "citeRegEx": "26", "shortCiteRegEx": "26", "year": 2006}, {"title": "Knowledge Interchange Format, Version 3.0 Reference Manual", "author": ["Michael R. Genesereth", "Richard E. Fikes"], "venue": "Technical Report Logic-92-1,", "citeRegEx": "28", "shortCiteRegEx": "28", "year": 1992}, {"title": "Automated Reasoning - 6th International Joint Conference, IJCAR", "author": ["Bernhard Gramlich", "Dale Miller", "Uli Sattler", "editors"], "venue": null, "citeRegEx": "29", "shortCiteRegEx": "29", "year": 2012}, {"title": "Common syntax of the DFGSchwerpunktprogramm deduction", "author": ["Reiner H\u00e4hnle", "Manfred Kerber", "Christoph Weidenbach"], "venue": "Technical Report TR 10/96,", "citeRegEx": "30", "shortCiteRegEx": "30", "year": 1996}, {"title": "Introduction to the Flyspeck project", "author": ["Thomas C. Hales"], "venue": "Dagstuhl Seminar Proceedings,", "citeRegEx": "31", "shortCiteRegEx": "31", "year": 2006}, {"title": "Mathematics in the age of the Turing machine", "author": ["Thomas C. Hales"], "venue": "Lecture Notes in Logic,", "citeRegEx": "32", "shortCiteRegEx": "32", "year": 2012}, {"title": "A revision of the proof of the Kepler Conjecture", "author": ["Thomas C. Hales", "John Harrison", "Sean McLaughlin", "Tobias Nipkow", "Steven Obua", "Roland Zumkeller"], "venue": "Discrete & Computational Geometry,", "citeRegEx": "33", "shortCiteRegEx": "33", "year": 2010}, {"title": "HOL Light: A tutorial introduction", "author": ["John Harrison"], "venue": "FMCAD, volume 1166 of LNCS,", "citeRegEx": "34", "shortCiteRegEx": "34", "year": 1996}, {"title": "A Mizar mode for HOL", "author": ["John Harrison"], "venue": "TPHOLs, volume 1125 of LNCS,", "citeRegEx": "35", "shortCiteRegEx": "35", "year": 1996}, {"title": "Optimizing Proof Search in Model Elimination", "author": ["John Harrison"], "venue": "Proceedings of the 13th International Conference on Automated Deduction,", "citeRegEx": "36", "shortCiteRegEx": "36", "year": 1996}, {"title": "The principal type-scheme of an object in combinatory logic", "author": ["R. Hindley"], "venue": "Transactions of the American Mathematical Society,", "citeRegEx": "37", "shortCiteRegEx": "37", "year": 1969}, {"title": "Integrating Gandalf and HOL", "author": ["Joe Hurd"], "venue": "TPHOLs, volume 1690 of LNCS,", "citeRegEx": "39", "shortCiteRegEx": "39", "year": 1999}, {"title": "An LCF-style interface between HOL and first-order logic", "author": ["Joe Hurd"], "venue": "CADE, volume 2392 of Lecture Notes in Computer Science,", "citeRegEx": "40", "shortCiteRegEx": "40", "year": 2002}, {"title": "First-order proof tactics in higher-order logic theorem provers", "author": ["Joe Hurd"], "venue": "Technical Reports,", "citeRegEx": "41", "shortCiteRegEx": "41", "year": 2003}, {"title": "Web interfaces for proof assistants", "author": ["Cezary Kaliszyk"], "venue": "Electr. Notes Theor. Comput. Sci.,", "citeRegEx": "42", "shortCiteRegEx": "42", "year": 2007}, {"title": "Scalable LCF-style proof translation", "author": ["Cezary Kaliszyk", "Alexander Krauss"], "venue": "Proc. of the 4th International Conference on Interactive Theorem Proving (ITP\u201913),", "citeRegEx": "43", "shortCiteRegEx": "43", "year": 2013}, {"title": "Initial experiments with external provers and premise selection on HOL Light corpora", "author": ["Cezary Kaliszyk", "Josef Urban"], "venue": "EPiC Series,", "citeRegEx": "44", "shortCiteRegEx": "44", "year": 2013}, {"title": "First-order theorem proving and Vampire", "author": ["Laura Kov\u00e1cs", "Andrei Voronkov"], "venue": "CAV, volume 8044 of Lecture Notes in Computer Science,", "citeRegEx": "46", "shortCiteRegEx": "46", "year": 2013}, {"title": "Learning from multiple proofs: First experiments", "author": ["Daniel Kuehlwein", "Josef Urban"], "venue": "editors, PAAR-2012,", "citeRegEx": "47", "shortCiteRegEx": "47", "year": 2013}, {"title": "Mechanical theorem proving by model elimination", "author": ["Donald W. Loveland"], "venue": "Journal of the ACM,", "citeRegEx": "49", "shortCiteRegEx": "49", "year": 1968}, {"title": "Automated Theorem Proving: A Logical Basis", "author": ["Donald W. Loveland"], "venue": null, "citeRegEx": "50", "shortCiteRegEx": "50", "year": 1978}, {"title": "Ontic: a knowledge representation system for mathematics", "author": ["David A. McAllester"], "venue": null, "citeRegEx": "51", "shortCiteRegEx": "51", "year": 1989}, {"title": "Prover9 and Mace4. http://www.cs.unm.edu/~mccune/prover9", "author": ["William McCune"], "venue": null, "citeRegEx": "52", "shortCiteRegEx": "52", "year": 2005}, {"title": "Ivy: A Preprocessor and Proof Checker for First-Order Logic", "author": ["William McCune", "Olga Shumsky Matlin"], "venue": null, "citeRegEx": "53", "shortCiteRegEx": "53", "year": 2000}, {"title": "System description: Tramp: Transformation of machine-found proofs into nd-proofs at the assertion level", "author": ["Andreas Meier"], "venue": "CADE, volume 1831 of LNCS,", "citeRegEx": "55", "shortCiteRegEx": "55", "year": 2000}, {"title": "Translating higher-order clauses to first-order clauses", "author": ["Jia Meng", "Lawrence C. Paulson"], "venue": "J. Autom. Reasoning,", "citeRegEx": "56", "shortCiteRegEx": "56", "year": 2008}, {"title": "A generic tableau prover and its integration with Isabelle", "author": ["Lawrence C. Paulson"], "venue": "J. UCS,", "citeRegEx": "58", "shortCiteRegEx": "58", "year": 1999}, {"title": "Three years of experience with Sledgehammer, a practical link between automated and interactive theorem provers", "author": ["Lawrence C. Paulson", "Jasmin Blanchette"], "venue": "IWIL,", "citeRegEx": "59", "shortCiteRegEx": "59", "year": 2010}, {"title": "Source-level proof reconstruction for interactive theorem proving", "author": ["Lawrence C. Paulson", "Kong Woei Susanto"], "venue": "TPHOLs, volume 4732 of LNCS,", "citeRegEx": "60", "shortCiteRegEx": "60", "year": 2007}, {"title": "First order reasoning on a large ontology", "author": ["Adam Pease", "Geoff Sutcliffe"], "venue": "CEUR Workshop Proceedings. CEUR-WS.org,", "citeRegEx": "61", "shortCiteRegEx": "61", "year": 2007}, {"title": "The HOL logic", "author": ["Andrew Pitts"], "venue": null, "citeRegEx": "62", "shortCiteRegEx": "62", "year": 1993}, {"title": "The foundations of science: Science and hypothesis, The value of science, Science and method", "author": ["Henri Poincar\u00e9"], "venue": null, "citeRegEx": "63", "shortCiteRegEx": "63", "year": 1913}, {"title": "Automated Development of Fundamental Mathematical Theories", "author": ["Art Quaife"], "venue": "Kluwer Academic Publishers,", "citeRegEx": "65", "shortCiteRegEx": "65", "year": 1992}, {"title": "On the integrity of a repository of formalized mathematics", "author": ["Piotr Rudnicki", "Andrzej Trybulec"], "venue": "MKM, volume 2594 of LNCS,", "citeRegEx": "66", "shortCiteRegEx": "66", "year": 2003}, {"title": "E - A Brainiac Theorem Prover", "author": ["Stephan Schulz"], "venue": "AI Commun.,", "citeRegEx": "67", "shortCiteRegEx": "67", "year": 2002}, {"title": "System description: An interface between CLAM and HOL", "author": ["Konrad Slind", "Michael J.C. Gordon", "Richard J. Boulton", "Alan Bundy"], "venue": null, "citeRegEx": "68", "shortCiteRegEx": "68", "year": 1998}, {"title": "Automated Reasoning in Higher-Order Logic using the TPTP THF Infrastructure", "author": ["Geoff Sutcliffe", "Christoph Benzm\u00fcller"], "venue": "Journal of Formalized Reasoning,", "citeRegEx": "69", "shortCiteRegEx": "69", "year": 2010}, {"title": "Translating Mizar for first order theorem provers", "author": ["Josef Urban"], "venue": "In MKM, volume 2594 of LNCS,", "citeRegEx": "72", "shortCiteRegEx": "72", "year": 2003}, {"title": "MPTP - Motivation, Implementation, First Experiments", "author": ["Josef Urban"], "venue": "Journal of Automated Reasoning,", "citeRegEx": "73", "shortCiteRegEx": "73", "year": 2004}, {"title": "MoMM - fast interreduction and retrieval in large libraries of formalized mathematics", "author": ["Josef Urban"], "venue": "Int. J. on Artificial Intelligence Tools,", "citeRegEx": "74", "shortCiteRegEx": "74", "year": 2006}, {"title": "MPTP 0.2: Design, implementation, and initial experiments", "author": ["Josef Urban"], "venue": "J. Autom. Reasoning,", "citeRegEx": "75", "shortCiteRegEx": "75", "year": 2006}, {"title": "An Overview of Methods for Large-Theory Automated Theorem Proving (Invited Paper)", "author": ["Josef Urban"], "venue": "ATE Workshop,", "citeRegEx": "76", "shortCiteRegEx": "76", "year": 2011}, {"title": "BliStr: The Blind Strategymaker", "author": ["Josef Urban"], "venue": "CoRR, abs/1301.2683,", "citeRegEx": "77", "shortCiteRegEx": "77", "year": 2014}, {"title": "ATP and presentation service for Mizar formalizations", "author": ["Josef Urban", "Piotr Rudnicki", "Geoff Sutcliffe"], "venue": "J. Autom. Reasoning,", "citeRegEx": "78", "shortCiteRegEx": "78", "year": 2013}, {"title": "Automated reasoning and presentation support for formalizing mathematics in Mizar", "author": ["Josef Urban", "Geoff Sutcliffe"], "venue": null, "citeRegEx": "79", "shortCiteRegEx": "79", "year": 2010}, {"title": "Theorem proving in large formal mathematics as an emerging AI field", "author": ["Josef Urban", "J\u01d0\u0155\u0131 Vysko\u010dil"], "venue": "Automated Reasoning and Mathematics: Essays in Memory of William McCune, volume 7788 of LNAI,", "citeRegEx": "81", "shortCiteRegEx": "81", "year": 2013}, {"title": "MaLeCoP: Machine learning connection prover", "author": ["Josef Urban", "J\u01d0\u0155\u0131 Vysko\u010dil", "Petr \u0160t\u011bp\u00e1nek"], "venue": "editors, TABLEAUX,", "citeRegEx": "82", "shortCiteRegEx": "82", "year": 2011}, {"title": "System description: SPASS version 1.0.0", "author": ["Christoph Weidenbach", "Bijan Afshordel", "Uwe Brahm", "Christian Cohrs", "Thorsten Engel", "Enno Keen", "Christian Theobalt", "Dalibor Topi\u0107"], "venue": null, "citeRegEx": "84", "shortCiteRegEx": "84", "year": 1999}, {"title": "SPASS Version 3.5", "author": ["Christoph Weidenbach", "Dilyana Dimova", "Arnaud Fietzke", "Rohit Kumar", "Martin Suda", "Patrick Wischnewski"], "venue": "editor, CADE,", "citeRegEx": "85", "shortCiteRegEx": "85", "year": 2009}, {"title": "Estimating the cost of a standard library for a mathematical proof checker", "author": ["Freek Wiedijk"], "venue": null, "citeRegEx": "86", "shortCiteRegEx": "86", "year": 2001}, {"title": "A synthesis of the procedural and declarative styles of interactive theorem proving", "author": ["Freek Wiedijk"], "venue": "Logical Methods in Computer Science,", "citeRegEx": "87", "shortCiteRegEx": "87", "year": 2012}], "referenceMentions": [{"referenceID": 70, "context": "\u201d \u2013 Freek Wiedijk [86]", "startOffset": 18, "endOffset": 22}, {"referenceID": 52, "context": "]\u201d \u2013 Henri Poincar\u00e9, Science and Method [63]", "startOffset": 40, "endOffset": 44}, {"referenceID": 38, "context": "Use of external first-order automated theorem provers (ATPs) like Vampire [46], E [67], SPASS [85], and recently also SMT (satisfiability modulo theories) solvers like Z3 [24] for (large-theory) formalization has been developed considerably in the recent decade.", "startOffset": 74, "endOffset": 78}, {"referenceID": 55, "context": "Use of external first-order automated theorem provers (ATPs) like Vampire [46], E [67], SPASS [85], and recently also SMT (satisfiability modulo theories) solvers like Z3 [24] for (large-theory) formalization has been developed considerably in the recent decade.", "startOffset": 82, "endOffset": 86}, {"referenceID": 69, "context": "Use of external first-order automated theorem provers (ATPs) like Vampire [46], E [67], SPASS [85], and recently also SMT (satisfiability modulo theories) solvers like Z3 [24] for (large-theory) formalization has been developed considerably in the recent decade.", "startOffset": 94, "endOffset": 98}, {"referenceID": 19, "context": "Use of external first-order automated theorem provers (ATPs) like Vampire [46], E [67], SPASS [85], and recently also SMT (satisfiability modulo theories) solvers like Z3 [24] for (large-theory) formalization has been developed considerably in the recent decade.", "startOffset": 171, "endOffset": 175}, {"referenceID": 11, "context": "Particularly in the Isabelle community, the Sledgehammer [13,15] bridge to such external tools is getting increasingly popular.", "startOffset": 57, "endOffset": 64}, {"referenceID": 62, "context": "Methods for automated selection of relevant knowledge and for proof guidance are actively developed [76], together with specialized automated systems targeted at particular mathematical domains [2, 7, 64].", "startOffset": 100, "endOffset": 104}, {"referenceID": 1, "context": "Methods for automated selection of relevant knowledge and for proof guidance are actively developed [76], together with specialized automated systems targeted at particular mathematical domains [2, 7, 64].", "startOffset": 194, "endOffset": 204}, {"referenceID": 5, "context": "Methods for automated selection of relevant knowledge and for proof guidance are actively developed [76], together with specialized automated systems targeted at particular mathematical domains [2, 7, 64].", "startOffset": 194, "endOffset": 204}, {"referenceID": 12, "context": "Formats and translation methods handling more formalization-friendly foundations are being defined [16,27,70], and metasystems that decide which ATP, translation method, strategy, parallelization, and premises to use to solve a given problem with limited resources are being designed [59, 80].", "startOffset": 99, "endOffset": 109}, {"referenceID": 48, "context": "Formats and translation methods handling more formalization-friendly foundations are being defined [16,27,70], and metasystems that decide which ATP, translation method, strategy, parallelization, and premises to use to solve a given problem with limited resources are being designed [59, 80].", "startOffset": 284, "endOffset": 292}, {"referenceID": 52, "context": "Perhaps not only Hilbert and Turing, but also the formality-opposing and intuition-oriented Poincar\u00e9 [63] would have been interested to learn about the new \u201csemantic AI paradise\u201d of such large corpora of fully computer-understandable mathematics (from which we do not intend to be expelled).", "startOffset": 101, "endOffset": 105}, {"referenceID": 28, "context": "The HOL Light [34] system is probably the first among the existing well-known interactive theorem provers (ITPs) which has integrated and extensively used a general ATP procedure, the MESON tactic [36].", "startOffset": 14, "endOffset": 18}, {"referenceID": 30, "context": "The HOL Light [34] system is probably the first among the existing well-known interactive theorem provers (ITPs) which has integrated and extensively used a general ATP procedure, the MESON tactic [36].", "startOffset": 197, "endOffset": 201}, {"referenceID": 32, "context": "Hurd has developed and benchmarked early bridges [39, 40] between HOL and external systems, and his Metis system [41] has also become a significant part of the Isabelle/Sledgehammer bridge", "startOffset": 49, "endOffset": 57}, {"referenceID": 33, "context": "Hurd has developed and benchmarked early bridges [39, 40] between HOL and external systems, and his Metis system [41] has also become a significant part of the Isabelle/Sledgehammer bridge", "startOffset": 49, "endOffset": 57}, {"referenceID": 34, "context": "Hurd has developed and benchmarked early bridges [39, 40] between HOL and external systems, and his Metis system [41] has also become a significant part of the Isabelle/Sledgehammer bridge", "startOffset": 113, "endOffset": 117}, {"referenceID": 26, "context": "1 2012 is not just the year of Turing [32], but also of Poincar\u00e9, whose ideas about creativity and invention involving random, intuition-guided exploration confirmed by critical evaluation quite correspond to what AI systems like MaLARea [80] try to emulate in large formal theories.", "startOffset": 38, "endOffset": 42}, {"referenceID": 49, "context": "to ATPs [60].", "startOffset": 8, "endOffset": 12}, {"referenceID": 44, "context": "Using the very detailed Otter/Ivy [53] proof objects, Harrison also later implemented a bridge from HOL Light to Prover9 [52].", "startOffset": 34, "endOffset": 38}, {"referenceID": 43, "context": "Using the very detailed Otter/Ivy [53] proof objects, Harrison also later implemented a bridge from HOL Light to Prover9 [52].", "startOffset": 121, "endOffset": 125}, {"referenceID": 64, "context": "HOL Light however does not yet have a general bridge to large-theory ATP/AI (\u201chammer\u201d) methods, similar to Isabelle/Sledgehammer or MizAR [78, 79], which would attempt to automatically solve a new goal by selecting relevant knowledge from the large library and running (possibly customized/trained) external ATPs on such premise selections.", "startOffset": 138, "endOffset": 146}, {"referenceID": 65, "context": "HOL Light however does not yet have a general bridge to large-theory ATP/AI (\u201chammer\u201d) methods, similar to Isabelle/Sledgehammer or MizAR [78, 79], which would attempt to automatically solve a new goal by selecting relevant knowledge from the large library and running (possibly customized/trained) external ATPs on such premise selections.", "startOffset": 138, "endOffset": 146}, {"referenceID": 25, "context": "Also, thanks to the Flyspeck project [31], HOL Light is becoming less of a \u201csingle, very knowledgable formalizer\u201d tool, and is getting increasingly used as a \u201ctool for interested mathematicians\u201d (such as the Flyspeck team in Hanoi) who may know the large libraries much less and have less experience with crafting their own proof tactics.", "startOffset": 37, "endOffset": 41}, {"referenceID": 71, "context": "For such ITP users it is good to provide a small number of strong methods that allow fast progress, which can perhaps also complement the declarative modes [87] pioneered by HOL Light [35] in the LCF world.", "startOffset": 156, "endOffset": 160}, {"referenceID": 29, "context": "For such ITP users it is good to provide a small number of strong methods that allow fast progress, which can perhaps also complement the declarative modes [87] pioneered by HOL Light [35] in the LCF world.", "startOffset": 184, "endOffset": 188}, {"referenceID": 27, "context": "The purpose of the Flyspeck project is to produce a formal proof of the Kepler Conjecture [33,45].", "startOffset": 90, "endOffset": 97}, {"referenceID": 54, "context": "Such refactoring is often a nontrivial process [66].", "startOffset": 47, "endOffset": 51}, {"referenceID": 12, "context": "This includes the untyped first-order (FOF) format [71], the polymorphic typed first-order (TFF1) format [16], and the typed higher-order (THF) format [27, 69].", "startOffset": 105, "endOffset": 109}, {"referenceID": 57, "context": "This includes the untyped first-order (FOF) format [71], the polymorphic typed first-order (TFF1) format [16], and the typed higher-order (THF) format [27, 69].", "startOffset": 151, "endOffset": 159}, {"referenceID": 9, "context": ", have been described several times [12, 36, 39, 40, 56].", "startOffset": 36, "endOffset": 56}, {"referenceID": 30, "context": ", have been described several times [12, 36, 39, 40, 56].", "startOffset": 36, "endOffset": 56}, {"referenceID": 32, "context": ", have been described several times [12, 36, 39, 40, 56].", "startOffset": 36, "endOffset": 56}, {"referenceID": 33, "context": ", have been described several times [12, 36, 39, 40, 56].", "startOffset": 36, "endOffset": 56}, {"referenceID": 46, "context": ", have been described several times [12, 36, 39, 40, 56].", "startOffset": 36, "endOffset": 56}, {"referenceID": 9, "context": "For a comprehensive recent overview and discussion of this topic and the issues related to the translation see Blanchette\u2019s thesis [12].", "startOffset": 131, "endOffset": 135}, {"referenceID": 51, "context": "HOL Light uses the HOL logic [62]: an extended variant of Church\u2019s simple type theory [21].", "startOffset": 29, "endOffset": 33}, {"referenceID": 16, "context": "HOL Light uses the HOL logic [62]: an extended variant of Church\u2019s simple type theory [21].", "startOffset": 86, "endOffset": 90}, {"referenceID": 40, "context": ", Pn by calling a customized first-order ATP implemented in HOL Light, which is based on the model elimination method invented by Loveland [49], later combined with a Prolog-like search tree [50].", "startOffset": 139, "endOffset": 143}, {"referenceID": 41, "context": ", Pn by calling a customized first-order ATP implemented in HOL Light, which is based on the model elimination method invented by Loveland [49], later combined with a Prolog-like search tree [50].", "startOffset": 191, "endOffset": 195}, {"referenceID": 37, "context": "While re-using MESON allowed the quick initial exploration of using external ATPs and advisors described in [44], this inefficiency practically excluded the (seemingly straightforward) use of the unmodified MESON procedure as an (at least basic) translation method for generating ATP", "startOffset": 108, "endOffset": 112}, {"referenceID": 58, "context": "This technique is used in the Mizar/MPTP translation [72, 73, 75], where the (dependent and undecidable) soft type system cannot be separated from the core predicate logic.", "startOffset": 53, "endOffset": 65}, {"referenceID": 59, "context": "This technique is used in the Mizar/MPTP translation [72, 73, 75], where the (dependent and undecidable) soft type system cannot be separated from the core predicate logic.", "startOffset": 53, "endOffset": 65}, {"referenceID": 61, "context": "This technique is used in the Mizar/MPTP translation [72, 73, 75], where the (dependent and undecidable) soft type system cannot be separated from the core predicate logic.", "startOffset": 53, "endOffset": 65}, {"referenceID": 13, "context": "Indeed, for example the SPASS system includes a number of ATP techniques for both complete and incomplete work with (auto-detected) types [17,84].", "startOffset": 138, "endOffset": 145}, {"referenceID": 68, "context": "Indeed, for example the SPASS system includes a number of ATP techniques for both complete and incomplete work with (auto-detected) types [17,84].", "startOffset": 138, "endOffset": 145}, {"referenceID": 24, "context": "This approach has been in the recent years facilitated by developing type-aware TPTP standards such as TFF0, TFF1, and THF, which \u2013 unlike related typeaware efforts like DFG [30] and KIF [28] \u2013 seem to be more successful in being adopted by ATP and tool developers.", "startOffset": 174, "endOffset": 178}, {"referenceID": 22, "context": "This approach has been in the recent years facilitated by developing type-aware TPTP standards such as TFF0, TFF1, and THF, which \u2013 unlike related typeaware efforts like DFG [30] and KIF [28] \u2013 seem to be more successful in being adopted by ATP and tool developers.", "startOffset": 187, "endOffset": 191}, {"referenceID": 12, "context": "In the case of the recent TFF1 standard [16] adding HOL-like polymorphic types to first-order logic, a translation tool to the FOF and SMT formats has been developed in 2012 by Andrei Paskevich as part of the Why3 system [25], simplifying the first experiments with the non-instantiating translation.", "startOffset": 40, "endOffset": 44}, {"referenceID": 20, "context": "In the case of the recent TFF1 standard [16] adding HOL-like polymorphic types to first-order logic, a translation tool to the FOF and SMT formats has been developed in 2012 by Andrei Paskevich as part of the Why3 system [25], simplifying the first experiments with the non-instantiating translation.", "startOffset": 221, "endOffset": 225}, {"referenceID": 9, "context": "Blanchette [12] reports that this optimization works fairly well for Isabelle/Sledgehammer, and gives a simple example when it introduces incompleteness.", "startOffset": 11, "endOffset": 15}, {"referenceID": 46, "context": "This is done in the same way as in [56].", "startOffset": 35, "endOffset": 39}, {"referenceID": 31, "context": "The exact types inferred by the standard HOL (Hindley-Milner [37]) type inference for the goal are as follows:", "startOffset": 61, "endOffset": 65}, {"referenceID": 37, "context": "In our earlier initial experiments [44], it was found that the ATP problems created from the calls to the MESON tactic in the HOL Light and Flyspeck libraries are very easy for the state-of-the-art ATPs.", "startOffset": 35, "endOffset": 39}, {"referenceID": 0, "context": "The recent work by Adams in exporting HOL Light to HOL Zero [1] (with cross-verification as the main motivation) was initially used to obtain the theorem dependencies for the first experiments with HOL Light in [44], and after that custom theorem-exporting and dependency-tracking mechanisms were implemented as described below.", "startOffset": 60, "endOffset": 63}, {"referenceID": 37, "context": "The recent work by Adams in exporting HOL Light to HOL Zero [1] (with cross-verification as the main motivation) was initially used to obtain the theorem dependencies for the first experiments with HOL Light in [44], and after that custom theorem-exporting and dependency-tracking mechanisms were implemented as described below.", "startOffset": 211, "endOffset": 215}, {"referenceID": 9, "context": "14 Note that the typed translation that we use here prevents deriving ill-typed equalities [12].", "startOffset": 91, "endOffset": 95}, {"referenceID": 36, "context": "This patched version is the proof-recording component of the new HOL-Import [43], a mechanism designed to transfer proofs from HOL Light to Isabelle/HOL in an efficient way allowing the export of big repositories like Flyspeck.", "startOffset": 76, "endOffset": 80}, {"referenceID": 3, "context": "Smaller meaningful datasets will likely be created from this large dataset for ATP/AI competitions such as CASC LTB and Mizar@Turing, analogously to the smaller MPTP2078 [4] ATP benchmark created from the ATPtranslated Mizar library (MML), and the Judgement Day benchmark [18] created by ATP translation of a subset of the Isabelle/HOL library.", "startOffset": 170, "endOffset": 173}, {"referenceID": 14, "context": "Smaller meaningful datasets will likely be created from this large dataset for ATP/AI competitions such as CASC LTB and Mizar@Turing, analogously to the smaller MPTP2078 [4] ATP benchmark created from the ATPtranslated Mizar library (MML), and the Judgement Day benchmark [18] created by ATP translation of a subset of the Isabelle/HOL library.", "startOffset": 272, "endOffset": 276}, {"referenceID": 62, "context": "See [48, 76] for recent overviews of such methods.", "startOffset": 4, "endOffset": 12}, {"referenceID": 39, "context": "Such data are often smaller and preferable [47].", "startOffset": 43, "endOffset": 47}, {"referenceID": 3, "context": "A number of machine learning algorithms can be experimented with today, and in particular kernel-based methods [4] and ensemble methods [48] have recently shown quite good performance on smaller datasets such as MPTP2078.", "startOffset": 111, "endOffset": 114}, {"referenceID": 15, "context": "That is why this work so far uses mostly the sparse implementation of a multiclass naive Bayes classifier provided by the SNoW system [20].", "startOffset": 134, "endOffset": 138}, {"referenceID": 2, "context": "This is still future work, close to the recent work on formal mathematical editors and wikis [3, 42].", "startOffset": 93, "endOffset": 100}, {"referenceID": 35, "context": "This is still future work, close to the recent work on formal mathematical editors and wikis [3, 42].", "startOffset": 93, "endOffset": 100}, {"referenceID": 63, "context": "These strategies were developed on the 1000 problems allowed for training large-theory AI/ATP systems before the Mizar@Turing competition [77].", "startOffset": 138, "endOffset": 142}, {"referenceID": 13, "context": "An initial glimpse at Isabelle\u2019s unique solutions also shows that 75% of them are found by the recent Isabelle-specific additions (such as hard sorts) to SPASS [17] and its tighter integration with Isabelle.", "startOffset": 160, "endOffset": 164}, {"referenceID": 67, "context": "This is an evidence that pushing such domain knowledge inside ATPs (as done recently also with the MaLeCoP prototype [82]) might be quite rewarding.", "startOffset": 117, "endOffset": 121}, {"referenceID": 10, "context": "In particular, Blanchette\u2019s PhD thesis and [14] give a detailed overview of the translation methods for the (extended) HOL logic used in Isabelle.", "startOffset": 43, "endOffset": 47}, {"referenceID": 62, "context": "See [48, 76] for recent overviews of large-theory ATP methods, and [81] for a summary of the work done over MML and its AI aspects.", "startOffset": 4, "endOffset": 12}, {"referenceID": 66, "context": "See [48, 76] for recent overviews of large-theory ATP methods, and [81] for a summary of the work done over MML and its AI aspects.", "startOffset": 67, "endOffset": 71}, {"referenceID": 53, "context": "Automated theorem proving over large theories goes back at least to Quaife\u2019s large developments [65] with Otter [54] (continued to some extent by Belinfante [8]).", "startOffset": 96, "endOffset": 100}, {"referenceID": 6, "context": "Automated theorem proving over large theories goes back at least to Quaife\u2019s large developments [65] with Otter [54] (continued to some extent by Belinfante [8]).", "startOffset": 157, "endOffset": 160}, {"referenceID": 47, "context": "Examples include the ATPs for HOL (Light) by Harrison and Hurd mentioned above, similar work for Isabelle by Paulson [58], integration of CLAM with HOL [68] and integration of ATPs with the Omega proof assistant [55].", "startOffset": 117, "endOffset": 121}, {"referenceID": 56, "context": "Examples include the ATPs for HOL (Light) by Harrison and Hurd mentioned above, similar work for Isabelle by Paulson [58], integration of CLAM with HOL [68] and integration of ATPs with the Omega proof assistant [55].", "startOffset": 152, "endOffset": 156}, {"referenceID": 45, "context": "Examples include the ATPs for HOL (Light) by Harrison and Hurd mentioned above, similar work for Isabelle by Paulson [58], integration of CLAM with HOL [68] and integration of ATPs with the Omega proof assistant [55].", "startOffset": 212, "endOffset": 216}, {"referenceID": 18, "context": "Dahn, Wernhard and Byli\u0144ski exported Mizar/MML into the ILF format [23], created (small) ATP problems from several Mizar articles, and researched ATP-friendly encodings of Mizar\u2019s dependent and order-sorted type system [22].", "startOffset": 67, "endOffset": 71}, {"referenceID": 17, "context": "Dahn, Wernhard and Byli\u0144ski exported Mizar/MML into the ILF format [23], created (small) ATP problems from several Mizar articles, and researched ATP-friendly encodings of Mizar\u2019s dependent and order-sorted type system [22].", "startOffset": 219, "endOffset": 223}, {"referenceID": 50, "context": "Large-theory ATP reappeared in 2002 with Voronkov\u2019s and Riazanov\u2019s customized Vampire answering queries over the whole SUMO ontology [61], and Urban\u2019s MoMM (modified E) authoring tool [74] using all MML lemmas for dependently-typed subsumption of new Mizar goals.", "startOffset": 133, "endOffset": 137}, {"referenceID": 60, "context": "Large-theory ATP reappeared in 2002 with Voronkov\u2019s and Riazanov\u2019s customized Vampire answering queries over the whole SUMO ontology [61], and Urban\u2019s MoMM (modified E) authoring tool [74] using all MML lemmas for dependently-typed subsumption of new Mizar goals.", "startOffset": 184, "endOffset": 188}, {"referenceID": 59, "context": "Since 2003, experiments with (unmodified) ATPs over large libraries have been carried out for MML [73] (using machine learning for premise selection) and for Isabelle/HOL (using the symbol-based Sledgehammer heuristic for premise selection).", "startOffset": 98, "endOffset": 102}, {"referenceID": 42, "context": "48 An interesting case is McAllester\u2019s Ontic [51].", "startOffset": 45, "endOffset": 49}, {"referenceID": 46, "context": "When it is ready, unsound translations can be added to the pool of methods as was originally done in Isabelle Isabelle [56].", "startOffset": 119, "endOffset": 123}], "year": 2014, "abstractText": "The considerable mathematical knowledge encoded by the Flyspeck project is combined with external automated theorem provers (ATPs) and machine-learning premise selection methods trained on the Flyspeck proofs, producing an AI system capable of proving a wide range of mathematical conjectures automatically. The performance of this architecture is evaluated in a bootstrapping scenario emulating the development of Flyspeck from axioms to the last theorem, each time using only the previous theorems and proofs. It is shown that 39% of the 14185 theorems could be proved in a push-button mode (without any high-level advice and user interaction) in 30 seconds of real time on a fourteen-CPU workstation. The necessary work involves: (i) an implementation of sound translations of the HOL Light logic to ATP formalisms: untyped first-order, polymorphic typed firstorder, and typed higher-order, (ii) export of the dependency information from HOL Light and ATP proofs for the machine learners, and (iii) choice of suitable representations and methods for learning from previous proofs, and their integration as advisors with HOL Light. This work is described and discussed here, and an initial analysis of the body of proofs that were found fully automatically is provided. Cezary Kaliszyk, supported by FWF grant P26201 University of Innsbruck, Austria Josef Urban, funded by NWO grant Knowledge-based Automated Reasoning Radboud University, Nijmegen. 2 Cezary Kaliszyk, Josef Urban", "creator": "LaTeX with hyperref package"}}}