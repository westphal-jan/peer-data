{"id": "1502.06657", "review": {"conference": "arxiv", "VERSION": "v1", "DATE_OF_SUBMISSION": "24-Feb-2015", "title": "Multi-Touch Attribution Based Budget Allocation in Online Advertising", "abstract": "Budget allocation in online advertising deals with distributing the campaign (insertion order) level budgets to different sub-campaigns which employ different targeting criteria and may perform differently in terms of return-on-investment (ROI). In this paper, we present the efforts at Turn on how to best allocate campaign budget so that the advertiser or campaign-level ROI is maximized. To do this, it is crucial to be able to correctly determine the performance of sub-campaigns. This determination is highly related to the action-attribution problem, i.e. to be able to find out the set of ads, and hence the sub-campaigns that provided them to a user, that an action should be attributed to. For this purpose, we employ both last-touch (last ad gets all credit) and multi-touch (many ads share the credit) attribution methodologies. We present the algorithms deployed at Turn for the attribution problem, as well as their parallel implementation on the large advertiser performance datasets. We conclude the paper with our empirical comparison of last-touch and multi-touch attribution-based budget allocation in a real online advertising setting.", "histories": [["v1", "Tue, 24 Feb 2015 00:09:05 GMT  (125kb)", "http://arxiv.org/abs/1502.06657v1", "This paper has been published in ADKDD 2014, August 24, New York City, New York, U.S.A"]], "COMMENTS": "This paper has been published in ADKDD 2014, August 24, New York City, New York, U.S.A", "reviews": [], "SUBJECTS": "cs.AI", "authors": ["sahin cem geyik", "abhishek saxena", "ali dasdan"], "accepted": false, "id": "1502.06657"}, "pdf": {"name": "1502.06657.pdf", "metadata": {"source": "CRF", "title": "Multi-Touch Attribution Based Budget Allocation in Online Advertising", "authors": ["Sahin Cem Geyik", "Ali Dasdan"], "emails": ["sgeyik@turn.com", "asaxena@turn.com", "adasdan@turn.com"], "sections": [{"heading": null, "text": "ar Xiv: 150 2.06 657v 1 [cs.A I] 2 4Fe b20 15Categories and Subject Descriptors J.0 [Computer Applications]: General Terms Algorithms, ApplicationKeywords Online advertising, Multi-touch attribution, Budget allocation * The authors also contributed to this work, which was published in: ADKDD '14, August 24, New York City, New York, U.S.A."}, {"heading": "1. INTRODUCTION", "text": "In fact, most people who are able to survive themselves are not able to survive themselves, \"he told the German Press Agency in an interview with\" Welt am Sonntag \":\" I don't think we will be able to save the world. \""}, {"heading": "2. BACKGROUND AND PREVIOUS WORK", "text": "In this section we will give some preliminary information on the topic as well as previous work in the literature."}, {"heading": "2.1 Budget Allocation in Online Advertising", "text": "In online advertising, advertisers aim to show their advertisements to a user on a publisher (website, mobile app, etc.), so that they receive the highest number of promotions for the money they spend. In order to use the market more efficiently, they use different tactics, i.e. different campaigns with different targeting rules. In our model, a sporting goods company may decide to set up a campaign to show its golf equipment to users over a certain age or income, while their sneaker advertising may target a wider audience. This by its very nature constructs a hierarchy for advertisers. In our model, advertisers have different campaigns (e.g. each campaign is advertising for a certain type of product), which we call insertion orders, but each campaign may also have sub-campaigns (with different targeting or different media (media channels), such as social, video, mobile, etc.), which we call line positions. An easy example of such an illustration is in a hierarchy."}, {"heading": "2.2 Action-Attribution Problem in Online Advertising", "text": "As already mentioned, the goal of the advertiser is to get as many actions as possible. Furthermore, the advertiser needs to know which sub-campaign has contributed to how many actions and thus recognize the effectiveness of the various tactics used. In this task, the big problem is the fact that the action usually occurs much later than the user is shown the ad, for example, the user sees many ads online and then buys an article, so it is difficult to attribute actions to sub-campaigns. A very simple example of this action mapping problem is in Figure 3. In the example, we present two methods, the last-touch mapping (the most commonly used method that attributes the action entirely to the last viewed ad) and the multi-touch mapping (MTA, the action is attributed to many ads seen by the same advertiser). Please note that in the illustration we have presented a very simple case of MTA mapping in which each ad receives an equal share of the action, which is rare in the real situation."}, {"heading": "2.3 Previous Work", "text": "In fact, most of them are able to determine for themselves what they want to do."}, {"heading": "3. PROBLEM DEFINITION", "text": "s give the formal definition of the problem of budget allocation. In view of the total B budget for an insertion order, the set of line items L = {l1,..., ln} according to this IO, the maximum output capacity of each line item S = {S1,..., Sn} and the return-on-investment (ROI) of each line item R = {R1,..., Rn} (the amount of dollar the line item receives due to actions for each dollar spent from the line item for advertising, subject to specific targeting of the line item): Maximizing U = n \u2211 i = 1Ri Bi, provided we have the correct values for the set S and R, a very simple greedy approach actually optimizes the above problem: 1. Bremaining = B3. If this budget problem is illustrated n.3.1, then it differs significantly from the so-called Bremblec budget optimization we have (during Brembleining) while we have the lines optimization (during Brembleining)."}, {"heading": "4. METHODOLOGY", "text": "As mentioned in paragraph 3, the allocation of the budget can be reduced to two problems: (i) the calculation of the spending capacity for a partial campaign and (ii) the calculation of the return on investment for a partial campaign. In this section, we will separate these two problems and explore ways to solve them."}, {"heading": "4.1 Spending Capability Calculation for a SubCampaign", "text": "It is obvious that there are not the same number of users who cannot reach enough users to spend the money. However, it is a difficult problem to estimate exactly how much money a sub-campaign can spend, as it depends on both the reach of the campaigns and the bid price (i.e., if a sub-campaign does not reach enough users to spend the money. However, it is a difficult problem to estimate the money a sub-campaign can spend, as it depends on both the reach of the campaigns and the bid price (i.e., if a sub-campaign offers low, it will not be able to win value auctions and get no impressions, so will not be able to spend the money allocated to it). In our budget approach we apply a simple adaptive budget allocation scheme that can be summarized as follows."}, {"heading": "4.2 ROI Calculation for a Sub-Campaign", "text": "We calculate the return-on-investment for a line as follows: ROIli = \u2211 aj p (li | aj) v (aj) Money spent by li. (1) Over, v (aj) is the monetary value achieved by action. (e.g. the profit the advertiser earns by selling this specific product) In this work we deal with CPA (cost per action) campaigns in which the advertiser provides the demand-side platform with the values of the actions he wants to receive, therefore the return-on-investment is calculated as the ratio of the value of the actions received to the amount of money spent on advertising. We also specify the mapping component in the above formulation by the term p (li | aj), which determines the percentage of the action attributed to the line element li (while for LTA (li | aj) is 0 or 1, for MTA, p (li | aj) we assign the partial action to an individual action."}, {"heading": "5. IMPLEMENTATION DETAILS", "text": "This year, there will only be one such scandal."}, {"heading": "6. RESULTS", "text": "This year, it is only a matter of time before an agreement is reached."}, {"heading": "7. CONCLUSIONS AND FUTURE WORK", "text": "In this paper, we have focused on the problem of budget allocation in the online advertising sector. We have shown that the performance values of sub-campaigns calculated through multi-touch allocation lead to a better allocation of budgets, as demonstrated empirically in our real online ad platform. We have also explained in detail the algorithms used for both budget allocation and multi-touch allocation, as well as their implementation. Our future work will mainly focus on the use of improved multi-touch allocation algorithms. In addition, we plan to apply MTA to tenders, i.e. the offer will be calculated using the performance values generated by the MTA algorithm to date."}, {"heading": "8. REFERENCES", "text": "[1] Apache oozie workflow scheduler for hadoop.http: / / oozie.apache.org /. Accessed: 2014-01-24. [2] V. Abhishek, P. S. Fader, and K. Hosanagar. Media Exposure through the funnel: A model of multi-stage attribution. In Proc. WWW, 2012. [4] N. Archak, V. S. Mirrokni, and S. Muthukrishnan. Budget optimization for online advertising campaigns with carryover effects. In Proc. ACM Workshop on Ad Auctions, 2010. [5] C. Borgs, J. Chayes, O. Etesami, N. Immorlica, K. Jain, and M. Mahdian. Dynamics of bid optimization in online advertisement auctions."}], "references": [{"title": "Media exposure through the funnel: A model of multi-stage attribution", "author": ["V. Abhishek", "P.S. Fader", "K. Hosanagar"], "venue": "In Proc. WISE,", "citeRegEx": "2", "shortCiteRegEx": "2", "year": 2013}, {"title": "Optimizing budget allocation among channels and influencers", "author": ["N. Alon", "I. Gamzu", "M. Tennenholtz"], "venue": "In Proc. ACM WWW,", "citeRegEx": "3", "shortCiteRegEx": "3", "year": 2012}, {"title": "Budget optimization for online advertising campaigns with carryover effects", "author": ["N. Archak", "V.S. Mirrokni", "S. Muthukrishnan"], "venue": "In Proc. ACM Workshop on Ad Auctions,", "citeRegEx": "4", "shortCiteRegEx": "4", "year": 2010}, {"title": "Dynamics of bid optimization in online advertisement auctions", "author": ["C. Borgs", "J. Chayes", "O. Etesami", "N. Immorlica", "K. Jain", "M. Mahdian"], "venue": "In Proc. ACM WWW,", "citeRegEx": "5", "shortCiteRegEx": "5", "year": 2007}, {"title": "Causally motivated attribution for online advertising", "author": ["B. Dalessandro", "C. Perlich", "O. Stitelman", "F. Provost"], "venue": "In Proc. ACM ADKDD,", "citeRegEx": "6", "shortCiteRegEx": "6", "year": 2012}, {"title": "Optimal budget allocation over time for keyword ads in web portals", "author": ["G.E. Fruchter", "W. Dou"], "venue": "J. Optimization Theory and Applications,", "citeRegEx": "7", "shortCiteRegEx": "7", "year": 2005}, {"title": "Real time bid optimization with smooth budget delivery in online advertising", "author": ["K.-C. Lee", "A. Jalali", "A. Dasdan"], "venue": "In http://arxiv.org/pdf/1305.3011v1.pdf,", "citeRegEx": "8", "shortCiteRegEx": "8", "year": 2013}, {"title": "Estimating conversion rate in display advertising from past performance data", "author": ["K.-C. Lee", "B. Orten", "A. Dasdan", "W. Li"], "venue": "In Proc. ACM SIGKDD Conf. on Knowledge Discovery and Data Mining,", "citeRegEx": "9", "shortCiteRegEx": "9", "year": 2012}, {"title": "Allocating expenditures across keywords in search advertising", "author": ["O. Ozluk", "S. Cholette"], "venue": "J. Revenue and Pricing Management,", "citeRegEx": "10", "shortCiteRegEx": "10", "year": 2007}, {"title": "Data-driven multi-touch attribution models", "author": ["X. Shao", "L. Li"], "venue": "In Proc. ACM SIGKDD Conf. on Knowledge Discovery and Data Mining,", "citeRegEx": "11", "shortCiteRegEx": "11", "year": 2011}, {"title": "A value for n-person games", "author": ["L.S. Shapley"], "venue": "Annals of Mathematical Studies,", "citeRegEx": "12", "shortCiteRegEx": "12", "year": 1953}, {"title": "Hadoop: The Definitive Guide", "author": ["T. White"], "venue": null, "citeRegEx": "13", "shortCiteRegEx": "13", "year": 2012}, {"title": "Time-weighted multi-touch attribution and channel relevance in the customer journey to online purchase", "author": ["D.A. Wooff", "J.M. Anderson"], "venue": "J. Statistical Theory and Practice,", "citeRegEx": "14", "shortCiteRegEx": "14", "year": 2013}, {"title": "Joint optimization of bid and budget allocation in sponsored search", "author": ["W. Zhang", "Y. Zhang", "B. Gao", "Y. Yu", "X. Yuan", "T.-Y. Liu"], "venue": "In Proc. ACM SIGKDD Conf. on Knowledge Discovery and Data Mining,", "citeRegEx": "15", "shortCiteRegEx": "15", "year": 2012}], "referenceMentions": [{"referenceID": 7, "context": "[9].", "startOffset": 0, "endOffset": 3}, {"referenceID": 3, "context": ") only if the value for the ad impression opportunity is high enough to win in a real-time auction [5].", "startOffset": 99, "endOffset": 102}, {"referenceID": 2, "context": "As an example of budget optimization, we can list [4], where the user behavior is modeled as a Markov chain.", "startOffset": 50, "endOffset": 53}, {"referenceID": 8, "context": "For example, the authors of [10] propose a combined model of bid price and budget determination for keywords.", "startOffset": 28, "endOffset": 32}, {"referenceID": 8, "context": "However, [10] does not take into account the ability to deliver, which is crucial, and we focus on allocation based on actions, which is difficult due to the attribution problem.", "startOffset": 9, "endOffset": 13}, {"referenceID": 5, "context": "In [7], the authors discuss the assignment of budgets to two types of search portals, generic and specialized.", "startOffset": 3, "endOffset": 6}, {"referenceID": 13, "context": "The closest approach to the one proposed in this paper is given in [15].", "startOffset": 67, "endOffset": 71}, {"referenceID": 13, "context": "Firstly, [15] utilizes clicks to decide on the utility of campaigns, where we utilize actions.", "startOffset": 9, "endOffset": 13}, {"referenceID": 13, "context": "The authors of [15] argue that these two should be combined since there can be well-performing keywords under overall low-performing campaigns.", "startOffset": 15, "endOffset": 19}, {"referenceID": 13, "context": "While such an argument is valid for search advertising, which [15] focuses on, this is not the case for online display advertising.", "startOffset": 62, "endOffset": 66}, {"referenceID": 1, "context": "Finally, for a more theoretic approach, we can list [3], which focuses on the budget allocation problem to maximize the set of influenced target nodes (users).", "startOffset": 52, "endOffset": 55}, {"referenceID": 9, "context": "While there have been simple models utilized in the industry to perform multi-touch attribution, the first published work for data-driven allocation is given in [11].", "startOffset": 161, "endOffset": 165}, {"referenceID": 4, "context": "The authors of [6] utilize Shapley value [12] for attribution.", "startOffset": 15, "endOffset": 18}, {"referenceID": 10, "context": "The authors of [6] utilize Shapley value [12] for attribution.", "startOffset": 41, "endOffset": 45}, {"referenceID": 4, "context": "It is also shown in [6] that the simple probabilistic scheme employed by [11] is equivalent to a Shapley value formulation after rescaling, and under certain simplifying assumptions.", "startOffset": 20, "endOffset": 23}, {"referenceID": 9, "context": "It is also shown in [6] that the simple probabilistic scheme employed by [11] is equivalent to a Shapley value formulation after rescaling, and under certain simplifying assumptions.", "startOffset": 73, "endOffset": 77}, {"referenceID": 0, "context": "[2] model user behavior as a hiddenMarkov model (since user states are not observable, but only the outcome is, such as clicks).", "startOffset": 0, "endOffset": 3}, {"referenceID": 12, "context": "Finally, in [14], the authors claim that, given no other", "startOffset": 12, "endOffset": 16}, {"referenceID": 9, "context": "In this paper, our emphasis is on multi-touch attribution, and we utilize the probabilistic model given in [11], which also originated at Turn.", "startOffset": 107, "endOffset": 111}, {"referenceID": 9, "context": "The methodology given in [11] first calculates the empirical action probability of line items (referred to as advertising channels in the paper):", "startOffset": 25, "endOffset": 29}, {"referenceID": 9, "context": "Once the action probabilities are calculated, the contribution weight (to be normalized to calculate actual attribution) for a line item is calculated in [11] as:", "startOffset": 154, "endOffset": 158}, {"referenceID": 11, "context": "2 is easily parallelizable and we have implemented the two-step algorithm on Hadoop [13].", "startOffset": 84, "endOffset": 88}, {"referenceID": 6, "context": "Then, the control server calculates the daily budgets for line items, and calculates the spending rates [8] for time periods within the day.", "startOffset": 104, "endOffset": 107}], "year": 2013, "abstractText": "Budget allocation in online advertising deals with distributing the campaign (insertion order) level budgets to different sub-campaigns which employ different targeting criteria and may perform differently in terms of return-on-investment (ROI). In this paper, we present the efforts at Turn on how to best allocate campaign budget so that the advertiser or campaign-level ROI is maximized. To do this, it is crucial to be able to correctly determine the performance of sub-campaigns. This determination is highly related to the action-attribution problem, i.e. to be able to find out the set of ads, and hence the sub-campaigns that provided them to a user, that an action should be attributed to. For this purpose, we employ both last-touch (last ad gets all credit) and multi-touch (many ads share the credit) attribution methodologies. We present the algorithms deployed at Turn for the attribution problem, as well as their parallel implementation on the large advertiser performance datasets. We conclude the paper with our empirical comparison of last-touch and multi-touch attribution-based budget allocation in a real online advertising setting.", "creator": "gnuplot 4.6 patchlevel 3"}}}