{"id": "1505.02487", "review": {"conference": "arxiv", "VERSION": "v1", "DATE_OF_SUBMISSION": "11-May-2015", "title": "A Constraint Programming Approach for Non-Preemptive Evacuation Scheduling", "abstract": "Large-scale controlled evacuations require emergency services to select evacuation routes, decide departure times, and mobilize resources to issue orders, all under strict time constraints. Existing algorithms almost always allow for preemptive evacuation schedules, which are less desirable in practice. This paper proposes, for the first time, a constraint-based scheduling model that optimizes the evacuation flow rate (number of vehicles sent at regular time intervals) and evacuation phasing of widely populated areas, while ensuring a nonpreemptive evacuation for each residential zone. Two optimization objectives are considered: (1) to maximize the number of evacuees reaching safety and (2) to minimize the overall duration of the evacuation. Preliminary results on a set of real-world instances show that the approach can produce, within a few seconds, a non-preemptive evacuation schedule which is either optimal or at most 6% away of the optimal preemptive solution.", "histories": [["v1", "Mon, 11 May 2015 05:38:24 GMT  (151kb,D)", "http://arxiv.org/abs/1505.02487v1", "Submitted to the 21st International Conference on Principles and Practice of Constraint Programming (CP 2015). 15 pages + 1 reference page"]], "COMMENTS": "Submitted to the 21st International Conference on Principles and Practice of Constraint Programming (CP 2015). 15 pages + 1 reference page", "reviews": [], "SUBJECTS": "cs.AI", "authors": ["caroline even", "reas schutt", "pascal van hentenryck"], "accepted": false, "id": "1505.02487"}, "pdf": {"name": "1505.02487.pdf", "metadata": {"source": "CRF", "title": "A Constraint Programming Approach for Non-Preemptive Evacuation Scheduling", "authors": ["Caroline Even", "Andreas Schutt", "Pascal Van Hentenryck"], "emails": ["firstname.lastname@nicta.com.au"], "sections": [{"heading": null, "text": "Keywords: restriction-based evacuation planning - non-preventive planning - gradual evacuation - simultaneous evacuation - feasible plan - operational restrictions in the real world - problem of network flow"}, {"heading": "1 Introduction", "text": "Evacuation planning is a critical part of the preparation and response to natural and man-made disasters. Evacuation plans help evacuation authorities mitigate the adverse effects of a disaster, such as loss or damage to life, by providing them with guidance and operational evacuation procedures so they can make informed decisions about whether, how and when to evacuate residents. In the case of controlled evacuations, evacuation authorities instruct each vulnerable resident to follow a specific evacuation route at a specific time. To communicate this information in a timely manner, evacuation planners must draw up plans that take into account operational constraints that occur in actual evacuations. Specifically, two critical challenges are the deployment of sufficient resources to provide precise and timely evacuation instructions to the vulnerable population and compliance with evacuation orders. In practice, evacuation control is achieved through a mobilization process, while NICTA is funded by the Australian Government through the ICT and the Australian Research Council."}, {"heading": "2 Problem Description", "text": "The evacuation planning problem (EPP) was introduced by the authors in [11]. It is defined on a directed graph G = (N = E-T-S, A), where E, T, and S are the number of evacuation nodes and safe nodes. EPP is designed to respond to a disaster scenario, like a flood, which can determine a time when some edges are no longer available. Each evacuation node is characterized by a number of evacuees dk, while each Arc e is associated with a triple (te, ue, be), where the travel time is the capacity, and the time when the evacuation becomes unavailable.We denote by e.tail (resp. e.head) the tail (resp. head) of an edge e. The problem is defined by a planning horizon H, which depends on the disaster forecast and the time to mobilize resources.The goal is to maximize either the total number (1) of the evacuation."}, {"heading": "3 The Constraint-Programming Model", "text": "NEPP and NPEPP are two optimization problems, the aim of which is either to maximize the number of evacuees or to minimize the total evacuation time. A central contribution of this paper is to model them as constraint-based planning problems and to solve them with CP. This modeling avoids time dictation and allows to design non-preventive plans with variable flow rates. In this section, the constraint-based planning models, including their decision variables, their domains and the constraints common to both problems, are presented. In this section, the constraint-based planning models for the NEPP in sect?? and for the NPEPP in sect?? are presented."}, {"heading": "3.1 Decision Variables", "text": "The models associate the following decision variables with each evacuation area k-E: the total flow of the evacuated vehicles FLOWk (i.e. the number of vehicles evacuated from area k), the flow rate \u03bbFLOWk, which represents the number of vehicles departing per time unit, the evacuation start time STARTk (i.e. the time at which the first vehicle is evacuated from area k), the evacuation end time ENDk and the total evacuation duration DURk. The last three decision variables are summarized in a task variable TASKk, which links the evacuation start time, the evacuation end time and the evacuation duration and ensures that STARTk + DURk = ENDk. The decision variables range from natural numbers. The flow and flow rates can only be non-negative and integral because a number of vehicles is an entire unit. The models use one minute of task step for the evacuation and very variable task rate."}, {"heading": "3.2 Constraints", "text": "The NEPP requires that the flow of evacuees coming from each evacuation zone k, on their respective path pk, be planned in such a way that the flow sent through the network on all routes does not exceed the capacities of the network. These flow restrictions can be expressed in the form of cumulative constraints. Consider an edge e and the quantity E (e) of evacuation areas whose evacuation routes e use. For each evacuation zone k = ENDk + tk, e.tail, the model introduces a new TASKek task, which represents a satisfactory view of the task TASKk: STARTek = STARTk + tk, e.tail, DUR e = DURk, END e = ENDk + tk, e.tail. This new task variable takes into account the number of vehicles from the evacuation area k that are on the edge e at all times. (The tk, tail is the sum of travel times at each edge)."}, {"heading": "3.3 The Constraint-Based Scheduling Models", "text": "We are now able to present a constraint-based planning model for NEPP-MF: max. OBJECTIVE = max. FLOWk (2) s.t. FLOWUBk = DURk \u00b7 \u03bbFLOWk. (3) FLOWk = min (FLOW UB k, dk).K (4) cumulative ({(TASKek, \u03bbFLOWk).E (e), ue).E (5) The objective (2) maximizes the number of vehicles NEWK evacuated. Restrictions (3) and (4) link flow, flow rate and evacuation duration by ensuring that the total flow for each area is the minimum evacuation demand and the flow rate multiplied by the evacuation duration."}, {"heading": "3.4 Problem Decomposition", "text": "This section shows how the NEPP and NPEPP can be dissected by understanding which paths are directly dependent on each other and / or how they relate to each other. In the following we present the path dependency relationship. Definition 1. Two paths px and py are directly dependent on each other, which are designated by px4py if and only if they have at least one edge in common, i.e. Apx and Apy 6 =.Definition 2. Two paths px and pz are indirectly dependent on each other if and only if there is a sequence of directly dependent paths py1,..., pyn such that px4pyz and py14py2,. Definition 3. Two paths px and py."}, {"heading": "3.5 Dominance Relationships", "text": "This section shows how dominance relationships can be exploited to simplify constraint-based planning models, the basic idea being to recognize that the capacity constraints of some edges are always guaranteed to be met after constraints on other particular edges have been introduced. Definition 5. Leave a set of edges and e, e \u00b2 A, e \u00b2 6 = e \u00b2. Edge e \u00b2 dominates e \u00b2, denoted by e > e \u00b2, if and only if and only if (e); - In case of non-convergent evacuation paths, the travel times for evacuation paths in E (e \u00b2) between e \u00b2 and e \u00b2 are the same."}, {"heading": "3.6 Additional Constraints to a Real-World Evacuation Scheduling Problem", "text": "The flexibility of the constraint-based evacuation planning approach allows many constraints that occur in real evacuation planning to be easily factored in. For example, each variable range of the flow rate can be limited to a subset of values to take into account the number of resources available to plan the evacuation [12]. Other real evacuation constraints can limit departure times to wait for a more accurate prediction of an impending disaster or limit evacuation end times to ensure that the last vehicle has left a certain time before the disaster hits the evacuation area."}, {"heading": "3.7 Complexity of Phased Evacuations with Convergent Paths", "text": "Theorem 3. Model NPEPP-MF can be solved in convergent time for convergent paths, if all evacuation paths have the same last completion time at the safe node. Proof (sketch): Using the decomposition method and the dominance criterion, each partial problem with at least two evacuation paths contains exactly one dominant edge e, which is part of each evacuation path. An optimal schedule can then be achieved in two steps. The first step forms a preventive schedule by a sweep over time, starting from the earliest start time of the tasks on e and ending before the joint completion time. At each point in time, an eligible task (if any) with the highest flow rate (ties are arbitrarily broken) is defined, with a task in question if the time before the tasks on e are scheduled and it was not fully planned before that time."}, {"heading": "3.8 The Search Procedure", "text": "A task TASKk is not assigned if the domain has more than one value in one of its variables {STARTk, DURk, ENDk, FLOWk, \u03bbFLOWk} The search procedure selects an unassigned task TASKk and then branches off to all the underlying variables until they are all assigned. Depending on the problem under consideration, the models use different heuristics to (1) find the next unassigned task and (2) select the next task variable to branch out and the assigned value. In NPEPP, the flow rate is set directly to the maximum value. The search strategy is determined by the problem target as follows. If the target maximizes the number of evacuees for a given time horizonH, the search is split into two steps. The first step selects a task with an indefinite duration and the highest remaining actual flow rate. If the shorter duration of the task is assigned a shorter duration, at least two time units are assigned to the given task."}, {"heading": "4 Experimental Results", "text": "These cases are derived from a real case study: The evacuation of people who are able to move themselves, in which they are able to move themselves, in which they are able to feel themselves, in which they are able to feel themselves, in which they are able to move, in which they are able to feel themselves, in which they are able to feel themselves, in which they are able to feel themselves, in which they are able to feel themselves, in which they are able to feel themselves, in which they are able, in which they are able, in which they are able, in which they are able, in which they are able, in which they are able, in which they are able, in which they are able to be themselves and in which they are able, in which they are able to be able, in which they are able to be able, in which they are able to be able, in which they are able to be able to be able, in which they are able to be able to be able, in which they are able to be able to be in which they are able to be able, in which they are able to be able to be in which they are able to be able to be in which they are able to be able, in which they are able to be able to be able to be in which they are able to be able to be in which they are able to be able, in which they are able to be able to be in which they are able to be able to be in which they are able to be in which they are able to be able to be in which they are able to be in which they are able to be able to be in which they are able to be in which they are able to be in which they are able to be able to be in which they are able to be in which they are able to be in which they are able to be in which they are able to be in which they are able to be in which they are able to be in which they are able to be able to be in which they are able to be in which they are able to be in which they are able to be in which they are able to be in which they are able to be in which they are able to be able to be in which they are able to be in which they are able to be in which they are able to be in which they are able to be in which they are able to be in which they are able to be in which"}, {"heading": "5 Conclusion", "text": "This paper proposes, for the first time, several constraint-based models for controlled evacuations that produce practical and feasible evacuation plans that address multiple constraints on existing methods by ensuring non-preventive planning and meeting operational evacuation constraints on mobilization resources; the algorithms are scalable, do not include time discretization, and are able to take into account boundary conditions for certain disaster scenarios or operational evacuation modes; furthermore, the models have no constraints on the input of evacuation paths that may or may not be convergent; preliminary tests show that high-quality solutions with an objective value that comes close to the goals of optimal preventive solutions can be achieved within seconds and improve over time."}], "references": [{"title": "Decomposition algorithms for the design of a nonsimultaneous capacitated evacuation tree network", "author": ["A.K. Andreas", "J.C. Smith"], "venue": "Networks 53(2), 91\u2013103", "citeRegEx": "1", "shortCiteRegEx": null, "year": 2009}, {"title": "Aggregate-level demand management in evacuation planning", "author": ["D.R. Bish", "H.D. Sherali"], "venue": "European Journal of Operational Research 224(1), 79\u201392", "citeRegEx": "2", "shortCiteRegEx": null, "year": 2013}, {"title": "Pattern-based evacuation planning for urban areas", "author": ["S. Bretschneider", "A. Kimms"], "venue": "European Journal of Operational Research 216(1), 57\u201369", "citeRegEx": "3", "shortCiteRegEx": null, "year": 2012}, {"title": "Phased evacuation: An optimisation model which takes into account the capacity drop phenomenon in pedestrian flows", "author": ["E.M. Cepolina"], "venue": "Fire Safety Journal (44), 532\u2013544", "citeRegEx": "4", "shortCiteRegEx": null, "year": 2008}, {"title": "Nicta evacuation planner: Actionable evacuation plans with contraflows", "author": ["C. Even", "V. Pillac", "P. Van Hentenryck"], "venue": "Proceedings of the 20th European Conference on Artificial Intelligence (ECAI 2014). Frontiers in Artificial Intelligence and Applications, vol. 263, pp. 1143\u20131148. IOS Press, Amsterdam", "citeRegEx": "5", "shortCiteRegEx": null, "year": 2014}, {"title": "Convergent plans for large-scale evacuations", "author": ["C. Even", "V. Pillac", "P. Van Hentenryck"], "venue": "Proceedings of the 29th AAAI Conference on Artificial Intelligence", "citeRegEx": "6", "shortCiteRegEx": "6", "year": 2015}, {"title": "Analysis of near-optimal evacuation instructions", "author": ["O.L. Huibregtse", "M.C. Bliemer", "S.P. Hoogendoorn"], "venue": "Procedia Engineering", "citeRegEx": "7", "shortCiteRegEx": "7", "year": 2010}, {"title": "Blocking roads to increase the evacuation efficiency", "author": ["O.L. Huibregtse", "A. Hegyi", "S. Hoogendoorn"], "venue": "Journal of Advanced Transportation 46(3), 282\u2013289", "citeRegEx": "8", "shortCiteRegEx": null, "year": 2012}, {"title": "A method to optimize evacuation instructions", "author": ["O.L. Huibregtse", "S.P. Hoogendoorn", "A. Hegyi", "M.C.J. Bliemer"], "venue": "OR Spectrum 33(3), 595\u2013627", "citeRegEx": "9", "shortCiteRegEx": null, "year": 2011}, {"title": "A capacitated network flow optimization approach for short notice evacuation planning", "author": ["G.J. Lim", "S. Zangeneh", "M.R. Baharnemati", "T. Assavapokee"], "venue": "European Journal of Operational Research 223(1), 234\u2013245", "citeRegEx": "10", "shortCiteRegEx": null, "year": 2012}, {"title": "A conflict-based path-generation heuristic for evacuation planning", "author": ["V. Pillac", "C. Even", "P. Van Hentenryck"], "venue": "Tech. Rep. VRL-7393,", "citeRegEx": "11", "shortCiteRegEx": "11", "year": 2013}, {"title": "A column-generation approach for joint mobilization and evacuation planning", "author": ["V. Pillac", "M. Cebrian", "P. Van Hentenryck"], "venue": "International Conference on Integration of Artificial Intelligence and Operations Research Techniques in Constraint Programming for Combinatorial Optimization Problems (CPAIOR). Barcelona", "citeRegEx": "12", "shortCiteRegEx": null, "year": 2015}, {"title": "A path-generation matheuristic for large scale evacuation planning", "author": ["V. Pillac", "P. Van Hentenryck", "C. Even"], "venue": "Hybrid Metaheuristics. Lecture Notes in Computer Science,", "citeRegEx": "13", "shortCiteRegEx": "13", "year": 2014}, {"title": "Decentralized evacuation management", "author": ["K.F. Richter", "M. Shi", "H.S. Gan", "S. Winter"], "venue": "Transportation Research Part C: Emerging Technologies 31, 1\u201317", "citeRegEx": "14", "shortCiteRegEx": null, "year": 2013}], "referenceMentions": [{"referenceID": 1, "context": "Apart from a few exceptions [2,5,6,9,11,13] existing evacuation approaches rely on free-flow models which assume that evacuees can be dynamically routed in the transportation network [3,10,14].", "startOffset": 28, "endOffset": 43}, {"referenceID": 4, "context": "Apart from a few exceptions [2,5,6,9,11,13] existing evacuation approaches rely on free-flow models which assume that evacuees can be dynamically routed in the transportation network [3,10,14].", "startOffset": 28, "endOffset": 43}, {"referenceID": 5, "context": "Apart from a few exceptions [2,5,6,9,11,13] existing evacuation approaches rely on free-flow models which assume that evacuees can be dynamically routed in the transportation network [3,10,14].", "startOffset": 28, "endOffset": 43}, {"referenceID": 8, "context": "Apart from a few exceptions [2,5,6,9,11,13] existing evacuation approaches rely on free-flow models which assume that evacuees can be dynamically routed in the transportation network [3,10,14].", "startOffset": 28, "endOffset": 43}, {"referenceID": 10, "context": "Apart from a few exceptions [2,5,6,9,11,13] existing evacuation approaches rely on free-flow models which assume that evacuees can be dynamically routed in the transportation network [3,10,14].", "startOffset": 28, "endOffset": 43}, {"referenceID": 12, "context": "Apart from a few exceptions [2,5,6,9,11,13] existing evacuation approaches rely on free-flow models which assume that evacuees can be dynamically routed in the transportation network [3,10,14].", "startOffset": 28, "endOffset": 43}, {"referenceID": 2, "context": "Apart from a few exceptions [2,5,6,9,11,13] existing evacuation approaches rely on free-flow models which assume that evacuees can be dynamically routed in the transportation network [3,10,14].", "startOffset": 183, "endOffset": 192}, {"referenceID": 9, "context": "Apart from a few exceptions [2,5,6,9,11,13] existing evacuation approaches rely on free-flow models which assume that evacuees can be dynamically routed in the transportation network [3,10,14].", "startOffset": 183, "endOffset": 192}, {"referenceID": 13, "context": "Apart from a few exceptions [2,5,6,9,11,13] existing evacuation approaches rely on free-flow models which assume that evacuees can be dynamically routed in the transportation network [3,10,14].", "startOffset": 183, "endOffset": 192}, {"referenceID": 8, "context": "[9] propose a two-stage algorithm that first generates a set of evacuation routes and feasible departure times, and then assigns a route and time to each evacuated area using an ant colony optimization algorithm.", "startOffset": 0, "endOffset": 3}, {"referenceID": 6, "context": "In subsequent work, the authors studied the robustness of the produced solution [7], and strategies to improve the compliance of evacuees [8].", "startOffset": 80, "endOffset": 83}, {"referenceID": 7, "context": "In subsequent work, the authors studied the robustness of the produced solution [7], and strategies to improve the compliance of evacuees [8].", "startOffset": 138, "endOffset": 141}, {"referenceID": 12, "context": "[13] first introduced the Conflict-based Path Generation (CPG) approach which was extended to contraflows by Even et al.", "startOffset": 0, "endOffset": 4}, {"referenceID": 4, "context": "[5].", "startOffset": 0, "endOffset": 3}, {"referenceID": 0, "context": "This issue is addressed in [1,6] which propose evacuation plans without forks.", "startOffset": 27, "endOffset": 32}, {"referenceID": 5, "context": "This issue is addressed in [1,6] which propose evacuation plans without forks.", "startOffset": 27, "endOffset": 32}, {"referenceID": 5, "context": "[6] produce such convergent evacuation plans by decomposing the evacuation problem in a tree-design problem and an evacuation scheduling problem.", "startOffset": 0, "endOffset": 3}, {"referenceID": 0, "context": "Andreas and Smith [1] developed a Benders decomposition algorithm that selects convergent evacuation routes that are robust to a set of disaster scenarios.", "startOffset": 18, "endOffset": 21}, {"referenceID": 3, "context": "Non-preemptive schedules have been considered in [4,12] in rather different ways.", "startOffset": 49, "endOffset": 55}, {"referenceID": 11, "context": "Non-preemptive schedules have been considered in [4,12] in rather different ways.", "startOffset": 49, "endOffset": 55}, {"referenceID": 3, "context": "In [4], a phased evacuation plan evacuates each area separately, guaranteeing that no vehicles from different areas travel on a same path at the same time.", "startOffset": 3, "endOffset": 6}, {"referenceID": 11, "context": "The algorithm in [12] is a column-generation approach for simultaneous evacuation, i.", "startOffset": 17, "endOffset": 21}, {"referenceID": 11, "context": "Contrary to [12], the constraint-programming model uses a decision variable for the flow rate of each evacuation area (instead of a fixed set of values) and avoids discretizing time.", "startOffset": 12, "endOffset": 16}, {"referenceID": 3, "context": "In contrast to [4], the constraint-programming model allows for simultaneous evacuation while satisfying practice-related constraints.", "startOffset": 15, "endOffset": 18}, {"referenceID": 5, "context": "1 shows the repartition of departure times for seven residential areas in the original HN80 instance using a preemptive schedule produced by the algorithm in [6].", "startOffset": 158, "endOffset": 161}, {"referenceID": 5, "context": "1: Departure times and flows of 7 residential areas of the HN80 instance with the preemptive algorithm FSP from [6].", "startOffset": 112, "endOffset": 115}, {"referenceID": 10, "context": "The Evacuation Planning Problem (EPP) was introduced by the authors in [11].", "startOffset": 71, "endOffset": 75}, {"referenceID": 11, "context": "For example, each flow rate variable domain may be restricted to a subset of values only, in order to account for the number of door-knocking resources available to schedule the evacuation [12].", "startOffset": 189, "endOffset": 193}, {"referenceID": 5, "context": "This section reports experiments on a set of instances used in [6].", "startOffset": 63, "endOffset": 66}, {"referenceID": 5, "context": "For each evacuation instance, a set of convergent evacuation paths was obtained from the TDFS approach [6].", "startOffset": 103, "endOffset": 106}, {"referenceID": 5, "context": "The experimental results compare the flow scheduling results obtained with the NEPP and NPEPP approaches and the flow scheduling problem (FSP) formulation presented in [6].", "startOffset": 168, "endOffset": 171}, {"referenceID": 11, "context": "This is similar to the approach proposed in [12], which uses a fixed set of response curves and their associated mobilization resources.", "startOffset": 44, "endOffset": 48}, {"referenceID": 11, "context": "Note that the column-generation algorithm in [12] does not produce convergent plans and discretizes time.", "startOffset": 45, "endOffset": 49}], "year": 2015, "abstractText": "Large-scale controlled evacuations require emergency services to select evacuation routes, decide departure times, and mobilize resources to issue orders, all under strict time constraints. Existing algorithms almost always allow for preemptive evacuation schedules, which are less desirable in practice. This paper proposes, for the first time, a constraint-based scheduling model that optimizes the evacuation flow rate (number of vehicles sent at regular time intervals) and evacuation phasing of widely populated areas, while ensuring a nonpreemptive evacuation for each residential zone. Two optimization objectives are considered: (1) to maximize the number of evacuees reaching safety and (2) to minimize the overall duration of the evacuation. Preliminary results on a set of real-world instances show that the approach can produce, within a few seconds, a non-preemptive evacuation schedule which is either optimal or at most 6% away of the optimal preemptive solution.", "creator": "LaTeX with hyperref package"}}}