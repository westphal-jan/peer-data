{"id": "1505.03662", "review": {"conference": "arxiv", "VERSION": "v1", "DATE_OF_SUBMISSION": "14-May-2015", "title": "Predicting Occupancy Trends in Barcelona's Bicycle Service Stations Using Open Data", "abstract": "In 2008, the CEO of the company that manages and maintains the public bicycle service in Barcelona 1 recognized that one may not expect to always find a place to leave the rented bike nearby their destination, similarly to the case when, driving a car, people may not find a parking lot 2 . In this work, we make predictions about the statuses of the stations of the public bicycle service in Barcelona. We show that it is feasible to correctly predict nearly half of the times when the stations are either completely full of bikes or completely empty, up to 2 days before they actually happen. That is, users might avoid stations at times when they could not return a bicycle that they have rented before, or when they would not find a bike to rent. To achieve that, we apply the Random Forest algorithm to classify the status of the stations and improve the lifetime of the models using publicly available data, such as information about the weather forecast. Finally, we expect that the results of the predictions can be used to improve the quality of the service and make it more reliable for the users.", "histories": [["v1", "Thu, 14 May 2015 09:37:18 GMT  (2398kb,D)", "https://arxiv.org/abs/1505.03662v1", "7 pages, 7 figures, 1 table, accepted to SAI Intelligent Systems Conference 2015"], ["v2", "Fri, 15 May 2015 20:47:18 GMT  (2398kb,D)", "http://arxiv.org/abs/1505.03662v2", "7 pages, 7 figures, 1 table, accepted to SAI Intelligent Systems Conference 2015"], ["v3", "Thu, 6 Aug 2015 09:24:05 GMT  (2399kb,D)", "http://arxiv.org/abs/1505.03662v3", "7 pages, 7 figures, 1 table, accepted to SAI Intelligent Systems Conference 2015"]], "COMMENTS": "7 pages, 7 figures, 1 table, accepted to SAI Intelligent Systems Conference 2015", "reviews": [], "SUBJECTS": "cs.AI cs.CY", "authors": ["gabriel martins dias", "boris bellalta", "simon oechsner"], "accepted": false, "id": "1505.03662"}, "pdf": {"name": "1505.03662.pdf", "metadata": {"source": "CRF", "title": "Predicting Occupancy Trends in Barcelona\u2019s Bicycle Service Stations Using Open Data", "authors": ["Gabriel Martins Dias", "Boris Bellalta", "Simon Oechsner"], "emails": ["simon.oechsner}@upf.edu"], "sections": [{"heading": null, "text": "In fact, most of them are able to trump themselves, and they are able to trump themselves. (...) Most of them are able to trump themselves. (...) Most of them are able to trump themselves. (...) Most of them are able to trump themselves. (...) Most of them are able to trump themselves. (...) Most of them are able to trump themselves. (...) Most of them are able to trump themselves. (...) Most of them are able to trump themselves. (...) Most of them are able to trump themselves. (...) Most of them are able to trump themselves. (...) Most of them are able to trump themselves. (...)"}, {"heading": "II. BACKGROUND", "text": "In this section, we give an overview of how predictions are made and list the most relevant works that use different forecasting methods based on public data."}, {"heading": "A. Time Series", "text": "There are many methods that have been developed to predict values from sampled data. Na\u0131ve predictions are based on aggregated functions, such as the average, sum, maximum or median value within a set of numbers. Although they have low computational costs, their accuracy is usually limited. Time series methods are more powerful. They consider the development of a system taking into account historical observations indexed by time. Examples of such methods can vary from the simplest authoregressive (AR) and moving averages (MA) to the most complex extensions of ARIMA (SARIMA, VARIMA, ARIMA-GARCH) [1]. Such methods are more commonly used in economics to predict stock prices and their variations, but their application can be extended to almost any area of the study. Compared to na\u0131ve methods they use more compression power, but the expectations regarding their accuracy are also much higher than those of the more detailed analysis of the authors in the BAR."}, {"heading": "B. Multivariate methods", "text": "In traditional prediction methods, which only use time series as input, the data is considered univariate. That is, apart from time (used to index the observations), only the own variable (represented by past observations) is used as input to predict the future values. Considering the fact that the input variables are used to make predictions, we will call them predictors. In many cases, the data can be multivariate and a number of predictors are mapped to the initial value. In addition to time to index each observation, it may also be possible to use characteristics of the environment that are relevant and can cause effects on future output values. Since situations in the real world are usually composed of several aspects that can influence the others, such methods can better reproduce the evidence of the environment. Appropriate ideas, recent studies have come to the conclusion that, taking into account multiple data sources and different points of view, more precise predictions are made. [3]"}, {"heading": "C. Random Forest", "text": "Random Forest [7] is an algorithm that uses decision trees to create unbiased classification trees. To achieve this, the method randomly selects a subset of predictors from the original data and builds on it a classification tree. After creating several trees, a final decision tree is created based on the average relevance of the predictors and can be used to make predictions about other groups of observations. Therefore, in addition to building the decision tree, the Random Forest algorithm calculates the relevance of each predictor in the real environment. One method to represent the relevance of the predictors is to calculate the mean decrease in the Gini coefficient of the predictors. The Gini coefficient is a measure of the inequality of a distribution, with 0 representing perfect equality and 1 complete inequality. In the Random Forest algorithm, after the decision trees are created, the Gini coefficient is calculated for each plane of the tree and its parent."}, {"heading": "III. DATA SETS", "text": "In this section, we will explain how the data used in the experiments are handled. This description makes this research reproducible, in addition to explaining the source and reliability of the data we used in the tests.The data generated by the Bicing system is available for public access via an API (Application Programming Interface) that can be accessed online. 3 The information available in this dataset refers to the current status of the stations: their location; a list of the closest stations; whether they are functioning normally or not; the number of available bikes; and the number of free slots (i.e. the number of bikes that can be parked at that moment).This information is updated almost once a minute. For more than a year, we have stored this information almost once a minute, i.e., despite some occasional failures, such as connection problems between our computers and our database server, we have all the information available for testing during that time interval."}, {"heading": "IV. STUDY OF THE DATA", "text": "This year, it has come to the point that it is only a matter of time before it will happen, until it does."}, {"heading": "V. RESULTS", "text": "In the period from 5 to 12 February 2015, we carried out our tests on the basis of the selected stations. From 00: 00 to 01: 00 we established the prediction models and made predictions for every 15 minutes. We calculated the accuracy as the proportion of time in which the stations were either empty and full and had been successfully predicted. In addition, in order to observe the performance of the predictions, we calculated the sensitivity and specificity of each method. The sensitivity is the relation between the total number of \"true positives\" and the \"positives.\" In our scenario, a \"positive\" occurs when a station is predicted either full or empty, the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the \"the\" the"}, {"heading": "A. ARIMA vs. Random Forest", "text": "Predictions using ARIMA models had been shown by other authors to be very efficient in the short term (less than 15 minutes), but our tests showed that they were very inaccurate in predicting a full day. In fact, they had never predicted that the stations would be completely full or completely empty, as they tend to be about the average of the last few days. After observing such low accuracy, we opted for a more flexible assessment of the results. The flexible criteria (marked with an asterisk in the diagrams) consider predictions of almost full and almost empty levels in calculating sensitivity and specificity as \"positive\" results. From a practical point of view, users and administrators can regard these levels as \"warnings\" about the possibility of reaching a critical level (full or empty). In Figure 5, we show the results obtained for predictions, the ARIMA and those using the Random Forest models as \"positive\" results, even taking into account a more flexible IMA model, the IMA predictions are clearly exceeded by the IMA model."}, {"heading": "B. Enhanced Random Forest models", "text": "In Figure 6, we compare two different Random Forest models, the \"RF\" and the \"Extended RF.\" The difference is that the simplest Random Forest models (\"RF\") have fewer predictors and therefore require less data and less sensitivity to be built. However, in the other models (\"Extended RF\"), we only include predictions of weather conditions and information about possible holidays, which can increase the amount of information they take into account in the forecast. Due to the low sensitivity observed using the flexible criteria, we have only taken into account the results obtained based on the standard criteria of evaluation of their performance, strictly considering the outcome of the predictions as their exact meaning, i.e. a prediction result is considered \"positive\" only when it is either full or empty, and \"negative\" otherwise. We note that the sensitivity and specificity of these predictions are always better than the IMA models \"predictions."}, {"heading": "C. Durability of the models", "text": "Considering that the high total number of stations may require a large amount of computing time to build the prediction models and make the predictions, we observed whether the quality of the predictions had declined over several days (from 7 to 12 February), i.e. we made predictions for the next 3 days (72 hours) and compared their accuracy, sensitivity and specificity with the age of the predictions over the same days (from 7 to 12 February). Results (shown in Figure 7) show that the accuracy of the predictions only decreased from 49.1% to 47% using data from the bicing system www.conference.thesai.org 5 | P a g, which cannot be considered a big difference, but the most complex models performed better and kept their accuracy above 49.4% even when they made predictions for 2 days later. Furthermore, the predictions that used external information not only showed better sensitivity, if some models were made better than others, but also better performance."}, {"heading": "VI. CONCLUSION AND FUTURE WORK", "text": "In this paper, we presented an analysis of the data on the public bicycle system in Barcelona and the predictions of the condition of the stations over 8 days (February 5-12, 2015). In order to conduct tests and draw our conclusions, we selected 4 stations that often have a critical status, i.e. they spend more than 5 hours a day completely on the bike. We first observed the characteristics of such stations, for example the effects of high temperatures and the influence of relative humidity on the number of bikes. Later, we compared the accuracy of the predictions with those that use the algorithms with which the algorithms are used."}, {"heading": "ACKNOWLEDGMENT", "text": "This work was partially supported by the Spanish government through the TEC2012-32354 project (Plan Nacional I + D) and by the Catalan government through the SGR2014-1173 project."}], "references": [{"title": "Urban cycles and mobility patterns: Exploring and predicting trends in a bicycle-based public transport system", "author": ["A. Kaltenbrunner", "R. Meza", "J. Grivolla", "J. Codina", "R. Banchs"], "venue": "Pervasive and Mobile Computing, vol. 6, no. 4, pp. 455\u2013466, Aug. 2010. [Online]. Available: http://linkinghub.elsevier.com/retrieve/pii/S1574119210000568", "citeRegEx": "2", "shortCiteRegEx": null, "year": 2010}, {"title": "The Psychology of Intelligence Analysis: Drivers of Prediction Accuracy in World Politics", "author": ["B. Mellers", "E. Stone", "P. Atanasov", "N. Rohrbaugh", "S.E. Metz", "L. Ungar", "M.M. Bishop", "M. Horowitz", "E. Merkle", "P. Tetlock"], "venue": "Journal of experimental psychology: Applied, vol. 21, no. 1, pp. 1\u201314, 2015.", "citeRegEx": "3", "shortCiteRegEx": null, "year": 2015}, {"title": "Sensing and Predicting the Pulse of the City through Shared Bicycling.", "author": ["J. Froehlich", "J. Neumann", "N. Oliver"], "venue": "IJCAI, no", "citeRegEx": "4", "shortCiteRegEx": "4", "year": 2009}, {"title": "Mining Public Transport Usage for Personalised Intelligent Transport Systems", "author": ["N. Lathia", "J. Froehlich", "L. Capra"], "venue": "2010 IEEE International Conference on Data Mining, no. October 2009, pp. 887\u2013892, Dec. 2010. [Online]. Available: http://ieeexplore.ieee.org/ lpdocs/epic03/wrapper.htm?arnumber=5694056", "citeRegEx": "5", "shortCiteRegEx": null, "year": 2010}, {"title": "Induction of decision trees", "author": ["J. Quinlan"], "venue": "Machine learning, pp. 81\u2013106, 1986. [Online]. Available: http://link.springer.com/article/10.1023/A: 1022643204877", "citeRegEx": "6", "shortCiteRegEx": null, "year": 1986}, {"title": "Random forests", "author": ["L. Breiman"], "venue": "Machine learning, pp. 1\u201333, 2001. [Online]. Available: http://link.springer.com/article/10.1023/A: 1010933404324", "citeRegEx": "7", "shortCiteRegEx": null, "year": 2001}, {"title": "A new look at the statistical model identification", "author": ["H. Akaike"], "venue": "Automatic Control, IEEE Transactions on, 1974. [Online]. Available: http://ieeexplore.ieee.org/xpls/abs all.jsp?arnumber=1100705 www.conference.thesai.org  7 | P a g e", "citeRegEx": "8", "shortCiteRegEx": null, "year": 1974}], "referenceMentions": [{"referenceID": 0, "context": "In [2], the authors did an analysis of the Bicing system and made predictions about the number of bikes in the near future using Na\u0131\u0308ve and AR models.", "startOffset": 3, "endOffset": 6}, {"referenceID": 1, "context": "Corroborating such idea, recent studies have concluded that considering multiple sources of data and different points of view can produce more accurate predictions [3].", "startOffset": 164, "endOffset": 167}, {"referenceID": 2, "context": "In [4], the authors studied the bike system operation with predictions about the number of bikes at the stations in the near future using Na\u0131\u0308ve models and Bayesian Networks.", "startOffset": 3, "endOffset": 6}, {"referenceID": 3, "context": "In [5], the authors observed the similarity of the subway stations from a different perspective than ours.", "startOffset": 3, "endOffset": 6}, {"referenceID": 4, "context": "As an example of a scalable multivariate method, decision tree learning [6] is successfully applied in machine learning problems to make predictions.", "startOffset": 72, "endOffset": 75}, {"referenceID": 5, "context": "Random Forest [7] is an algorithm that uses decision trees to create unbiased classification trees.", "startOffset": 14, "endOffset": 17}, {"referenceID": 6, "context": "The number of available bikes at the stations was considered a time series and a seasonal ARIMA model was chosen using the Akaike information criterion [8].", "startOffset": 152, "endOffset": 155}, {"referenceID": 2, "context": "Although this is relevant and explored in other studies that observed daily trends [4], there are interesting points which have not been noticed before.", "startOffset": 83, "endOffset": 86}], "year": 2015, "abstractText": "In 2008, the CEO of the company that manages and maintains the public bicycle service in Barcelona recognized that one may not expect to always find a place to leave the rented bike nearby their destination, similarly to the case when, driving a car, people may not find a parking lot. In this work, we make predictions about the statuses of the stations of the public bicycle service in Barcelona. We show that it is feasible to correctly predict nearly half of the times when the stations are either completely full of bikes or completely empty, up to 2 days before they actually happen. That is, users might avoid stations at times when they could not return a bicycle that they have rented before, or when they would not find a bike to rent. To achieve that, we apply the Random Forest algorithm to classify the status of the stations and improve the lifetime of the models using publicly available data, such as information about the weather forecast. Finally, we expect that the results of the predictions can be used to improve the quality of the service and make it more reliable for the users. Keywords\u2014Smart cities; Data analytics; Data science; Artificial intelligence", "creator": "LaTeX with hyperref package"}}}