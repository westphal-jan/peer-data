{"id": "1505.06531", "review": {"conference": "arxiv", "VERSION": "v1", "DATE_OF_SUBMISSION": "25-May-2015", "title": "Affine and Regional Dynamic Time Warpng", "abstract": "Pointwise matches between two time series are of great importance in time series analysis, and dynamic time warping (DTW) is known to provide generally reasonable matches. There are situations where time series alignment should be invariant to scaling and offset in amplitude or where local regions of the considered time series should be strongly reflected in pointwise matches. Two different variants of DTW, affine DTW (ADTW) and regional DTW (RDTW), are proposed to handle scaling and offset in amplitude and provide regional emphasis respectively. Furthermore, ADTW and RDTW can be combined in two different ways to generate alignments that incorporate advantages from both methods, where the affine model can be applied either globally to the entire time series or locally to each region. The proposed alignment methods outperform DTW on specific simulated datasets, and one-nearest-neighbor classifiers using their associated difference measures are competitive with the difference measures associated with state-of-the-art alignment methods on real datasets.", "histories": [["v1", "Mon, 25 May 2015 03:23:31 GMT  (546kb,D)", "http://arxiv.org/abs/1505.06531v1", null]], "reviews": [], "SUBJECTS": "cs.CV cs.CE cs.LG", "authors": ["tsu-wei chen", "meena abdelmaseeh", "daniel stashuk"], "accepted": false, "id": "1505.06531"}, "pdf": {"name": "1505.06531.pdf", "metadata": {"source": "CRF", "title": "Affine and Regional Dynamic Time Warping", "authors": ["Tsu-Wei Chen", "Meena Abdelmaseeh", "Daniel Stashuk"], "emails": [], "sections": [{"heading": null, "text": "Index terms - pattern recognition, time series, algorithms, alignment, similarity measurements.F"}, {"heading": "1 INTRODUCTION", "text": "This year, it is more than ever before in the history of the country in which it is a country, in which it is a country, in which it is a country, in which it is a country, in which it is a country, in which it is not a country, but in which it is a country, a country and a region."}, {"heading": "2 ALIGNMENT METHODOLOGY", "text": "It is not the first time that the EU Commission has taken such a step."}, {"heading": "2.1 Notation", "text": "Let s = (s1, s2,..., sn), Rn and t = (t1, t2,..., tm) and Rm be two time series of interest. Let p also represent a sequence of matching points between s and t, where ep = {p (1) = (a1, b1), p (2) = (a2, b2),..., p (| p |) = (a | p |, b | p |)} and (ak, bk) \u0445Z2 > 0 means that the point sak coincides with the point tbk. Furthermore, d should be a measure of difference between two points, and d is assumed to be the square difference, unless otherwise mentioned."}, {"heading": "2.2 DTW Review", "text": "DTW is a method that concurs in two time series that are subject to non-linear temporal variations.For a pair of time series s and t, DTW is searched for optimal alignment p * among all possible alignments p * P as follows: (s, t, p) = (n, m) \u2022 Monotonicity: If p (k) = (a, b) and p (k + 1) = (c, d), then c), b) Size: If p (k) and p (k + 1). Monotonicity: If p (k) = (a, b) and p (k)."}, {"heading": "2.3 Affine DTW", "text": "ADTW assumes that it is a scaled and offset version of t with temporal variations. Formally, the goal is to find a path p *, which is seen in terms of the way it is scaled, in terms of the way it is characterized, in terms of the way it is characterized, in terms of the way it is characterized, in terms of the way it is characterized, in terms of the way it is characterized, in terms of the way it is characterized, in terms of the way it is characterized. For Brevity, DA (s, t, p, c, e) the DTW constraints will be referred to as DA (s, p, c, e) constant r.. This formulation aimed at optimizing a global minimum in DA (s, t, p, c, e)."}, {"heading": "2.4 Regional DTW", "text": "Regional DTW (RDTW) modifies DTW to add more weight to a region of points that is potentially representative of a component of interest in a time series. This is achieved by replacing the point-soft distance measure d with a distance dr that measures the difference between points in a region. Let wr = 1 + 2wh (O + 2wh) be the area width to be considered. Then, RDTW \u2212 n finds an alignment p (s, t, p, wh, wh) = | p | k = 1 dr (sak, tbk, wh) taking into account the DTW constraints, where (sa, tb, wh, wh, wh) the total alignment p (s) = 1wa, b \u2212 w = \u2212 wh1 \u2264 a + w \u2264 a + w \u2264 a + w \u2264 1 \u2264 b + w = elements md (sa + w) and w \u2264 md (sa, tb + w) and wa, the sum of which is in the above number."}, {"heading": "2.5 Global-Affine RDTW", "text": "In the global affine RDTW (GARDTW), a time series is modeled as the scaled and offset version of another time series, if it is aligned with a regional focus. Formally, the aim is to find a path p *, which is subject to the DTW restrictions, anddg (sak, tbk, wh, c, wh) = | p | k = 1 dg (sak, tbk, c, wh), anddg (sak, tbk, c, e, wh) = 1wak, bkwh, w = \u2212 whw: 1 \u2264 bk + w \u2264 md (sak + w, tbk + w, ctbk + e) DG (s, t, c, e, e, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, -, wg, wg, wg, wg, wg, wg, wg, wg, wg, wg, -, wg, wg, wg, wg, wg, wg, wg, -, -, -, -,"}, {"heading": "2.6 Local-Affine RDTW", "text": "In the local affine RDTW (LARDTW), the region surrounding each point can be reached with the following equations: b = b = b = b = b = b = b = b = b = b = b = b = b = b = b = b = b = b = b = b = b = b = b = b = b = b = b = b = b = b = b = b = b = b = b = b = b = b = b + w = b + w = b + w = b = b = b = b = b = b = b = b = b = b = b + b = b = b = b + b = b = b + w = b + w = b + w = b + w = b + w = b + w = b + w = b + w = b = b = b = b = b = b = b = b = b = b = b = b = b = b = b = b = b = b + b = b = b = b = b = b = b = b = b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b \u2212 b"}, {"heading": "3 EVALUATION AND DISCUSSION", "text": "It is not the first time that the EU Commission has taken such a step."}, {"heading": "3.1 Parameter Values of the Proposed Methods", "text": "The proposed methods of ADTW, RDTW, GARDTW and LARDTW introduce additional parameters to the bandwidth parameter wb of the DTW. What these parameters are set to or how they are set for evaluation is described in detail in Table 1, and these parameters are described below. Remember that the SakoeChiba bandwidth wb is 1 + 2wq and n is the typical length of a time series in the evaluated dataset. Consequently, wqn mirrors the bandwidth wb. Likewise, the region width wr is 1 + 2wh, i.e. whn is the region width wr used by RDTW and methods that extend it. Dstop is a parameter related to the hold condition for the ADTW and the GARDTW algorithms represented in algorithm 1 and 2. (cmin, cmax) exists to avoid improper scaling for ADTW, GARTW and DTW LW."}, {"heading": "3.2 Alignment Evaluation", "text": "For the global affine simulation, simulated temporal variations, scales and offsets of real-time series were imposed. For the component-based simulation, different widths and scales were imposed on the simulated components and these components were superimposed with different time offsets to create a series of time series for the evaluation of alignment."}, {"heading": "3.2.1 Global Affine Simulation", "text": "For the global affine simulation, which gave a real time series s, a temporal variant of s = (1,...,...,... z) was created because it was defined by a warping function \u03c9 = (1),..., (z)), where a random value was modelled as follows: \"(i) + 1 with the probability of Pmatch\" (i) + 2 with the probability of Pdelete \"(i) with the probability of Pinsertwhere Pmatch + Pdelete + Pinsert = 1 (1) = 1, and this sequence ends with the probability of Pmatch\" (i) > n. The true orientation pt = (at1, btm), (atm, btm)} between s and plasma \"with the probability of Plasma.\""}, {"heading": "3.2.2 Component-Based Simulation", "text": "Each time series consisted of the superposition of different components with different widths and scales at different locations (all) for a component-based simulation. Let s and t be two simulated component-based time series of length n. Let nc be the number of components within a time series. Then, however, s and t were simulated as follows: s = nc \u2211 j = 1 a (s) j p (i, s) j p (s) j p (s) j, zj), t = nc (t) j components (i (t) j, w (t) j, zj) j, where there is a component of type z centered at location i (s) j, and a is the associated scaling factor. Different component types are associated with different windows commonly used in spectral analysis, where z = 1, 2, 3, 4 denote a parcels, rectangular, and flat weighted windows are applied."}, {"heading": "3.3 Difference Measure Evaluation", "text": "This year it is as far as never before in the history of the Federal Republic of Germany."}, {"heading": "3.4 ADTW vs Normalization Before DTW", "text": "Pre-DTW normalization finds scaling and offset independent of alignment, while ADTW considers alignment appropriate to find appropriate scaling and offset iterative, and updates alignment accordingly. Figure 11A compares ADTW and pre-DTW normalization across different delay probabilities Pw = 2Pdelete = 2Pinsert based on global affinity simulation (described in Section 3.1.1), where ADTW exceeds pre-DTW normalization by larger amounts as the level of delay increases; the difference between their production alignments is also illustrated in Figure 11B and C, and the ADTW alignment is closer to true. We do not claim that ADTW is better than pre-DTW normalization in general, as there is no evidence that the ADTW-based classification is better than the use of the DTW property for ADTW dependence on WWWW values."}, {"heading": "3.5 Analysis of Region Width", "text": "Figure 12 shows the sensitivity of the 1-NN classification accuracy to the region width for the UCR datasets studied. Figure 12 shows that the 1-NN-RDTW classification accuracy is very sensitive to the region width for some datasets, while it is not sensitive to the region width for other datasets. Furthermore, the coordinated region width for RDTW is not arbitrary. In [17] FastShapelet delivered the lowest error rate ever recorded for the ECGFiveDays dataset by extracting a sub-sequence (delayed t-wave) that has been confirmed by a medical expert as discriminatory. Interestingly, the coordinated region width for RDTW is approximately the length of this sub-sequence, and LARDTW provides an even better error rate of 0 by appropriately handling the migrating baseline. [18] Small series of measurement differences for these DexTW datasets were presented as a DexTW series of 1."}, {"heading": "3.6 Actual Runtime Comparison", "text": "In the previous section of Alignment Methodology, the runtime complexity of DTW, ADTW, RDTW, GARDTW, and LARDTW was discussed. DTW, RDTW, and LARDTW9 share the time complexity of O (wbn), while ADTW and GARDTW share the time complexity of O (ncwbn). Remember that wb is the Sakoe-Chiba bandwidth, nc is the number of iterations required for convergence for the ADTW and GARDTW algorithms, and n is the length of the time series to find an alignment. Figure 13 compares the average time it takes to generate an alignment for each proposed method (ADTW, RDTW, GARqW, GARDTW, and LARDTW) to greater than the data sets of DTW."}, {"heading": "4 CONCLUSION", "text": "ADTW, RDTW, GARDTW and LARDTW are alignment methods whose models include affinity invariance and regional focus. If applied to problems whose underlying models are similar to the models underlying the methods, the proposed DTW variants are expected to deliver performance gains as demonstrated in this work on simulated models and real datasets.Fig.13: Actual time taken to calculate the proposed differential measures compared to DTW in the UCR database. The average paired alignment times were calculated by randomly selecting 20 time series from each UCR dataset for 10 calculations."}, {"heading": "APPENDIX A GARDTW AFFINE EQUATIONS", "text": "Do you want to be seated before dawn????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????"}], "references": [{"title": "Querying and mining of time series data: experimental comparison of representations and distance measures", "author": ["H. Ding", "G. Trajcevski", "P. Scheuermann", "X. Wang", "E. Keogh"], "venue": "VLDB, vol. 1, no. 2, pp. 1542\u20131552, 2008.", "citeRegEx": "1", "shortCiteRegEx": null, "year": 2008}, {"title": "A review on time series data mining", "author": ["T. Fu"], "venue": "Elsevier EAAI, vol. 24, no. 1, pp. 164\u2013181, 2011.", "citeRegEx": "2", "shortCiteRegEx": null, "year": 2011}, {"title": "Affine invariant dynamic time warping and its application to online rotated handwriting recognition", "author": ["Y. Qiao", "M. Yasuhara"], "venue": "ICPR, vol. 2, pp. 905\u2013908, 2006.  10", "citeRegEx": "3", "shortCiteRegEx": null, "year": 2006}, {"title": "Everything you know about dynamic time warping is wrong", "author": ["C.A. Ratanamahatana", "E. Keogh"], "venue": "Workshop on MTSD, pp. 22\u2013 25, 2004.", "citeRegEx": "5", "shortCiteRegEx": null, "year": 2004}, {"title": "A classification EM algorithm for clustering and two stochastic versions", "author": ["G. Celeux", "G. Govaert"], "venue": "CSDA, vol. 14, no. 3, pp. 315\u2013332, 1992.", "citeRegEx": "6", "shortCiteRegEx": null, "year": 1992}, {"title": "Derivative dynamic time warping", "author": ["E.J. Keogh", "M.J. Pazzani"], "venue": "SIAM SDM, vol. 1, pp. 5\u20137, 2001.", "citeRegEx": "7", "shortCiteRegEx": null, "year": 2001}, {"title": "Functional data analysis with R and MATLAB", "author": ["S. Graves", "G. Hooker", "J. Ramsay"], "venue": "2009.", "citeRegEx": "8", "shortCiteRegEx": null, "year": 2009}, {"title": "Weighted dynamic time warping for time series classification", "author": ["Y.-S. Jeong", "M.K. Jeong", "O.A. Omitaomu"], "venue": "Pattern Recognition, vol. 44, no. 9, pp. 2231\u20132240, 2011.", "citeRegEx": "10", "shortCiteRegEx": null, "year": 2011}, {"title": "The move-split-merge metric for time series", "author": ["A. Stefan", "V. Athitsos", "G. Das"], "venue": "IEEE Transactions on Knowledge and Data Engineering, vol. 25, no. 6, pp. 1425\u20131438, 2013.", "citeRegEx": "12", "shortCiteRegEx": null, "year": 2013}, {"title": "Time warp edit distance with stiffness adjustment for time series matching", "author": ["P.-F. Marteau"], "venue": "Pattern Analysis and Machine Intelligence, IEEE Transactions on, vol. 31, no. 2, pp. 306\u2013318, 2009.", "citeRegEx": "13", "shortCiteRegEx": null, "year": 2009}, {"title": "On the marriage of lp-norms and edit distance", "author": ["L. Chen", "R. Ng"], "venue": "Proceedings of the Thirtieth international conference on Very large data bases-Volume 30, pp. 792\u2013803, VLDB Endowment, 2004.", "citeRegEx": "14", "shortCiteRegEx": null, "year": 2004}, {"title": "Time series classification with ensembles of elastic distance measures", "author": ["J. Lines", "A. Bagnall"], "venue": "Data Mining and Knowledge Discovery, pp. 1\u201328, 2014.", "citeRegEx": "15", "shortCiteRegEx": null, "year": 2014}, {"title": "Statistical comparisons of classifiers over multiple data sets", "author": ["J. Dem\u0161ar"], "venue": "The Journal of Machine Learning Research, vol. 7, pp. 1\u201330, 2006.", "citeRegEx": "16", "shortCiteRegEx": null, "year": 2006}, {"title": "Fast shapelets: A scalable algorithm for discovering time series shapelets", "author": ["T. Rakthanmanon", "E. Keogh"], "venue": "SIAM SDM, vol. 13, 2013.", "citeRegEx": "17", "shortCiteRegEx": null, "year": 2013}, {"title": "A complexity-invariant distance measure for time series", "author": ["G. Batista", "X. Wang", "E. Keogh"], "venue": "SIAM SDM, vol. 11, pp. 699\u2013710, 2011.", "citeRegEx": "18", "shortCiteRegEx": null, "year": 2011}], "referenceMentions": [{"referenceID": 0, "context": "In addition, a comprehensive survey demonstrated that DTW outperforms many other methods across many applications [1].", "startOffset": 114, "endOffset": 117}, {"referenceID": 1, "context": "As a result, there has been a large influx of methods based on DTW to realize particular models for obtaining better alignments under specific contexts [2].", "startOffset": 152, "endOffset": 155}, {"referenceID": 2, "context": "ADTW is a simplified version of the method proposed in [3], where scaling, offset, rotation, and shear/squeeze mappings are imposed on images when applying DTW.", "startOffset": 55, "endOffset": 58}, {"referenceID": 3, "context": "The width of the band wb is given by wb = 1+2wq , and it is recommended to be tuned based on specific problems [5].", "startOffset": 111, "endOffset": 114}, {"referenceID": 4, "context": ", and it converges to a local optimum at a linear rate when certain conditions are fulfilled [6].", "startOffset": 93, "endOffset": 96}, {"referenceID": 5, "context": "A slight variant of the measure introduced in [7] was used to evaluate an alignment p on s", "startOffset": 46, "endOffset": 49}, {"referenceID": 6, "context": "Global affine simulations were based on 3 datasets taken from [8].", "startOffset": 62, "endOffset": 65}, {"referenceID": 7, "context": "The compared state-of-the-art elastic difference measures include weighted DTW (WDTW) [10], derivative DTW (DDTW) [7], weighted derivative DTW (WDDTW) [10], longest common subsequence (LCSS) [11], move-split-merge (MSM) [12], time warp edit (TWE) [13] and edit distance with real penalty (ERP) [14].", "startOffset": 86, "endOffset": 90}, {"referenceID": 5, "context": "The compared state-of-the-art elastic difference measures include weighted DTW (WDTW) [10], derivative DTW (DDTW) [7], weighted derivative DTW (WDDTW) [10], longest common subsequence (LCSS) [11], move-split-merge (MSM) [12], time warp edit (TWE) [13] and edit distance with real penalty (ERP) [14].", "startOffset": 114, "endOffset": 117}, {"referenceID": 7, "context": "The compared state-of-the-art elastic difference measures include weighted DTW (WDTW) [10], derivative DTW (DDTW) [7], weighted derivative DTW (WDDTW) [10], longest common subsequence (LCSS) [11], move-split-merge (MSM) [12], time warp edit (TWE) [13] and edit distance with real penalty (ERP) [14].", "startOffset": 151, "endOffset": 155}, {"referenceID": 8, "context": "The compared state-of-the-art elastic difference measures include weighted DTW (WDTW) [10], derivative DTW (DDTW) [7], weighted derivative DTW (WDDTW) [10], longest common subsequence (LCSS) [11], move-split-merge (MSM) [12], time warp edit (TWE) [13] and edit distance with real penalty (ERP) [14].", "startOffset": 220, "endOffset": 224}, {"referenceID": 9, "context": "The compared state-of-the-art elastic difference measures include weighted DTW (WDTW) [10], derivative DTW (DDTW) [7], weighted derivative DTW (WDDTW) [10], longest common subsequence (LCSS) [11], move-split-merge (MSM) [12], time warp edit (TWE) [13] and edit distance with real penalty (ERP) [14].", "startOffset": 247, "endOffset": 251}, {"referenceID": 10, "context": "The compared state-of-the-art elastic difference measures include weighted DTW (WDTW) [10], derivative DTW (DDTW) [7], weighted derivative DTW (WDDTW) [10], longest common subsequence (LCSS) [11], move-split-merge (MSM) [12], time warp edit (TWE) [13] and edit distance with real penalty (ERP) [14].", "startOffset": 294, "endOffset": 298}, {"referenceID": 11, "context": "The evaluated results of these compared elastic difference measures on the UCR database were taken from [15], and there are 43 datasets that overlap with the evaluation of our proposed methods.", "startOffset": 104, "endOffset": 108}, {"referenceID": 11, "context": "An ensemble classifier based on the compared elastic difference measures (WDTW, DDTW, WDDTW, LCSS, MSM, TWE and ERP) has been demonstrated to be the most accurate time series classifier ever proposed in the data mining literature [15].", "startOffset": 230, "endOffset": 234}, {"referenceID": 12, "context": "proposed methods and most of the compared elastic difference measures based on the Friedman rank test as described in [16].", "startOffset": 118, "endOffset": 122}, {"referenceID": 13, "context": "In [17], FastShapelet provided the lowest error rate ever recorded for the ECGFiveDays dataset by extracting a subsequence (delayed t-wave) confirmed to be discriminative by a medical expert.", "startOffset": 3, "endOffset": 7}, {"referenceID": 14, "context": "In [18], time series extracted from leaf images were presented as a motivating example for a complexity-invariant measure.", "startOffset": 3, "endOffset": 7}], "year": 2015, "abstractText": "Pointwise matches between two time series are of great importance in time series analysis, and dynamic time warping (DTW) is known to provide generally reasonable matches. There are situations where time series alignment should be invariant to scaling and offset in amplitude or where local regions of the considered time series should be strongly reflected in pointwise matches. Two different variants of DTW, affine DTW (ADTW) and regional DTW (RDTW), are proposed to handle scaling and offset in amplitude and provide regional emphasis respectively. Furthermore, ADTW and RDTW can be combined in two different ways to generate alignments that incorporate advantages from both methods, where the affine model can be applied either globally to the entire time series or locally to each region. The proposed alignment methods outperform DTW on specific simulated datasets, and one-nearest-neighbor classifiers using their associated difference measures are competitive with the difference measures associated with state-of-the-art alignment methods on real datasets.", "creator": "LaTeX with hyperref package"}}}