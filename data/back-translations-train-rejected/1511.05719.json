{"id": "1511.05719", "review": {"conference": "arxiv", "VERSION": "v1", "DATE_OF_SUBMISSION": "18-Nov-2015", "title": "Using Abduction in Markov Logic Networks for Root Cause Analysis", "abstract": "IT infrastructure is a crucial part in most of today's business operations. High availability and reliability, and short response times to outages are essential. Thus a high amount of tool support and automation in risk management is desirable to decrease outages. We propose a new approach for calculating the root cause for an observed failure in an IT infrastructure. Our approach is based on Abduction in Markov Logic Networks. Abduction aims to find an explanation for a given observation in the light of some background knowledge. In failure diagnosis, the explanation corresponds to the root cause, the observation to the failure of a component, and the background knowledge to the dependency graph extended by potential risks. We apply a method to extend a Markov Logic Network in order to conduct abductive reasoning, which is not naturally supported in this formalism. Our approach exhibits a high amount of reusability and enables users without specific knowledge of a concrete infrastructure to gain viable insights in the case of an incident. We implemented the method in a tool and illustrate its suitability for root cause analysis by applying it to a sample scenario.", "histories": [["v1", "Wed, 18 Nov 2015 10:13:43 GMT  (287kb,D)", "http://arxiv.org/abs/1511.05719v1", null]], "reviews": [], "SUBJECTS": "cs.AI", "authors": ["joerg schoenfisch", "janno von st\u007fulpnagel", "jens ortmann", "christian meilicke", "heiner stuckenschmidt"], "accepted": false, "id": "1511.05719"}, "pdf": {"name": "1511.05719.pdf", "metadata": {"source": "CRF", "title": "Using Abduction in Markov Logic Networks for Root Cause Analysis", "authors": ["Joerg Schoenfisch", "Janno von St\u00fclpnagel", "Jens Ortmann", "Christian Meilicke", "Heiner Stuckenschmidt"], "emails": ["joerg@informatik.uni-mannheim.de", "christian@informatik.uni-mannheim.de", "heiner@informatik.uni-mannheim.de", "janno.stuelpnagel@softplant.de", "jens.ortmann@softplant.de"], "sections": [{"heading": null, "text": "Keywords: Root Cause Analysis, IT Infrastructure, Markov Logic Networks, Abductive Reasoning"}, {"heading": "1 Introduction", "text": "This year, it has come to the point that it has never come as far as it has this year."}, {"heading": "2 Preliminaries", "text": "This section first describes Markov Logic Networks. Then we explain abduction and its concrete implementation in the context of Markov Logic Networks."}, {"heading": "2.1 Markov Logic Networks", "text": "Markov Logic Networks (MLN) generalize a formula of the first order that must be fulfilled by each interpretation. An interpretation is also called a possible world. Soft formulas have weights that have support (in the case of positive weights) or are punishable (in the case of negative weights) worlds in which they are satisfied. The probability of a possible world, one that fulfills all hard formulas, is proportional to the exponential sum of weights of the soft formulas fulfilled in this world. This corresponds to the general understanding of Markov Networks as a loglinear probability model [2].An MLN is a template for building a Markov network. A formula is called a grounded formula when all variables have been replaced by constants."}, {"heading": "2.2 Abduction in Markov Logic Networks", "text": "It is applicable to a wide range of fields where explanations for given observations must be found, for example plan or intention recognition, medical diagnosis, criminology, or, as in our approach, root-cause analysis. Find: A hypothesis H, also a set of logical formulas, so that B-H is consistent and a set of observations O, both of which are formulated in the logic of the first order, with O limited to the basic formulas. Find: A hypothesis H, also a set of logical formulas, so that B-H is consistent and B-H'O.In other words, find a set of assumptions (a hypothesis) that is consistent with background knowledge, explains the observation. It is the opposite of deductive arguments that result from the procedure."}, {"heading": "3 Root Cause Analysis with Markov Logic Networks", "text": "System failures are usually caused by a cascade of events, and the goal of a causal analysis is to find the original cause of the failure so that a sustainable solution can be found [5]. Cause analysis typically involves two phases: identifying an event and diagnosing the event. In our work, we deal with the second phase and assume that a failure has already been detected. In this section, we first illustrate the infrastructure of our case study, then show how we model dependencies and risks as first-order formulas, then explain how we implemented the hijacking in our Markov logic network, and highlight specific characteristics of our settings that simplify the general approach to abductive thinking. Finally, we explain how the method is integrated into an iterative process, using the example presented at the beginning."}, {"heading": "3.1 Scenario Setting", "text": "In the following sections we will discuss our approach using an infrastructure partially illustrated in Figure 1. This small sample of a multifunction printer consists of the following components: - The basic dependence on all components is the power supply, which is not explicitly included in the figure. - The two servers are interconnected."}, {"heading": "3.2 Modeling the Infrastructure", "text": "The basis of our root cause analysis is the dependency model. It uses firstorder logic to describe various aspects of the IT infrastructure. Our base model uses five predicates: specific DependsOn (x, y) specifies that component x depends specifically on component y, e.g. the mail service running on the mail server. This predicate does not allow redundancy of y. genericallyDependsOn (x, y) specifies that component x can be replaced by y. hasRisk (x, y) by another redundant component. An example is a server running on the normal power supply or an uninterruptible power source. Redundancy (x, y) specifies that x and y are redundant and x the component y. hasRisk (x, y) assigns the risk of component x, i.e. y is a threat that endlessly impairs the functionality of a component x and it can x."}, {"heading": "3 https://www.bsi.bund.de/EN/Topics/ITGrundschutz/itgrundschutz_node.html", "text": "4 Bundesamt f\u00c3 \u00bc r Sicherheit in der Informationstechnologie (BSI) 5 http: / / www.iso.org / iso / home / standards / iso27001.htmFormula 2a can cover any world in which the infrastructure component x is not available and the infrastructure component y only exists if there is a specific dependence on the driving force of Formula 2a, in which all specific dependencies with redundancies are available. Thus, it is only possible if all specific dependencies on the driving force of the driving force of the driving forces are available or if at least one redundant component is available for each generic dependency. Symmetry and transitivity of redundancy is modelled by formulas 2c and 2d. By adding these two formulas, we ensure that there is no need for an explicit dependence on the driving force."}, {"heading": "3.3 Computing Explanations", "text": "This year it is more than ever before in the history of the city."}, {"heading": "3.4 Scenario Analysis", "text": "This year it is so far that it will only take one year to move on to the next round."}, {"heading": "4 Related Work", "text": "Related work can be roughly divided into two parts: approaches that also perform causal analysis but use a different method; and approaches that use probabilistic frameworks for abductive thinking, but not in the context of causal analysis."}, {"heading": "4.1 Root Cause Analysis", "text": "The approach uses anomalies in the timing of program calls to determine the true root cause of an event; the anomalies are aggregated to give an anomaly score for each component; the scores are correlated within their architectural level to determine an anomaly ranking that expresses the likelihood that a component is the root cause of a failure; in [11] a method of error diagnosis based on decision trees is proposed; the decision tree classifies the successful as well as the failed requests; a correlation of paths paths in the decision tree with errors occurring indicates the node that is the likely root cause of a failure; in [11] an approach for a request-oriented root cause analysis for errors in software systems is proposed; a Markov logic network is used as a knowledge repository for diagnostic knowledge; the approach uses log data as observational information, the Markov network will deal with multiple logistics issues; and the problem will be solved."}, {"heading": "4.2 Applications of Abductive Reasoning", "text": "In [4] Singla et al. extend the approach presented in [1] and use it in the context of plan and intention detection. Instead of adding a reverse implication, they introduce a hidden cause for all the implications with the same left side. Generally, this reduces the size of the MLN and subsequently increases performance. However, as described above, our approach does not require the mutual exclusivity clauses anyway. Nevertheless, if more likely events need to be included in the evidence, their optimization can also be included in our approach. Most other approaches to abductive thinking use either first-order logic to calculate a minimum number of assumptions sufficient to explain the hypothesis [15,16,17,18], or Bayesian Networks to calculate the posterior probability of alternative explanations based on the observations [7]."}, {"heading": "5 Discussion and Conclusion", "text": "We have presented our approach of applying abductive reasoning with Markov Logic Networks to calculate the most likely cause of failure in an IT in-6 mini-tacitus: http: / / www.rutumulkar.com / tacitus.htmlininfrastructure. Our approach models the infrastructure using first-order logic. In particular, we formulated the dependencies of the network as hard formulas. In addition, we have added weighted soft formulas to model the likelihood of risks that could lead to failure of components and services. We define these risks in accordance with the taxonomy of the IT Basic Protection Catalogs. In addition, we have argued how the expressivity of first-order logic can be used to model knowledge about risks and IT components. Our approach uses the same formalism for presenting knowledge and abductive reasoning."}], "references": [{"title": "Probabilistic Abduction using Markov Logic Networks", "author": ["R.J. Kate", "R.J. Mooney"], "venue": "IJCAI-09 Workshop on Plan, Activity, and Intent Recognition", "citeRegEx": "1", "shortCiteRegEx": null, "year": 2009}, {"title": "Markov logic networks", "author": ["M. Richardson", "P. Domingos"], "venue": "Machine Learning 62(1-2)", "citeRegEx": "2", "shortCiteRegEx": null, "year": 2006}, {"title": "On the Mechanization of Abductive Logic", "author": ["H.E. Pople"], "venue": "IJCAI", "citeRegEx": "3", "shortCiteRegEx": null, "year": 1973}, {"title": "Abductive Markov Logic for Plan Recognition", "author": ["P. Singla", "R.J. Mooney"], "venue": "AAAI", "citeRegEx": "4", "shortCiteRegEx": null, "year": 2011}, {"title": "Root cause analysis for beginners", "author": ["J. Rooney", "L. Heuvel"], "venue": "Quality Progress 37(7)", "citeRegEx": "5", "shortCiteRegEx": null, "year": 2004}, {"title": "IT-GrundschutzCatalogues", "author": ["Bundesamt f\u00fcr Sicherheit in der Informationstechnik"], "venue": "https://gsb.download.bva.bund.de/BSI/ITGSKEN/IT-GSK-13-ELen-all v940.pdf", "citeRegEx": "6", "shortCiteRegEx": null, "year": 2013}, {"title": "Probabalistic Reasoning in Intelligent Systems", "author": ["J. Pearl"], "venue": "Morgan Kaufmann Publishers Inc.", "citeRegEx": "7", "shortCiteRegEx": null, "year": 1988}, {"title": "RockIt: Exploiting Parallelism and Symmetry for MAP Inference in Statistical Relational Models", "author": ["J. Noessner", "M. Niepert", "H. Stuckenschmidt"], "venue": "CoRR (Riedel 2008)", "citeRegEx": "8", "shortCiteRegEx": null, "year": 2013}, {"title": "Automatic Failure Diagnosis Support in Distributed Large-Scale Software Systems based on Timing Behavior Anomaly Correlation", "author": ["N. Marwede", "M. Rohr", "W. Hasselbring"], "venue": "In Winter, A., Ferenc, R., Kodel, J., eds.: Proceeding of the 13th European Conference on Software Maintenance and Reengineering (CSMR 2009).", "citeRegEx": "9", "shortCiteRegEx": null, "year": 2009}, {"title": "Failure diagnosis using decision trees", "author": ["M. Chen", "A. Zheng", "J. Lloyd", "M. Jordan", "E. Brewer"], "venue": "International Conference on Autonomic Computing, 2004. Proceedings., IEEE", "citeRegEx": "10", "shortCiteRegEx": null, "year": 2004}, {"title": "Requirementsdriven root cause analysis using markov logic networks", "author": ["H. Zawawy", "K. Kontogiannis", "J. Mylopoulos", "S. Mankovskii"], "venue": "In Ralyte, J., Franch, X., Brinkkemper, S., Wrycza, S., eds.: Advanced Information Systems Engineering. Volume 7328 of Lecture Notes in Computer Science., Springer Berlin Heidelberg", "citeRegEx": "11", "shortCiteRegEx": null, "year": 2012}, {"title": "IT Risk Management with Markov Logic Networks", "author": ["J. von St\u00fclpnagel", "J. Ortmann", "J. Schoenfisch"], "venue": "Advanced Information Systems Engineering", "citeRegEx": "12", "shortCiteRegEx": null, "year": 2014}, {"title": "Shrink: A tool for failure diagnosis in IP networks", "author": ["S. Kandula", "D. Katabi", "J. Vasseur"], "venue": "Proceedings of the 2005 ACM SIGCOMM workshop on Mining network data", "citeRegEx": "13", "shortCiteRegEx": null, "year": 2005}, {"title": "Increasing robustness of fault localization through analysis of lost, spurious, and positive symptoms", "author": ["M. Steinder", "A. Sethi"], "venue": "Proceedings of the Twenty-First Annual Joint Conference of the IEEE Computer and Communications Societies (INFOCOM 2002) 1", "citeRegEx": "14", "shortCiteRegEx": null, "year": 2002}, {"title": "Theorist: A logical reasoning system for defaults and diagnosis", "author": ["D.L. Poole", "R.G. Goebel", "R. Aleliunas"], "venue": "In Cercone, N.J., McCalla, G., eds.: The Knowledge Frontier: Essays in the Representation of Knowledge. Springer", "citeRegEx": "15", "shortCiteRegEx": null, "year": 1987}, {"title": "A Prolog-like inference system for computing minimum-cost abductive explanations in natural-language interpretation", "author": ["M.E. Stickel"], "venue": "Annals of Mathematics and Artificial Intelligence 4(1-2)", "citeRegEx": "16", "shortCiteRegEx": null, "year": 1991}, {"title": "An Efficient First-Order Abduction System Based on the ATMS", "author": ["H.T. Ng", "R.J. Mooney"], "venue": "Proceedings of the Ninth National Conference on Artificial Intelligence (AAAI-91), Anaheim, CA, University of Texas at Austin", "citeRegEx": "17", "shortCiteRegEx": null, "year": 1991}, {"title": "Abductive logic programming", "author": ["A.C. Kakas", "R.A. Kowalski", "F. Toni"], "venue": "Journal of logic and computation 1(6)", "citeRegEx": "18", "shortCiteRegEx": null, "year": 1992}, {"title": "Bayesian Abductive Logic Programs", "author": ["S. Raghavan", "R. Mooney"], "venue": "Statistical Relational Artificial Intelligence (Pople 1973)", "citeRegEx": "19", "shortCiteRegEx": null, "year": 2010}, {"title": "ILP-Based Reasoning for Weighted Abduction", "author": ["N. Inoue", "K. Inui"], "venue": "Plan, Activity, and Intent Recognition", "citeRegEx": "20", "shortCiteRegEx": null, "year": 2011}, {"title": "Efficient Maximum A-Posteriori Inference in Markov Logic and Application in Description Logics", "author": ["J. Noessner"], "venue": "PhD thesis, University of Mannheim", "citeRegEx": "21", "shortCiteRegEx": null, "year": 2014}], "referenceMentions": [{"referenceID": 0, "context": "to extend a Markov Logic Network in order to conduct abductive reasoning [1].", "startOffset": 73, "endOffset": 76}, {"referenceID": 1, "context": "Markov Logic Networks (MLN) generalize first-order logic and probabilistic graphical models by allowing hard and soft first-order formulas [2].", "startOffset": 139, "endOffset": 142}, {"referenceID": 1, "context": "This corresponds to the common understanding of Markov Networks as log-linear probabilistic model [2].", "startOffset": 98, "endOffset": 101}, {"referenceID": 1, "context": "Formally, an MLN L is a set of pairs \u3008Fi, wi\u3009, where Fi is a first-order logic formula and wi is a real numbered weight [2].", "startOffset": 120, "endOffset": 123}, {"referenceID": 0, "context": "According to [1], abduction is usually defined as follows [3]:", "startOffset": 13, "endOffset": 16}, {"referenceID": 2, "context": "According to [1], abduction is usually defined as follows [3]:", "startOffset": 58, "endOffset": 61}, {"referenceID": 0, "context": "[1,4] proposed methods \u2013 Pairwise Constraint (PC) and Hidden Cause (HC) model \u2013 that adapt Markov Logic Networks to automatically perform probabilistic abductive reasoning through its standard deductive reasoning mechanism.", "startOffset": 0, "endOffset": 5}, {"referenceID": 3, "context": "[1,4] proposed methods \u2013 Pairwise Constraint (PC) and Hidden Cause (HC) model \u2013 that adapt Markov Logic Networks to automatically perform probabilistic abductive reasoning through its standard deductive reasoning mechanism.", "startOffset": 0, "endOffset": 5}, {"referenceID": 4, "context": "The goal of a root cause analysis is finding the original reason for the failure, so that a sustainable solution can be provided [5].", "startOffset": 129, "endOffset": 132}, {"referenceID": 1, "context": "However, there exist efficient learning algorithms for MLNs [2].", "startOffset": 60, "endOffset": 63}, {"referenceID": 0, "context": "According to the method proposed in [1] we have to add one reverse implication for the Formulae 2a, 2b, and 2e:", "startOffset": 36, "endOffset": 39}, {"referenceID": 6, "context": "The purpose of these clauses is to \u201cexplain away\u201d multiple causes for an observation and prefer a single one [7].", "startOffset": 109, "endOffset": 112}, {"referenceID": 7, "context": "We used RockIt [8], a highly optimized and scalable MLN solver, to compute the MAP state.", "startOffset": 15, "endOffset": 18}, {"referenceID": 8, "context": "A specific correlation measure for failure diagnosis is presented in [9].", "startOffset": 69, "endOffset": 72}, {"referenceID": 9, "context": "A method for failure diagnosis using decision trees is proposed in [10].", "startOffset": 67, "endOffset": 71}, {"referenceID": 10, "context": "In [11] an approach for requirements-driven root cause analysis for failures in software systems is proposed, wherein a Markov Logic Network is used as knowledge repository for diagnostic knowledge.", "startOffset": 3, "endOffset": 7}, {"referenceID": 11, "context": "In [12] marginal inference was also used for the purpose of estimating unavailabilities in an IT infrastructure, where the authors referred to problems when marginal inference is applied to very low probabilities usually attached to the occurrence of risks in an IT setting.", "startOffset": 3, "endOffset": 7}, {"referenceID": 12, "context": "The Shrink tool [13] uses a Bayesian Network to model the diagnosis problem.", "startOffset": 16, "endOffset": 20}, {"referenceID": 13, "context": "It extends previous work on fault diagnosis with Bayesian Networks [14], by proposing a greedy inference algorithm with polynomial running time.", "startOffset": 67, "endOffset": 71}, {"referenceID": 3, "context": "In [4], Singla et al.", "startOffset": 3, "endOffset": 6}, {"referenceID": 0, "context": "extend the approach presented in [1] and use it in the context of plan and intent recognition.", "startOffset": 33, "endOffset": 36}, {"referenceID": 14, "context": "Most other approaches to abductive reasoning either use first-order logic to calculate a minimal set of assumptions sufficient to explain the hypothesis [15,16,17,18], or Bayesian Networks to compute the posterior probability of alternative explanations given the observations [7].", "startOffset": 153, "endOffset": 166}, {"referenceID": 15, "context": "Most other approaches to abductive reasoning either use first-order logic to calculate a minimal set of assumptions sufficient to explain the hypothesis [15,16,17,18], or Bayesian Networks to compute the posterior probability of alternative explanations given the observations [7].", "startOffset": 153, "endOffset": 166}, {"referenceID": 16, "context": "Most other approaches to abductive reasoning either use first-order logic to calculate a minimal set of assumptions sufficient to explain the hypothesis [15,16,17,18], or Bayesian Networks to compute the posterior probability of alternative explanations given the observations [7].", "startOffset": 153, "endOffset": 166}, {"referenceID": 17, "context": "Most other approaches to abductive reasoning either use first-order logic to calculate a minimal set of assumptions sufficient to explain the hypothesis [15,16,17,18], or Bayesian Networks to compute the posterior probability of alternative explanations given the observations [7].", "startOffset": 153, "endOffset": 166}, {"referenceID": 6, "context": "Most other approaches to abductive reasoning either use first-order logic to calculate a minimal set of assumptions sufficient to explain the hypothesis [15,16,17,18], or Bayesian Networks to compute the posterior probability of alternative explanations given the observations [7].", "startOffset": 277, "endOffset": 280}, {"referenceID": 0, "context": "However, as they are propositional in nature, they cannot handle structured knowledge involving relations amongst multiple entities directly [1].", "startOffset": 141, "endOffset": 144}, {"referenceID": 18, "context": "Bayesian Abductive Logic Programs (BALP) [19] are another approach that combines first-order logic and probabilistic graphical models.", "startOffset": 41, "endOffset": 45}, {"referenceID": 19, "context": "In [20], Inoue et al.", "startOffset": 3, "endOffset": 7}, {"referenceID": 7, "context": "However, the MLN solver RockIt, which we used, was extensively tested in other complex, large scale settings and showed good performance for MLNs with several hundred formulas and tens of thousands of facts in the evidence [8,21].", "startOffset": 223, "endOffset": 229}, {"referenceID": 20, "context": "However, the MLN solver RockIt, which we used, was extensively tested in other complex, large scale settings and showed good performance for MLNs with several hundred formulas and tens of thousands of facts in the evidence [8,21].", "startOffset": 223, "endOffset": 229}], "year": 2015, "abstractText": "In this paper we propose an approach for calculating the most probable root cause for an observed failure in an IT infrastructure. Our approach is based on Markov Logic Networks. While Markov Logic supports a special type of deductive inference, known as maximum a posteriori inference, the computation of the most probable cause requires abductive reasoning. Abduction aims to find an explanation for a given observation in the light of some background knowledge. In failure diagnosis, the explanation corresponds to the root cause, the observation corresponds to the failure of a component or service, and the background knowledge corresponds to the dependency graph of the infrastructure extended by potential risks. We apply the method for abduction proposed by Kate et al. to extend a Markov Logic Network in order to conduct abductive reasoning [1]. We illustrate that our approach is a well suited method for root cause analysis by applying it to a sample scenario.", "creator": "LaTeX with hyperref package"}}}