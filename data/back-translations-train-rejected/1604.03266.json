{"id": "1604.03266", "review": {"conference": "arxiv", "VERSION": "v1", "DATE_OF_SUBMISSION": "12-Apr-2016", "title": "Online Learning of Portfolio Ensembles with Sector Exposure Regularization", "abstract": "We consider online learning of ensembles of portfolio selection algorithms and aim to regularize risk by encouraging diversification with respect to a predefined risk-driven grouping of stocks. Our procedure uses online convex optimization to control capital allocation to underlying investment algorithms while encouraging non-sparsity over the given grouping. We prove a logarithmic regret for this procedure with respect to the best-in-hindsight ensemble. We applied the procedure with known mean-reversion portfolio selection algorithms using the standard GICS industry sector grouping. Empirical Experimental results showed an impressive percentage increase of risk-adjusted return (Sharpe ratio).", "histories": [["v1", "Tue, 12 Apr 2016 07:11:09 GMT  (28kb)", "http://arxiv.org/abs/1604.03266v1", null]], "reviews": [], "SUBJECTS": "cs.LG", "authors": ["guy uziel", "ran el-yaniv"], "accepted": false, "id": "1604.03266"}, "pdf": {"name": "1604.03266.pdf", "metadata": {"source": "CRF", "title": "Online Learning of Portfolio Ensembles with Sector Exposure Regularization", "authors": ["Guy Uziel"], "emails": [], "sections": [{"heading": null, "text": "ar Xiv: 160 4.03 266v 1 [cs.L G"}, {"heading": "1 Introduction", "text": "In fact, the quality of any investment should rather be quantified on the basis of returns and risks, which are often measured by the variance in returns. One of the main outstanding challenges in online portfolio selection is the inclusion of effective mechanisms for dynamic risk management. [Li and Hoi, 2014] Within a deplorable context, this challenge is highlighted by the impossibility of sublinear regrets in terms of adversarial attitudes to risk-adjusted measures such as the Sharpe Ratio, 2006. This theoretical limitation is perhaps the main reason for the scarcity of paper related to online portfolio electronics."}, {"heading": "1.1 Online Portfolio Selection", "text": "(Cover's classic portfolio selection setting [Cover, 1991] (see also Borodin and El-Yaniv [1998], Chapter 14), one assumes a market of n shares. We consider an online game played by T days. On each day, the market is represented by a market vector Xt of relative prices, Xt, (xt1, x t 2,..., x t n), where for each i = 1,.., n, x t i \u2265 0 the relative price of the shares i, defined as the ratio of its closing price on day t relative to its closing price on day t \u2212 1. We denote the wealth by X, Xt n,., XT the order of the T market vectors for the whole game. An wealth vector or portfolio for day t is bt bt (bt1, b t t t 2,.), b t n), where b t, 0 is the wealth allocation for the shares i. We demand that the portfolio be satisfied."}, {"heading": "1.2 Risk Reduction by Sector Regularization", "text": "Markowitz's Modern Portfolio Theory (MPT) emphasized diversification by demonstrating a systematic diversification process for static portfolios using correlation analysis [Markowitz, 1952]. Understanding financial risk factors and their correlation with equity returns has long been a challenge: One of the most profound insights was that risk factors can be manifest in many ways, but not all factors can be diversified [Sharpe, 1964]. Well-known diversifiable factors include those that are country-specific and sector-specific [Grinold et al., 1989]. Several decades ago, diversification between countries provided greater risk mitigation than industry-based diversification [Solnik, 1995], but with increasing economic globalization, it was found that industrial sector diversification is of increasing importance for active portfolio management [Cavaglia et al., 2000].The process proposed in this paper allows for diversification between many types of industry, using the principle of diversification available in two types of securities."}, {"heading": "1.3 Related Work and Contributions", "text": "We focus on online learning of sequential portfolios, and the most important contextual anchor of the current work is that of Cover [Cover, 1991; Cover and Ordinary, 1996; Ordinary and Cover, 1996], where the online portfolio selection problem was introduced and initially investigated. In this line, the goal is to develop portfolio selection strategies whose cumulative wealth allows, taking into account sublinear regrets (alias \"universal portfolios\") regarding an optimal portfolio, \"constant rebalanced portfolio\" (CRP) strategy. Regretting lower limits of portfolio (logT) [Orderly and Cover, 1996] for a T-round portfolio game was originally celebrated by Cover's \"Universal Portfolios,\" 1991] and then complemented by various similar strategies. \"(see, Helmbold et al, 1998], Blum and Kalai et al."}, {"heading": "2 Exposure Regularized Ensemble Procedure", "text": "We consider a given grouping G = (g1,..., gk) of integers [n], {1,.., n}, where the individual sectors represent a meaningful structure of n shares and here do not care how they are calculated. (Our exposure regulated ensemble procedure (henceforth, EREP) is governed by a series of d basic algorithms A = A1,.., Ad. For each 1 \u2264 i \u2264 d, we create for algorithms Ai, k sub-algorithms Ai, j = 1,., k, so that Ai, j only works via sector j. Therefore, EREP works effectively via kd sub-algorithms. In each round t, EREP invests its current abundance in the sub-algorithms wt residing in the vector wt allocation."}, {"heading": "2.1 Regret Analysis", "text": "In this section, we analyze EREP and demonstrate a logarithmic discomfort related to a positive real development. (...) It is well known that the class of exp-convex functions of exp-convex functions of exp-convex functions of exp-convex functions of exp-convex functions of exp-convex functions of exp-convex functions in the online portfolio selection, ft (b) = - log (< b >), Xt >), exp-convex. The following two (known) basic lemmas relating to exp-convex avity are used in the proofs of Lemma 3 and Theorems 1 that follow. (...) Let f be an exp-convex-concave of B-convex with diameter D."}, {"heading": "3 Numerical Examples", "text": "In this section, we present a preliminary empirical study that examines and analyzes the performance of EREP, which is not based on the well-known SP500 benchmark database [Borodin et al., 2000]. This sophisticated data set consists of 25 stocks over a 5-year period, from 1998 to 2003, which include the dot-com crash. Qualitatively similar results to those presented here are presented for other datasets in the extended version of this paper. Shares in the SP500 datasets were roughly categorized into the following 4 sectors according to the global industry classification standard (see e.g. Yahoo Finance): Technology, Health and Services. Fixing this sector throughout our study we examine how well EREP controls and operates sets of basic algorithms. We selected the following set of basic algorithms, all of which are implemented in Li et al. OLPS simulation library [Li et al]: Advanced grades."}, {"heading": "4 Conclusions", "text": "Whereas the original paper considered the introduction of this standard [Johnson and Banerjee, 2015] as portfolios of the stocks themselves, we propose to integrate this structured standard within a Newton-style optimization and apply the learning algorithm to trading strategies based on a known allocation of stocks across industrial sectors. Besides, we also optimize online the choice of hyperparameters and / or the choice of underlying trading algorithms. Our preliminary empirical study indicates that the proposed method can achieve a significant improvement in the sharpe ratio relative to the basic algorithms themselves, in relation to their interaction with the technology of Das and Banerjee [2011]. Furthermore, it significantly improves the original methodology of Johnson and Banerjee [2015]. Further empirical evidence with qualitatively similar conclusions has been produced and will be reported in the long version of this paper."}], "references": [{"title": "Algorithms for portfolio management based on the newton method", "author": ["A. Agarwal", "E. Hazan", "S. Kale", "R.E. Schapire"], "venue": "Proceedings of the 23rd International Conference on Machine Learning, pages 9\u201316. ACM", "citeRegEx": "Agarwal et al.. 2006", "shortCiteRegEx": null, "year": 2006}, {"title": "Mirror descent and nonlinear projected subgradient methods for convex optimization", "author": ["A. Beck", "M. Teboulle"], "venue": "Operations Research Letters, 31(3):167\u2013175", "citeRegEx": "Beck and Teboulle. 2003", "shortCiteRegEx": null, "year": 2003}, {"title": "Universal portfolios with and without transaction costs", "author": ["A. Blum", "A. Kalai"], "venue": "Machine Learning, 35(3):193\u2013205", "citeRegEx": "Blum and Kalai. 1999", "shortCiteRegEx": null, "year": 1999}, {"title": "Online Computation and Competitive Analysis", "author": ["A. Borodin", "R. El-Yaniv"], "venue": "Cambridge University Press", "citeRegEx": "Borodin and El.Yaniv. 1998", "shortCiteRegEx": null, "year": 1998}, {"title": "In LATIN 2000: Theoretical Informatics", "author": ["A. Borodin", "R. El-Yaniv", "V. Gogan. On the tompetitive theory", "practice of portfolio selection"], "venue": "pages 173\u2013196.", "citeRegEx": "Borodin et al.. 2000", "shortCiteRegEx": null, "year": 2000}, {"title": "Can we learn to beat the best stock? Journal of Artificial Intelligence Research", "author": ["A. Borodin", "R. El-Yaniv", "V. Gogan"], "venue": "pages 579\u2013594", "citeRegEx": "Borodin et al.. 2004", "shortCiteRegEx": null, "year": 2004}, {"title": "The increasing importance of industry factors", "author": ["S. Cavaglia", "C. Brightman", "M. Aked"], "venue": "Financial Analysts Journal, 56(5):41\u201354", "citeRegEx": "Cavaglia et al.. 2000", "shortCiteRegEx": null, "year": 2000}, {"title": "Universal portfolios with side information", "author": ["T.M. Cover", "E. Ordentlich"], "venue": "IEEE Transactions on Information Theory, 42(2):348\u2013363", "citeRegEx": "Cover and Ordentlich. 1996", "shortCiteRegEx": null, "year": 1996}, {"title": "Universal portfolios", "author": ["T.M. Cover"], "venue": "Mathematical Finance, 1(1):1\u201329", "citeRegEx": "Cover. 1991", "shortCiteRegEx": null, "year": 1991}, {"title": "Meta optimization and its application to portfolio selection", "author": ["P. Das", "A. Banerjee"], "venue": "Proceedings of the 17th ACM SIGKDD International Conference on Knowledge Discovery and Data Mining, pages 1163\u20131171. ACM", "citeRegEx": "Das and Banerjee. 2011", "shortCiteRegEx": null, "year": 2011}, {"title": "Y", "author": ["J.C. Duchi", "S. Shalev-Shwartz"], "venue": "Singer, and A .Tewari. Composite objective mirror descent. In COLT, pages 14\u201326", "citeRegEx": "Duchi et al.. 2010", "shortCiteRegEx": null, "year": 2010}, {"title": "Risk-sensitive online learning", "author": ["E. Even-Dar", "M. Kearns", "J. Wortman"], "venue": "Algorithmic Learning Theory, pages 199\u2013213. Springer", "citeRegEx": "Even.Dar et al.. 2006", "shortCiteRegEx": null, "year": 2006}, {"title": "Global factors: fact or fiction? The Journal of Portfolio Management", "author": ["R.C. Grinold", "A. Rudd", "D. Stefek"], "venue": "16(1):79\u201388", "citeRegEx": "Grinold et al.. 1989", "shortCiteRegEx": null, "year": 1989}, {"title": "Asset allocation in a downside-risk framework", "author": ["W.V. Harlow"], "venue": "Financial Analysts Journal, 47(5):28\u201340", "citeRegEx": "Harlow. 1991", "shortCiteRegEx": null, "year": 1991}, {"title": "Logarithmic regret algorithms for online convex optimization", "author": ["E. Hazan", "A. Agarwal", "S. Kale"], "venue": "Machine Learning, 69(2-3):169\u2013192", "citeRegEx": "Hazan et al.. 2007", "shortCiteRegEx": null, "year": 2007}, {"title": "On-line portfolio selection using multiplicative updates", "author": ["D.P. Helmbold", "R.E. Schapire", "Y. Singer", "M.K. Warmuth"], "venue": "Mathematical Finance, 8(4):325\u2013347", "citeRegEx": "Helmbold et al.. 1998", "shortCiteRegEx": null, "year": 1998}, {"title": "Banerjee", "author": ["A N. Johnson"], "venue": "Online resource allocation with structured diversification.", "citeRegEx": "Johnson and Banerjee. 2015", "shortCiteRegEx": null, "year": 2015}, {"title": "On-line portfolio selection with moving average reversion", "author": ["B. Li", "S.C.H. Hoi"], "venue": "Proceedings of the 29th International Conference on Machine Learning (ICML-12), pages 273\u2013280", "citeRegEx": "Li and Hoi. 2012", "shortCiteRegEx": null, "year": 2012}, {"title": "Online portfolio selection: A survey", "author": ["B. Li", "S.C.H. Hoi"], "venue": "ACM Computing Surveys (CSUR), 46(3):35", "citeRegEx": "Li and Hoi. 2014", "shortCiteRegEx": null, "year": 2014}, {"title": "Olps: A toolbox for online portfolio selection", "author": ["B. Li", "D. Sahoo", "S.C.H. Hoi"], "venue": "Journal of Machine Learning Research (JMLR)", "citeRegEx": "Li et al.. 2015", "shortCiteRegEx": null, "year": 2015}, {"title": "Hierarchical structure in financial markets", "author": ["R.N. Mantegna"], "venue": "The European Physical Journal B-Condensed Matter and Complex Systems, 11(1):193\u2013 197", "citeRegEx": "Mantegna. 1999", "shortCiteRegEx": null, "year": 1999}, {"title": "Portfolio selection", "author": ["H. Markowitz"], "venue": "The journal of finance, 7(1):77\u201391", "citeRegEx": "Markowitz. 1952", "shortCiteRegEx": null, "year": 1952}, {"title": "Problem complexity and method efficiency in optimization", "author": ["A.S. Nemirovsky", "D.B. Yudin"], "venue": "SIAM Review, 27(2):264\u2013265", "citeRegEx": "Nemirovsky and Yudin. 1985", "shortCiteRegEx": null, "year": 1985}, {"title": "On-line portfolio selection", "author": ["E. Ordentlich", "T.M. Cover"], "venue": "Proceedings of the 9th Annual Conference on Computational Learning Theory, COLT, pages 310\u2013313", "citeRegEx": "Ordentlich and Cover. 1996", "shortCiteRegEx": null, "year": 1996}, {"title": "Design", "author": ["R. Pardo"], "venue": "testing, and optimization of trading systems. John Wiley & Sons", "citeRegEx": "Pardo. 1992", "shortCiteRegEx": null, "year": 1992}, {"title": "Capital asset prices: A theory of market equilibrium under conditions of risk", "author": ["W.F. Sharpe"], "venue": "The Journal of Finance, 19(3):425\u2013442", "citeRegEx": "Sharpe. 1964", "shortCiteRegEx": null, "year": 1964}, {"title": "Mutual fund performance", "author": ["W.F. Sharpe"], "venue": "Journal of business, pages 119\u2013138", "citeRegEx": "Sharpe. 1966", "shortCiteRegEx": null, "year": 1966}, {"title": "Portfolio choices with orthogonal bandit learning", "author": ["W. Shen", "J. Wang", "Y.G. Jiang", "H. Zha"], "venue": "Proceedings of the 24th International Conference on Artificial Intelligence, pages 974\u2013980. AAAI Press", "citeRegEx": "Shen et al.. 2015", "shortCiteRegEx": null, "year": 2015}, {"title": "Why not diversify internationally rather than domestically? Financial Analysts Journal", "author": ["B.H. Solnik"], "venue": "51(1):89\u201394", "citeRegEx": "Solnik. 1995", "shortCiteRegEx": null, "year": 1995}, {"title": "Model selection and estimation in regression with grouped variables", "author": ["M. Yuan", "Y. Lin"], "venue": "Journal of the Royal Statistical Society: Series B (Statistical Methodology), 68(1):49\u201367", "citeRegEx": "Yuan and Lin. 2006", "shortCiteRegEx": null, "year": 2006}, {"title": "Online convex programming and generalized infinitesimal gradient ascent", "author": ["M. Zinkevich"], "venue": "Machine Learning, Proceedings of the 20th International Conference (ICML), pages 928\u2013936", "citeRegEx": "Zinkevich. 2003", "shortCiteRegEx": null, "year": 2003}], "referenceMentions": [{"referenceID": 8, "context": "Online portfolio selection [Cover, 1991] has become one of the focal points in online learning research.", "startOffset": 27, "endOffset": 40}, {"referenceID": 18, "context": "1 One of the major open challenges in online portfolio selection is the incorporation of effective mechanisms to dynamically control risk [Li and Hoi, 2014].", "startOffset": 138, "endOffset": 156}, {"referenceID": 11, "context": "Within a regret minimization framework, like the one we consider here, this challenge is highlighted by the impossibility of achieving sub-linear regret in the adversarial setting with respect to risk adjusted measures such as the Sharpe Ratio [Even-Dar et al., 2006].", "startOffset": 244, "endOffset": 267}, {"referenceID": 8, "context": "1 Online Portfolio Selection In Cover\u2019s classic portfolio selection setting [Cover, 1991] (see also Borodin and El-Yaniv [1998], Chapt.", "startOffset": 76, "endOffset": 89}, {"referenceID": 26, "context": "Then the (annualized) Sharpe ratio [Sharpe, 1966] of A is S = RA \u2212Rf \u03c3A .", "startOffset": 35, "endOffset": 49}, {"referenceID": 21, "context": "Markowitz\u2019s modern portfolio theory (MPT) put diversification on front stage by showing a systematic diversification procedure for static portfolios using correlation analysis [Markowitz, 1952].", "startOffset": 176, "endOffset": 193}, {"referenceID": 25, "context": "Understanding financial risk factors, and their interrelationship with stock returns, has been a longstanding challenge: one of the profound insights has been that risk factors can be manifested in many ways, but not all factors can be diversified [Sharpe, 1964].", "startOffset": 248, "endOffset": 262}, {"referenceID": 12, "context": "Among the well-known diversifiable factors are those which are country specific and industry related [Grinold et al., 1989].", "startOffset": 101, "endOffset": 123}, {"referenceID": 28, "context": "Several decades ago diversification across countries provided greater risk reduction than industry-wise diversification [Solnik, 1995], but with increasing economic globalization, industry sector diversification has been found to be of increasing importance to active portfolio management [Cavaglia et al.", "startOffset": 120, "endOffset": 134}, {"referenceID": 6, "context": "Several decades ago diversification across countries provided greater risk reduction than industry-wise diversification [Solnik, 1995], but with increasing economic globalization, industry sector diversification has been found to be of increasing importance to active portfolio management [Cavaglia et al., 2000].", "startOffset": 289, "endOffset": 312}, {"referenceID": 8, "context": "We focus on online learning of sequential portfolios, and the main contextual anchor of the present work is the line of research pioneered by Cover [Cover, 1991; Cover and Ordentlich, 1996; Ordentlich and Cover, 1996], where the vanilla online portfolio selection problem was introduced and initially studied.", "startOffset": 148, "endOffset": 217}, {"referenceID": 7, "context": "We focus on online learning of sequential portfolios, and the main contextual anchor of the present work is the line of research pioneered by Cover [Cover, 1991; Cover and Ordentlich, 1996; Ordentlich and Cover, 1996], where the vanilla online portfolio selection problem was introduced and initially studied.", "startOffset": 148, "endOffset": 217}, {"referenceID": 23, "context": "We focus on online learning of sequential portfolios, and the main contextual anchor of the present work is the line of research pioneered by Cover [Cover, 1991; Cover and Ordentlich, 1996; Ordentlich and Cover, 1996], where the vanilla online portfolio selection problem was introduced and initially studied.", "startOffset": 148, "endOffset": 217}, {"referenceID": 23, "context": "The regret lower bound of \u03a9(logT ) [Ordentlich and Cover, 1996] for a T -round portfolio game was originally matched by Cover\u2019s celebrated \u201cUniversal Portfolios\u201d algorithm [Cover, 1991], and then rematched by various similar, or other \u201cfollow the leader\u201d strategies (see, e.", "startOffset": 35, "endOffset": 63}, {"referenceID": 8, "context": "The regret lower bound of \u03a9(logT ) [Ordentlich and Cover, 1996] for a T -round portfolio game was originally matched by Cover\u2019s celebrated \u201cUniversal Portfolios\u201d algorithm [Cover, 1991], and then rematched by various similar, or other \u201cfollow the leader\u201d strategies (see, e.", "startOffset": 172, "endOffset": 185}, {"referenceID": 29, "context": "This hierarchical group norm, which can be viewed as a kind of inverse to the group norm used in group Lasso [Yuan and Lin, 2006], encourages non-sparsity in its outer norm.", "startOffset": 109, "endOffset": 129}, {"referenceID": 0, "context": "Second, our learning algorithm exploits the exp-concavity of our loss function, allowing the use of online Newton steps as in [Agarwal et al., 2006] to guarantee O(log T ) regret w.", "startOffset": 126, "endOffset": 148}, {"referenceID": 14, "context": "[Hazan et al., 2007] Let f be an \u03b1-exp-concave over B \u2282 R with diameter D, such that \u2200x \u2208 B , ||\u2207f(x)||2 \u2264 G.", "startOffset": 0, "endOffset": 20}, {"referenceID": 14, "context": "[Hazan et al., 2007] Let ft : R \u2192 R be \u03b1-exp-concave, and let At be as in Algorithm 1.", "startOffset": 0, "endOffset": 20}, {"referenceID": 30, "context": "We consider a standard online convex optimization game [Zinkevich, 2003] where in each round t the online player selects a point wt in a convex set B; then a convex payoff function ft is revealed, and the player suffers loss ft(wt).", "startOffset": 55, "endOffset": 72}, {"referenceID": 22, "context": "The mirror descent algorithm [Nemirovsky and Yudin, 1985; Beck and Teboulle, 2003] for online convex optimization was extended by Duchi et al.", "startOffset": 29, "endOffset": 82}, {"referenceID": 1, "context": "The mirror descent algorithm [Nemirovsky and Yudin, 1985; Beck and Teboulle, 2003] for online convex optimization was extended by Duchi et al.", "startOffset": 29, "endOffset": 82}, {"referenceID": 4, "context": "In this section we present a preliminary empirical study examining and analyzing the performance of EREP on the well-known SP500 benchmark dataset [Borodin et al., 2000].", "startOffset": 147, "endOffset": 169}, {"referenceID": 19, "context": "OLPS simulation library [Li et al., 2015]: \u2022 Exponentiated Gradient (EG) [Helmbold et al.", "startOffset": 24, "endOffset": 41}, {"referenceID": 15, "context": ", 2015]: \u2022 Exponentiated Gradient (EG) [Helmbold et al., 1998]: this classic algorithm is among the early universal algorithms.", "startOffset": 39, "endOffset": 62}, {"referenceID": 5, "context": "\u2022 Anticor [Borodin et al., 2004]: one of the first algorithms designed to aggressively exploit mean-reversion via (anti) correlation analysis.", "startOffset": 10, "endOffset": 32}, {"referenceID": 17, "context": "\u2022 Online Moving Average Reversion (OLMAR) [Li and Hoi, 2012]: designed to exploit mean-reversion based on moving average predictions.", "startOffset": 42, "endOffset": 60}, {"referenceID": 24, "context": "In a more elaborate experiment we optimized \u03bb using a standard walk-forward procedure [Pardo, 1992]; see details below.", "startOffset": 86, "endOffset": 99}, {"referenceID": 16, "context": "While the original work introducing this norm [Johnson and Banerjee, 2015] considered portfolios on the stocks themselves, we propose to incorporate this structured norm within a Newton style optimization and apply the learning algorithm over trading strategies based on a known partition of the stocks into industry sectors.", "startOffset": 46, "endOffset": 74}], "year": 2016, "abstractText": "We consider online learning of ensembles of portfolio selection algorithms and aim to regularize risk by encouraging diversification with respect to a predefined risk-driven grouping of stocks. Our procedure uses online convex optimization to control capital allocation to underlying investment algorithms while encouraging non-sparsity over the given grouping. We prove a logarithmic regret for this procedure with respect to the best-in-hindsight ensemble. We applied the procedure with known mean-reversion portfolio selection algorithms using the standard GICS industry sector grouping. Empirical Experimental results showed an impressive percentage increase of risk-adjusted return (Sharpe ratio).", "creator": "LaTeX with hyperref package"}}}