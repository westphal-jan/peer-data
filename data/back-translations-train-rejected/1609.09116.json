{"id": "1609.09116", "review": {"conference": "arxiv", "VERSION": "v1", "DATE_OF_SUBMISSION": "27-Sep-2016", "title": "Analysis of Massive Heterogeneous Temporal-Spatial Data with 3D Self-Organizing Map and Time Vector", "abstract": "Self-organizing map(SOM) have been widely applied in clustering, this paper focused on centroids of clusters and what they reveal. When the input vectors consists of time, latitude and longitude, the map can be strongly linked to physical world, providing valuable information. Beyond basic clustering, a novel approach to address the temporal element is developed, enabling 3D SOM to track behaviors in multiple periods concurrently. Combined with adaptations targeting to process heterogeneous data relating to distribution in time and space, the paper offers a fresh scope for business and services based on temporal-spatial pattern.", "histories": [["v1", "Tue, 27 Sep 2016 08:25:40 GMT  (5148kb,D)", "http://arxiv.org/abs/1609.09116v1", null]], "reviews": [], "SUBJECTS": "cs.LG cs.NE", "authors": ["yu ding"], "accepted": false, "id": "1609.09116"}, "pdf": {"name": "1609.09116.pdf", "metadata": {"source": "CRF", "title": "Analysis of Massive Heterogeneous Temporal-Spatial Data with 3D Self-Organizing Map and Time Vector", "authors": ["Yu Ding"], "emails": ["dingy@hust.edu.cn"], "sections": [{"heading": null, "text": "When the input vectors consist of time, latitude and longitude, the map can be strongly linked to the physical world and provides valuable information. Beyond basic clustering, a novel approach is being developed to address the temporal element that allows 3D SOM to track behaviors in multiple periods simultaneously. Combined with adjustments aimed at processing heterogeneous data about distribution in time and space, the work provides new scope for businesses and services based on temporal-spatial patterns. Keywords: Self-organizing map, multi-period patterns, heterogeneous data"}, {"heading": "1. Introduction", "text": "It is not the first time that the EU Commission has taken such a step."}, {"heading": "1.1. Background of Research", "text": "With the advancement of information gathering technology, people can access vast amounts of real-time event data consisting of coordinates both in time and space, such as e-commerce orders, Uber requests [1], reports of crime [2], 5and vehicle collisions [3]. The massiveness hides patterns that require a viable tool to identify. The following research is closely related to its characteristics listed below: 1) Extremely dense. Density in both time and space makes it impossible to track every input, since until now the determination of the centrioids that represent the cluster is indispensable for10Preprint, which published in the Journal of NeuroComputing on September 30, 2016 Xiv: 160 9.09 116v 1 [cs.L G] 27 services based on time and location, such as optimized warehouse locations for delivery, effective patrols and so advanced ways of repeating data in 2 days and 2 months.)"}, {"heading": "1.2. Introduction on algorithm", "text": "The Self-Organizing Map [4] is an unattended and efficient algorithm for clustering that not only allows people to divide the data into sectors, but also to understand its topographical relation. The following terminology is introduced with potential application.30: \u2022 Nodes that build the grid of the Self-Organizing Map, the centroids of the clusters. \u2022 Neighborhood, a sector within a certain radius centered around a selected node. \u2022 Codebook Vector, which indicates where a node is located in coordinates of the input data. Its value provides detailed information about the nodes, such as when and where it is most representative of a crisis cluster.35 \u2022 Best Matching Unit (BMU), the node with the smallest distance from a selected input. BMU can be considered a location with the lowest cost."}, {"heading": "2. Clustering with 3D Self-Organizing Map", "text": "It is not the first time that the EU Commission has taken such a step."}, {"heading": "2.1. Construction of SOM", "text": "The framework of the 3D grid consists of layers covering latitude and longitudinal axes, while different layers line up along the timeline. Nodes in one layer are marked with the same color.45"}, {"heading": "2.1.1. Significance of Pre-Processing Input", "text": "According to previous research, normalization promotes the quality of the card [5]. In this paper, two types of normalization are compared, namely rescaling to [0,1] and standardization with z-score, both of which improve the quality of the card by drastically reducing errors introduced later. Detailed results are available in Appendix A1.50."}, {"heading": "2.1.2. Initialization", "text": "In the research, it was found that in order to obtain a well-organized map, the grid must be initialized linearly and the side that has parallels to the timeline should be initialized with the largest number of nodes, in other words, the number of layers should be greater than each side of the layers. In addition, the initialization of the map with different sizes leads to an inter55 interesting but telling phenomenon: If the lengths of the sides of the grid are not selected correctly, the map rotates during repetitions and ends in poor quality. The explanation is discussed in Appendix A2."}, {"heading": "2.1.3. Training Progress", "text": "After initialization, the training of the SOM is summarized as follows: 601) Find BMU for each input under the Euclidean metric; 2) Update the card in batch mode; 3) Repeat the first step; Since this research involves heavy calculations, batch training is preferable to sequential, and the use of voronoi set can further accelerate the updating of progress with the following function [6]. mi = \u2211 jnjhcix (t) \u2211 j njhci (1) On the left, mi is a codebook vector, and nj is the number of hits for the node j, hc, i measures the influence or weight of node c to node i, determined by the Gaussian neighborhood function 65hc, i = e \u2212 dm (mc, mi) 2r2."}, {"heading": "2.2. Measurement of Quality", "text": "It is not the first time that the EU Commission has taken such a step."}, {"heading": "2.2.1. Quantization Error", "text": "Quantization Errors (QE) measure the average distance between input xi and its most suitable unit. QE = n \u2211 i = 1 d (xi, mj) n (2) d (xi, mj) is the distance between input xi and its most suitable unit mj and n is the total number of inputs. QE is important in the application, e.g. selecting Warehouse70 according to chart with small QE can be economical for the shipping industry."}, {"heading": "2.2.2. Topographic Error", "text": "Topographic Error (TE) measures the proportion of the input whose BMU and secondBMU are connected directly to the net.TE = n \u2211 i = 1 \u03b4 (xi) n (3) The value of \u03b4 (xi) is determined by whether the nodes have a second minimum distance to the input, which is a neighbor to the BMU. If yes, \u03b4 (xi) = 0, otherwise it will be 1. If a card has low TE while the BMU location is not available in applications such as police75station, the second BMU could be a good substitute."}, {"heading": "2.3. Reliability Estimation", "text": "It is not the first time that the EU Commission has taken such a step."}, {"heading": "2.3.1. Generating Correlation Matrix", "text": "In order to fully evaluate the solidity of the map in the application, we need to determine whether the centroids and their hits are distributed according to the density of the input, which can be achieved by converting the regional density of the input into frequencies as follows: 1) cutting the input space into cubes; 2) generating a matrix containing the number of inputs in each cubic meter. Precision can be determined by selecting different pieces of discs; 3) counting the centroids and hits in each cubic meter, resulting in other two matrices with 85 equal dimensions; 4) measuring their correlations to the input frequency matrix. If a map is representative, the correlation coefficient (COR) should be approximately 1.COR (X, Y) = m \u00b2 j = 1 n \u00b2 i = 1 (xij \u2212 X \u00b2 Y) (yij \u2212 Y \u00b2)."}, {"heading": "2.3.2. Projection", "text": "When clustering input with time, latitude, and longitude, the estimate can be divided into two parts under the concept of projection: \u2022 Spatial consistency in fixed time periods to measure how the distribution of nodes and their hits matches the input. Specifically, it measures frequency matrix intersections along the time axis. \u2022 Time coherence, measuring whether spatial consistency remains stable in different time periods by determining duration over different time periods. In further analyses, projections are indispensable for assessing performance. While projecting multiple periodic patterns is possible, projecting data into different time dimensions makes it possible to observe deviations over time periods of varying duration. If input includes numerical and 100 categorical variables, we must evaluate the accuracy of both time-spatial clustering and category classification."}, {"heading": "3. Exploring the Potential of 3D SOM", "text": "Apart from the identification of centrioids in time-latitude-longitude space, the basic model in-105 is sufficient for the requirements in the real world. First, only the distribution within 24 hours is taken into account, while weekly or monthly fluctuations are ignored. In addition, the input data includes numerical elements and categorical elements, such as the name of the purchased article, crime classifications under which the distance cannot be calculated using the Euclidean norm. Further analyses will examine two possible solutions to overcome these limitations.110"}, {"heading": "3.1. Broadening Timeline with Time Vector", "text": "To circumvent this paradox, the time can be converted into a time vector: t (ni Pi \u00b7 \u00b7 \u00b7 nj Pj) \u21d2 t * < ni Pi, \u00b7 \u00b7 \u00b7, nj Pj > (4) On the left, time t is expressed as the product of fractions where the denominators Pi are different periods, for day, week and month are 24 * 60, 7 and 12. Numerators ni are sequences in the period Pi. On the right is a vector consisting of multipliers on the left. For example, 8: 30 on Tuesday in March (5101440 \u00d7 2 7 \u00d7 1153 12) \u2192 < 510 1440, 2 7, 3 12 >. In this passage, the 2D time vector is used, which could also result in input into 4D vectors (day-week-length-time-time-time-time-periods) between a three-dimensional period."}, {"heading": "3.2. Mixed with Categorical Data", "text": "The main difficulty in analyzing mixed data is to find a method that determines the distance between variables and updates the map. In this paper, simple procedure is used to deal with heterogeneous data presented below: 1251) Assigning name strings with ID numbers arbitrarily, since we do not pass on their quantitative meaning, then input xi becomes 4D vectors (time latitude ID); 2) Transforming the ID number j into a binary vector Cxi (j), index of the column with 1 indicating that the ID number it holds now has two parts, numeric vectors 3D vector Nxi (xi, mj) between input mxi and category vector Cxi (j) = < 1 0, \u00b7 j 1, \u00b7 k 0 > k (5) k is the number of categories it holds, xi (xi, mj) total distance D (xi, mj) between input mxi and numeric sum of the Nxi, Dxi n (0j)."}, {"heading": "4.1. Performance on Basic Clustering", "text": "Over the different months, the CORs vary by a total of 0.82 between the frequency matrices of nodes and input, while the CORs of hit and input are consistently above 0.95. Table 1 shows CORs in eight sections within 24 hours of the sample mentioned above. While CORs provide a percentage assessment, Table 2 provides a quantitative reflection of consistency between map and input. It summarizes the numbers in different sections. 155The last column contains the R2 value derived from linear regression to measure the consistency of map and input. To observe in a perceptible way how the map represents the input density, the heat map of the input density is drawn with nodes in the same section. Figure 2 selects two distinct intervals to show how nodes match 160 of input density."}, {"heading": "4.2. Performance on Multi-Period Analysis", "text": "The 2D time vector < time24 \u00d7 60, day 7 > is used to study the daily and weekly behaviors of crime incidents. Assessment of reliability with projections into subspaces of day and latitude and weekday longitude. Additional tests were performed on vehicles with 165 collisions, the result is provided in Annex C1. In the study, Table 3 presents CORs in eight sections of 24 hours. In the weeklatitude and longitude subspace, CORs are measured day by day.Table 6: Weekly sum of input and MapDay in week Mon. Tue. Thu. Fri. Sun. Input 1412 1383 1184 921 1064 913 939 R2Nodes 111 112 105 101 105 98 0.89 Hits 1417 1380 1181 918 1068 890 962 0.99Distribution in temporary distribution."}, {"heading": "5. Discussion", "text": "This year it has come to the point that it has never come as far as this year."}, {"heading": "Appendix A", "text": "It is not the first time that the EU Commission has taken such a step."}, {"heading": "Appendix A1", "text": "The importance of Pre-Processing Input250Results shows that the rescaling process can significantly reduce both the quantization and the topographical error under the same training epochs. Their definitions are listed: Rescaling the data to [0,1].x \u0445 i = xi \u2212 xminxmax \u2212 xmin (9) Standardization with z-score.x \u0445 i = xi \u2212 \u00b5 \u03c3 (10) \u00b5 is the mean of x, and \u03c3 represents standard deviation. The following table contains QE and TE for data used in basic clusters trained after 100 epochs with a map of 10 \u00d7 6 \u00d7 6."}, {"heading": "Appendix A2", "text": "The initialization of the map initialization process can be divided into random and linear initialization. While the 2602D SOM is known to be insensitive to different initializations, for 3D-SOM, if the code book vector is randomly initialized, its topographic property can remain chaotic and have a high error rate, which could be explained by metasticity [10]. Set the map size as l x m x n, where l is the number of layers along the timeline andm x n in each layer. Finally, when the map max (l, m, n) 6 = l rotates during training, the largest side of the 3D grid will spin approximately parallel to the timeline. The expected layer structure is lost, accompanied by high QE and TE. This is consistent with the behavior of the 2D SOM, where the two-dimensional grid extends into time-length or length plane PCs, instead of the length plane being explained by the principle A and length."}, {"heading": "Appendix B", "text": "Appendix B1275Category variable algorithms The updating of categorical variables is fully explained by the following equation: The m, n, k represent the number of nodes, inputs or categories. \u2022 Weight matrix W, wi, j indicate the weight of category j in nodei. \u2022 Neighbourhood matrix H measures the influence of nodei on nodej. Hi, j is measured by the Gaussian function h (i, j),.280 \u2022 Filter matrix F, which indicates BMUs of input. If 1 appears in line i, column j, this means that the BMU of input is nodej. \u2022 Input of ID matrix C, which encodes the categorical data in binary files, for line i, if the column is nj 1, then the BMU of input is identical in category 28J (5J)."}, {"heading": "Appendix B2", "text": "Select ID variable in Probabilistic MannerIn probability based method for updating mi's ID variable, any ID values can be selected with their probabilities.290P (mi = j) = PWi (j) PWi (j) = n \u2211 t hcnjn \u2211 t hcWhile it seems more considerate, the results tell a different story that probability based method is affected by the negative effects of random numbers. Other research results suggest a combination of two methods [12], which set a threshold for the minimum percentage of the winner-take-all strategy if this is not achieved, and choose ID randomly. Appendix C295"}, {"heading": "Appendix C1", "text": "Additional Test for Multi-Period Analysis Following is the result of the summary of 13717 vehicle collision report1 with a 13 x 8 x 7 card practiced after 100 epochs. First, performance is measured in one day."}, {"heading": "Appendix C2", "text": "It is not the first time that the EU Commission has taken such a step."}], "references": [{"title": "The self-organizing map", "author": ["T. Kohonen"], "venue": "Proceedings of the IEEE 78 (9) ", "citeRegEx": "4", "shortCiteRegEx": null, "year": 1990}, {"title": "Kohonen self-organizing maps: Is the normalization necessary", "author": ["P. Demartines", "F. Blayo"], "venue": "Complex Systems 6 (2) ", "citeRegEx": "5", "shortCiteRegEx": null, "year": 1992}, {"title": "Self-organizing maps", "author": ["T. Kohonen"], "venue": "springer series in information sciences 30  325 ", "citeRegEx": "6", "shortCiteRegEx": null, "year": 2001}, {"title": "Visualized analysis of mixed numeric and categorical data via extended self-organizing map", "author": ["C.-C. Hsu", "S.-H. Lin"], "venue": "Neural Networks and Learning Systems, IEEE Transactions on 23 (1) ", "citeRegEx": "7", "shortCiteRegEx": null, "year": 2012}, {"title": "Self-organizing map algorithm and distortion measure", "author": ["J. Rynksiewicz"], "venue": "Neural  330 networks 19 (6) ", "citeRegEx": "8", "shortCiteRegEx": null, "year": 2006}, {"title": "Self-organizing maps", "author": ["T. Kohonen"], "venue": "springer series in information sciences 30 ", "citeRegEx": "9", "shortCiteRegEx": null, "year": 2001}, {"title": "Self-organizing maps: Stationary states", "author": ["E. Erwin", "K. Obermayer", "K. Schulten"], "venue": "metastability and convergence rate, Biological Cybernetics 67 (1) ", "citeRegEx": "10", "shortCiteRegEx": null, "year": 1992}, {"title": "J", "author": ["J. Vesanto", "J. Himberg", "E. Alhoniemi"], "venue": "Parhankangas, et al., Self-organizing map in matlab: the som toolbox, in: Proceedings of the Matlab DSP conference, Vol. 99", "citeRegEx": "11", "shortCiteRegEx": null, "year": 1999}, {"title": "An extension of self-organizing maps to categorical data", "author": ["N. Chen", "N.C. Marques"], "venue": "in: Progress in Artificial Intelligence, Springer", "citeRegEx": "12", "shortCiteRegEx": null, "year": 2005}], "referenceMentions": [{"referenceID": 0, "context": "Introduction on algorithm Self-organizing map[4] is an unsupervised and efficient algorithm for clustering, which not only allows people to divide the data into sectors, but also to understand their topographic relation.", "startOffset": 45, "endOffset": 48}, {"referenceID": 1, "context": "Significance of Pre-Processing Input According to previous research, normalization will promote the quality of map[5].", "startOffset": 114, "endOffset": 117}, {"referenceID": 2, "context": "1) Find BMU for every input under Euclidean metric; 2) Update the map in batch mode; 3) Reiterate from step one; Since this research engages with heavy calculation, batch training is more preferable than sequential one, and using voronoi set can accelerate updating progress further[6] with following function.", "startOffset": 282, "endOffset": 285}, {"referenceID": 3, "context": "Before utilize it, we should be aware that binary coding process neglects inner structure of categorical variables, which is not suitable category classifications have affiliations[7].", "startOffset": 180, "endOffset": 183}, {"referenceID": 4, "context": "Moreover, there are some unsolved theoretical problem[8] in self-organizing map itself[9], prohibiting us to employ an universal standard to evaluate results.", "startOffset": 53, "endOffset": 56}, {"referenceID": 5, "context": "Moreover, there are some unsolved theoretical problem[8] in self-organizing map itself[9], prohibiting us to employ an universal standard to evaluate results.", "startOffset": 86, "endOffset": 89}, {"referenceID": 6, "context": "While 260 2D SOM is known for being insensitive to different initialization, however for 3D SOM, if the codebook vector is initialized randomly, its topographic feature will remain chaotic with high error rate, which might be explained by metastability [10].", "startOffset": 253, "endOffset": 257}, {"referenceID": 7, "context": "Algorithms for Categorical Variable The updating of categorical variable is fully explained by following equation, inspired matrix calculations in SOM Toolbox[11].", "startOffset": 158, "endOffset": 162}, {"referenceID": 8, "context": "Other research advices a combination of two method [12], setting a threshold on minimum proportion for winner-take-all strategy, if it\u2019s not reached, selecting ID randomly.", "startOffset": 51, "endOffset": 55}], "year": 2016, "abstractText": "Self-organizing map(SOM) have been widely applied in clustering, this paper focused on centroids of clusters and what they reveal. When the input vectors consists of time, latitude and longitude, the map can be strongly linked to physical world, providing valuable information. Beyond basic clustering, a novel approach to address the temporal element is developed, enabling 3D SOM to track behaviors in multiple periods concurrently. Combined with adaptations targeting to process heterogeneous data relating to distribution in time and space, the paper offers a fresh scope for business and services based on temporal-spatial pattern.", "creator": "LaTeX with hyperref package"}}}