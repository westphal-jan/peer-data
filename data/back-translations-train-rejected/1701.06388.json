{"id": "1701.06388", "review": {"conference": "arxiv", "VERSION": "v1", "DATE_OF_SUBMISSION": "23-Jan-2017", "title": "Constraint programming for planning test campaigns of communications satellites", "abstract": "The payload of communications satellites must go through a series of tests to assert their ability to survive in space. Each test involves some equipment of the payload to be active, which has an impact on the temperature of the payload. Sequencing these tests in a way that ensures the thermal stability of the payload and minimizes the overall duration of the test campaign is a very important objective for satellite manufacturers. The problem can be decomposed in two sub-problems corresponding to two objectives: First, the number of distinct configurations necessary to run the tests must be minimized. This can be modeled as packing the tests into configurations, and we introduce a set of implied constraints to improve the lower bound of the model. Second, tests must be sequenced so that the number of times an equipment unit has to be switched on or off is minimized. We model this aspect using the constraint Switch, where a buffer with limited capacity represents the currently active equipment units, and we introduce an improvement of the propagation algorithm for this constraint. We then introduce a search strategy in which we sequentially solve the sub-problems (packing and sequencing). Experiments conducted on real and random instances show the respective interest of our contributions.", "histories": [["v1", "Mon, 23 Jan 2017 13:48:35 GMT  (38kb)", "http://arxiv.org/abs/1701.06388v1", null]], "reviews": [], "SUBJECTS": "cs.AI", "authors": ["emmanuel h\\'ebrard", "marie-jos\\'e huguet", "daniel veysseire", "ludivine sauvan", "bertrand cabon"], "accepted": false, "id": "1701.06388"}, "pdf": {"name": "1701.06388.pdf", "metadata": {"source": "CRF", "title": "Constraint Programming for Planning Test Campaigns of Communications Satellites", "authors": ["Emmanuel Hebrard", "Marie-Jos\u00e9 Huguet", "Daniel Veysseire", "Ludivine Boche", "Bertrand Cabon"], "emails": [], "sections": [{"heading": null, "text": "ar Xiv: 170 1,06 388v 1 [cs.A I] 2 3Ja n"}, {"heading": "1 Introduction", "text": "This year, it is as far as ever in the history of the city, where it is as far as never before."}, {"heading": "2 Formal Background", "text": "A satisfaction constraint (CSP) consists of a set of variables, with each variable Xk having a finite domain of values D (Xk) and a set of constraints containing allowed combinations of values for subsets of variables. A solution to a CSP involves mapping values to the variables that meet the constraints. We look at both integer and fixed variables. A fixed variable Yi is represented by its lower delimited Yi, which contains the required elements and an upper limit Yi, which contains the possible elements. For a finite universe U-N, we identify a fixed variable Yi with the set of Boolean variables."}, {"heading": "3 Test Planning", "text": "It is not the first time that the EU Commission has taken such a step."}, {"heading": "3.1 Data and Constraints", "text": "A test campaign comprises n tests and m equipment units. Each test unit k [n] comprises a subset of tk [m] active equipment units. A test configuration (or simple configuration) is defined by dividing the equipment into active and inactive units. A test k can occur in a configuration if the set of active equipment units in this configuration is a maximum of tk. However, one cannot use a single configuration in which each equipment unit is active as the payload would overheat. Equipment units located on the same wall or blade of the satellite contribute to the total temperature of that wall / blade. Therefore, we have p conditions, one for each group of equipment units 1 Throughout the paper, it is said that an equipment unit is \"active\" when switched on and \"inactive,\" otherwise."}, {"heading": "3.2 Decisions and Objectives", "text": "A test plan with h-shaped configurations is a mapping of the total number of tests to a series of consecutive integers (h-shaped units) (without loss of generality, we assume that the configurations are numbered from 1 to h-shaped), and a mapping of the number of configurations to sub-units, so that the device units required to perform a test are active when this test is performed and each configuration meets all thermal limitations. In fact, the main goal is to minimize the number of configurations, so that the transition time between tests is reduced, that is, the time spent reconfiguring the payload. Furthermore, it is important to take into account the total number of changes in the status of a device unit. In fact, although multiple device units can be switched on or switched off simultaneously, changing the status of more units as a dynamic unit requires a more careful analysis of the thermal dynamics of the system and is."}, {"heading": "3.3 Complexity", "text": "It is relatively easy to see that the test problem described above is NPhard. We show that the decision version TestPlanning, which asks if there is a plan with a maximum h-configuration, is NP-complete. Theorem 1. TestPlanning is NP-complete. It is in NP because a plan can be checked in polynomial time. To prove hardness, we use a simple reduction of 3-coloring, which asks if there is a coloring of V with a maximum of 3 colors so that no edge has its two endpoints of the same color. From a graph G = (V, E) we build an instance of the test planning as follows: - For each edge (x, y) there are two device units xy and yx and a thermal restriction on these two units with capacity 1."}, {"heading": "4 A Constraint Model for Test Planning", "text": "The question of the way in which we have to grapple with the question of whether there is a problem at all is not only a question of expression, but also of the way in which we have to grapple with the question of whether there is a problem at all. (...) The question of the way in which we have to grapple with the question is not only a question of expression, but also a question of expression. (...) The question of the way in which we grapple with the way in which we grapple with the way in which we grapple with the way in which we grapple with the way in which we grapple with the way in which we grapple with the way in which we grapple with the way in which we grapple with the way in which we and in which we grapple with the way in which we grapple with the way in which we and in which we grapple with the way in which we and in which we grapple with the way in which we do. \"(...) The question of the way in which we grapple with the way in which we grapple with the way in which we do, and in which we grapple with the way in which we don't grapple with the way in which we don't grapple with the way in which we don't. (...) The question of the way in which we grapple with the way in which we grapple with the way in which we grapple with the way in which we grapple with the way in which we don't grapple with the way in which we don't grapple with the way in which we do."}, {"heading": "5 Lower Bound for Test Packing", "text": "The problem is therefore limited to the number of configurations based on capacity, and (3) has some similarities to the multidimensional units required in this area. (5) Instead of a one-dimensional capacity, the bins have a capacity for each unit, since each unit is activated at most once per configuration, regardless of the number of tests they require in this configuration. (5) As discussed above, it can also be considered a color problem, in which each test on a single unit can be considered a generalization of the list of hypergraph coloring, since thermal configurations can be mapped to hyperedges."}, {"heading": "6 Test Sequencing", "text": "The problem of minimizing the number of non-buffered items is of course represented by the definition of these items, because, as shown in Section 4, the number of items and the fact that tests require some items to be active can be modeled as buffered resources. In addition, as often happens in problems that can be represented with a buffered resource, we know beforehand that the number of items (here buffered items) must be activated at least once. In other words, the total number of items that need to be buffered is a trivial lower limit for the required number of items. However, the limitation does not take this information into account and is therefore \"suboptimal,\" especially if only a few tests have been assigned to a configuration. In this section, we propose an improvement of the propagator for the very frequent cases where we have prior knowledge of a number of items that ultimately need to be buffered."}, {"heading": "7 Search Strategy", "text": "In this section, we present a specific branching euristics for the packaging problem. The basic idea is that we can easily assess the impact of assigning a test to a configuration by counting how many equipment activations are required and how these equipment units are already limited in this configuration. Second, we propose to break the problem down into aspects of packaging and sequencing to quickly find good ceilings for the problem of test scheduling."}, {"heading": "7.1 Branching Heuristic", "text": "If test k should be performed in this configuration, i.e. the number of non-ground Boolean activation variables in relation to equipping test k, which is limited by configuration k, and we use the change in tightness resulting from the decision to perform test k in configuration i to evaluate the effects of this decision. After the decision Xk = i, the tightness rb = tightness of the constraint k (i), and we use the change in tightness resulting from the decision to perform test k in configuration i to evaluate the effects of this decision. Therefore, the factor torra / rb represents the factor by which the tightness of the constraint would increase. \u2212 As ra / rb value, we will be 1 minus its actual configuration k (i), which we can only define in relation to the average effects of the (minimized) k values."}, {"heading": "7.2 Multi-stage Approach", "text": "We use mh Boolean variables to represent the status of each device unit in each configuration. Furthermore, without an upper limit on the number of configurations required to pack each test, we can only assume that n configurations (as many as there are tests) are needed, i.e., h = n. However, in practice, n is a gross overestimation of the problem in which only constraints 1 to 3 are held, i.e. the model can be run in as few as three configurations. Furthermore, since we consider two criteria in a hierarchical manner, it makes sense to optimize a relativization of the problem in which only constraints 1 to 3 are held, i.e. the model is complete with the highest priority target."}, {"heading": "8 Experimental Evaluation", "text": "In fact, most of them are able to outdo themselves, and they are able to outdo themselves. (...) Most of them are not able to outdo themselves. (...) Most of them are able to outdo themselves. (...) Most of them are not able to outdo themselves. (...) Most of them are able to outdo themselves. (...) Most of them are able to outdo themselves. (...) Most of them are able to outdo themselves. (...) Most of them are able to outdo themselves. (...) Most of them are able to outdo themselves. (...) Most of them are able to outdo themselves. (...) Most of them are able to outdo themselves. (...) Most of them are able to outdo themselves. (...)"}, {"heading": "9 Conclusion", "text": "We have introduced a full constraint programming approach to the problem of packaging and sequencing the validation tests of communications satellites and our experimental assessment shows that the methods proposed in this paper significantly improve the test schedules compared to those currently used within the Airbus group.Although this approach has not yet been industrially implemented, an earlier internal study in Airbus3 showed that during a test campaign approximately 30% of the total time is spent on transitions between configurations. Furthermore, tests often have to be interrupted because the payload is overheated and can only be resumed after the system has stabilised.The constraint model we have introduced should help with both problems. As such test campaigns require an extremely expensive and energy-charged thermal vacuum chamber as well as a large team of engineers in 3-shift rosters, significant financial savings can be expected from this approach."}, {"heading": "12. Jean-Charles Re\u0301gin. A filtering algorithm for constraints of difference in CSPs. In", "text": "Records of the Twelfth National Conference on Artificial Intelligence (AAAI), pp. 362-367, 1994. 13. Naoyuki Tamura, Akiko Taga, Satoshi Kitagawa and Mutsunori Banbara. Compiling finite linear CSP into SAT. Constraints, 14 (2): 254-272, 2008."}], "references": [{"title": "Buffered resource constraint: Algorithms and complexity", "author": ["Christian Bessiere", "Emmanuel Hebrard", "Marc-Andr\u00e9 M\u00e9nard", "Claude-Guy Quimper", "Toby Walsh"], "venue": "In Proceedings of the Eleventh International Conference on Integration of AI and OR Techniques in Constraint Programming (CPAIOR),", "citeRegEx": "1", "shortCiteRegEx": "1", "year": 2014}, {"title": "Heuristic Methods for Test Sequencing in Telecommunication Satellites", "author": ["Ludivine Boche-Sauvan", "Bertrand Cabon", "Marie-Jos\u00e9 Huguet", "Emmanuel H\u00e9brard"], "venue": "In Proceedings of the Tenth International Conference on Modeling, Optimization and Simulation (MOSIM),", "citeRegEx": "2", "shortCiteRegEx": "2", "year": 2014}, {"title": "Boosting Systematic Search by Weighting Constraints", "author": ["Fr\u00e9d\u00e9ric Boussemart", "Fred Hemery", "Christophe Lecoutre", "Lakhdar Sais"], "venue": "In Proceedings of the Sixteenth Eureopean Conference on Artificial Intelligence (ECAI),", "citeRegEx": "3", "shortCiteRegEx": "3", "year": 2004}, {"title": "Arc-Consistency for a Chain of Lexicographic Ordering Constraints", "author": ["Mats Carlsson", "Nicolas Beldiceanu"], "venue": "Technical Report T2002-18,", "citeRegEx": "4", "shortCiteRegEx": "4", "year": 2002}, {"title": "On multi-dimensional packing problems", "author": ["Chandra Chekuri", "Sanjeev Khanna"], "venue": "In Proceedings of the 10th Annual ACM-SIAM Symposium on Discrete Algorithms, Tenth Annual ACM-SIAM Symposium on Discrete Algorithms (SODA),", "citeRegEx": "5", "shortCiteRegEx": "5", "year": 1999}, {"title": "Propagation algorithms for lexicographic ordering constraints", "author": ["Alan M. Frisch", "Brahim Hnich", "Zeynep Kiziltan", "Ian Miguel", "Toby Walsh"], "venue": "Artificial Intelligence,", "citeRegEx": "6", "shortCiteRegEx": "6", "year": 2006}, {"title": "Generality versus Specificity: An Experience with AI and OR techniques", "author": ["Pascal Van Hentenryck", "Jean-Philippe Carillon"], "venue": "In Proceedings of the Seventh National Conference on Artificial Intelligence (AAAI),", "citeRegEx": "7", "shortCiteRegEx": "7", "year": 1988}, {"title": "Constraint programming for optimising satellite validation plans", "author": ["Caroline Maillet", "G\u00e9rard Verfaillie", "Bertrand Cabon"], "venue": "In Proceedings of Seventh International Workshop on Planning and Scheduling for Space (IWPSS),", "citeRegEx": "8", "shortCiteRegEx": "8", "year": 2011}, {"title": "Activity-Based Search for Black-Box Constraint Programming Solvers, pages 228\u2013243", "author": ["Laurent Michel", "Pascal Van Hentenryck"], "venue": null, "citeRegEx": "9", "shortCiteRegEx": "9", "year": 2012}, {"title": "Choco Documentation. TASC, INRIA Rennes, LINA CNRS UMR 6241", "author": ["Charles Prud\u2019homme", "Jean-Guillaume Fages", "Xavier Lorca"], "venue": "COSLING S.A.S.,", "citeRegEx": "10", "shortCiteRegEx": "10", "year": 2015}, {"title": "Impact-Based Search Strategies for Constraint Programming. In Principles and Practice of Constraint Programming (CP), pages 557\u2013571, 2004. 3 Master\u2019s internship report by Ludivine Boche-Sauvan for the \u201cInstitut Sup\u00e9rieur de l\u2019Aeronautique et de l\u2019Espace", "author": ["Philippe Refalo"], "venue": "(http://www.laas.fr/files/ROC/LAAS_Techreport.pdf)", "citeRegEx": "11", "shortCiteRegEx": "11", "year": 2012}, {"title": "A filtering algorithm for constraints of difference in CSPs", "author": ["Jean-Charles R\u00e9gin"], "venue": "In Proceedings of the Twelfth National Conference on Artificial Intelligence (AAAI),", "citeRegEx": "12", "shortCiteRegEx": "12", "year": 1994}, {"title": "Compiling finite linear CSP into SAT", "author": ["Naoyuki Tamura", "Akiko Taga", "Satoshi Kitagawa", "Mutsunori Banbara"], "venue": null, "citeRegEx": "13", "shortCiteRegEx": "13", "year": 2008}], "referenceMentions": [{"referenceID": 7, "context": "In the first approach [8], tests requiring the same subset of active equipment are packed together in the", "startOffset": 22, "endOffset": 25}, {"referenceID": 7, "context": "[8] first proposed a constraint programming approach to address this problem, using backjumping and dedicated heuristics.", "startOffset": 0, "endOffset": 3}, {"referenceID": 1, "context": "The second approach, presented in [2], relies on this idea.", "startOffset": 34, "endOffset": 37}, {"referenceID": 1, "context": "A local search method (simulated annealing) was proposed in [2] for this second approach, that is, with \u201conline\u201d activation allowed.", "startOffset": 60, "endOffset": 63}, {"referenceID": 7, "context": "Finally, since the focus in [8] was on selecting a subset of tests to be run rather than sequencing them, a straightforward improvement of the first approach was proposed in [2]: Once every test is allocated to a configuration and the number of configurations is minimized, the problem of minimizing the number of activations between consecutive configurations can be seen as a Traveling Salesman Problem (TSP).", "startOffset": 28, "endOffset": 31}, {"referenceID": 1, "context": "Finally, since the focus in [8] was on selecting a subset of tests to be run rather than sequencing them, a straightforward improvement of the first approach was proposed in [2]: Once every test is allocated to a configuration and the number of configurations is minimized, the problem of minimizing the number of activations between consecutive configurations can be seen as a Traveling Salesman Problem (TSP).", "startOffset": 174, "endOffset": 177}, {"referenceID": 0, "context": "We observe that this secondary objective can be easily modeled using the constraint Switch [1].", "startOffset": 91, "endOffset": 94}, {"referenceID": 0, "context": "The constraints Switch and BufferedResource [1] were introduced to model a type of resource corresponding to a buffer which must contain the items required by some tasks when they are being processed.", "startOffset": 44, "endOffset": 47}, {"referenceID": 11, "context": "Achieving arc consistency on this constraint is NP-hard, and there is no dedicated propagation algorithm for this constraint, besides the obvious decomposition using Switch, AllDifferent [12] and some Element [7] constraints.", "startOffset": 187, "endOffset": 191}, {"referenceID": 6, "context": "Achieving arc consistency on this constraint is NP-hard, and there is no dedicated propagation algorithm for this constraint, besides the obvious decomposition using Switch, AllDifferent [12] and some Element [7] constraints.", "startOffset": 209, "endOffset": 212}, {"referenceID": 0, "context": "The reduction from Hamiltonian path to BufferedResource provided in [1] can be lifted to this particular case.", "startOffset": 68, "endOffset": 71}, {"referenceID": 4, "context": "The problem restricted to Constraints (1), (2) and (3) has some similarities with the multi-dimensional bin packing problem [5].", "startOffset": 124, "endOffset": 127}, {"referenceID": 12, "context": ", Z l h) is its unary order encoding [13].", "startOffset": 37, "endOffset": 41}, {"referenceID": 0, "context": "It is possible to find an optimal buffer sequence \u03c3, that is, an assignment of Y that minimizes the value of M with the greedy procedure FindSupport introduced by [1] (Algorithm 1 in [1]).", "startOffset": 163, "endOffset": 166}, {"referenceID": 0, "context": "It is possible to find an optimal buffer sequence \u03c3, that is, an assignment of Y that minimizes the value of M with the greedy procedure FindSupport introduced by [1] (Algorithm 1 in [1]).", "startOffset": 183, "endOffset": 186}, {"referenceID": 0, "context": "As ra/rb \u2208 [1,\u221e], we use 1 minus its inverse as a measure, in [0, 1], of the impact of that decision, that is:", "startOffset": 62, "endOffset": 68}, {"referenceID": 3, "context": "We therefore used lexicographic ordering constraints [4,6] on the set variables Y1, .", "startOffset": 53, "endOffset": 58}, {"referenceID": 5, "context": "We therefore used lexicographic ordering constraints [4,6] on the set variables Y1, .", "startOffset": 53, "endOffset": 58}, {"referenceID": 9, "context": "All models have been implemented in Choco 3 [10] and ran on Intel Xeon E5 processors for a total of thirty minutes on every instance.", "startOffset": 44, "endOffset": 48}, {"referenceID": 2, "context": "\u2013 base is the straightforward model with Constraints 1 to 5, using Weighted Degree [3] for variable selection and lexicographic branching.", "startOffset": 83, "endOffset": 86}, {"referenceID": 10, "context": "However Impact Based Search [11] and Activity Based Search [9] cannot trivially be made to branch on the lexicographically least value and thus gave extremely poor results for that reason.", "startOffset": 28, "endOffset": 32}, {"referenceID": 8, "context": "However Impact Based Search [11] and Activity Based Search [9] cannot trivially be made to branch on the lexicographically least value and thus gave extremely poor results for that reason.", "startOffset": 59, "endOffset": 62}, {"referenceID": 7, "context": "Finally, in Table 3, we compare the results of our best method (model full) with the method previously used by Airbus Defense & Space [8] and with a slight improvement of this method described in [2].", "startOffset": 134, "endOffset": 137}, {"referenceID": 1, "context": "Finally, in Table 3, we compare the results of our best method (model full) with the method previously used by Airbus Defense & Space [8] and with a slight improvement of this method described in [2].", "startOffset": 196, "endOffset": 199}], "year": 2017, "abstractText": "The payload of communications satellites must go through a series of tests to assert their ability to survive in space. Each test involves some equipment of the payload to be active, which has an impact on the temperature of the payload. Sequencing these tests in a way that ensures the thermal stability of the payload and minimizes the overall duration of the test campaign is a very important objective for satellite manufacturers. The problem can be decomposed in two sub-problems corresponding to two objectives: First, the number of distinct configurations necessary to run the tests must be minimized. This can be modeled as packing the tests into configurations, and we introduce a set of implied constraints to improve the lower bound of the model. Second, tests must be sequenced so that the number of times an equipment unit has to be switched on or off is minimized. We model this aspect using the constraint Switch, where a buffer with limited capacity represents the currently active equipment units, and we introduce an improvement of the propagation algorithm for this constraint. We then introduce a search strategy in which we sequentially solve the sub-problems (packing and sequencing). Experiments conducted on real and random instances show the respective interest of our contributions.", "creator": "LaTeX with hyperref package"}}}