{"id": "1701.06635", "review": {"conference": "arxiv", "VERSION": "v1", "DATE_OF_SUBMISSION": "23-Jan-2017", "title": "Space-Time Graph Modeling of Ride Requests Based on Real-World Data", "abstract": "This paper focuses on modeling ride requests and their variations over location and time, based on analyzing extensive real-world data from a ride-sharing service. We introduce a graph model that captures the spatial and temporal variability of ride requests and the potentials for ride pooling. We discover these ride request graphs exhibit a well known property called densification power law often found in real graphs modelling human behaviors. We show the pattern of ride requests and the potential of ride pooling for a city can be characterized by the densification factor of the ride request graphs. Previous works have shown that it is possible to automatically generate synthetic versions of these graphs that exhibit a given densification factor. We present an algorithm for automatic generation of synthetic ride request graphs that match quite well the densification factor of ride request graphs from actual ride request data.", "histories": [["v1", "Mon, 23 Jan 2017 21:18:33 GMT  (9956kb,D)", "http://arxiv.org/abs/1701.06635v1", "Accepted at AAAI-17 Workshop on AI and OR for Social Good (AIORSocGood-17)"]], "COMMENTS": "Accepted at AAAI-17 Workshop on AI and OR for Social Good (AIORSocGood-17)", "reviews": [], "SUBJECTS": "cs.AI", "authors": ["abhinav jauhri", "brian foo", "jerome berclaz", "chih chi hu", "radek grzeszczuk", "vasu parameswaran", "john paul shen"], "accepted": false, "id": "1701.06635"}, "pdf": {"name": "1701.06635.pdf", "metadata": {"source": "META", "title": "Space-Time Graph Modeling of Ride Requests Based on Real-World Data", "authors": ["Abhinav Jauhri", "Brian Foo", "J\u00e9r\u00f4me Berclaz", "Chih Chi Hu", "Radek Grzeszczuk", "Vasu Parameswaran", "John Paul Shen"], "emails": ["jpshen}@cmu.edu;", "vasu}@uber.com"], "sections": [{"heading": "1 Introduction", "text": "This year it has come to the point that it has never come as far as this year."}, {"heading": "2 Prior Work", "text": "This year it has come to the point that it has never come as far as this year."}, {"heading": "3 Space-Time Evolution of Ride Requests", "text": "This work is based on extensive real-world data from Uber, a ride-sharing service with a global presence in several hundred cities. We examine data from 40 cities with average daily city-wide ride-sharing requirements ranging from 2K to 200K per day. Each ride-sharing requirement includes a source location, destination d and time of the request. Both s and d are represented by their width and length. We have similar results for all 40 cities based on a total of approximately 50 million ride-sharing requirements. \u00b2 In this study, we do not consider the actual navigation path taken from s to d for a ride-sharing request. This paper presents results for only four cities. We have similar results for all 40 cities based on a total of approximately 50 million ride-sharing requirements. \u00b2 Maps data from Figures 2, 3 and 5 are available from OpenStreetMap under the Open Database License and the cartography is available under the Creative Commons Attribution Attribution-Alike 2.0."}, {"heading": "4 Space-Time Graph Model", "text": "The chart showing the driving requirements for a given period is called the Ride Request Graph (RRG). Each RRG captures the spatial distribution of driving requirements in a city within that period. RRG evolves from one period to the next to take into account new driving requirements initiated in the next period. This evolution of RRG and the resulting sequence of RRG capture the temporal aspect of driving requirements over many time intervals."}, {"heading": "Ride Request Graph Generation", "text": "We divide the map of a city into equal-sized cells of 100 x 100 m. Each cell is considered a node in the diagram only if the source or destination of a travel request is within that cell. A directed edge connects the source and target cells of a ride. A directed graph can then be created to model all travel requirements at that time interval for a given city.For illustration, consider the travel requirements in Figure 3a for a given time interval. The four travel requirements are displayed on a grid (not to scale).The corresponding graph in Figure 3b consists of four knots with knots A subsumming s1, s2, d4; knots B subsumming s3; knots C subsumming s4, d1; and knots D subsumming d2, d3. All edges in Figure 3a have weights that represent individual travel requirements."}, {"heading": "Ride Request Graph Densification", "text": "A Ride Request Graph differs from conventional graphs: (1) Each node has a geographical area associated with it; (2) RRG is not fixed in time, but evolves in time. Each RRG involves a spatial quantization (in 100 x 100 cells) of a city's geographical space and a temporal quantization in time intervals. In this work, we use 5-minute intervals for time quantification. As an RRG evolves over time, it produces a sequence of RRGs that capture the temporal behavior of driving demands. As we analyze the RRGs extracted from historical data of driving requests from all cities, we make an interesting observation about these RRGs. Densification refers to graphs that evolve over time and how edge counting grows relative to the growth of node counting."}, {"heading": "Characteristic Attributes of RRGs", "text": "It seems that the pattern of driving requirements for a city can be concisely characterized by C. \u03b1 can be derived from the performance law of the RRGs for that city (see top line of Figure 4). The exponential \u03b1 represents the densification of driving requirements within a city. This densification factor \u03b1 can be in the range of 1.0 to 2.0. If \u03b1 = 1.0, this means that the number of edges grows linearly in relation to the number of nodes; if \u03b1 = 2.0, then the RRGs become fully networked diagrams. Interestingly, all four cities have densification factors greater than 1.0. This means that the edge number grows superficially to the number of nodes, implying the densification of driving requirements Density L, density density density, density, density L, density, density, density, density, density, density, density, may reflect the small world effect (Watts and Strogatz 2005). We speculate that this indicates the human tendency to form cluster / networked communities, density L, density, density, density, density, density, density, may reflect the small world effect (Watts and Strogatz 2005), density, density, density, density, density, L, density, density, density, density, density, and density, density, density, density, density, density."}, {"heading": "5 Synthesized Space-Time Graph Model", "text": "In this section, we will examine the automatic generation of synthetic spacetime graph models that mimic the attributes of RRGs generated using real driving requirement data. Two interesting attributes are: 1) the spatial distribution of the nodes and 2) the temporal evolution or compression factor of the RRG."}, {"heading": "Spatial Properties", "text": "It is about the question of to what extent it is actually about a way, in which it is about a way, in which it is about a way, in which it is about a way, in which it is about a way, in which it is about a way, in which it is about a way, in which it is about a way, in which it is about a way, in which it is about a way, in which it is about a way, in which it is about a way, in which it is about a way, in which it is about a way, in which it is about a way, in which it is about a way, in which it is about a way, in which it is about a way, and in which it is about a way, in which it is about a way, in which it is about a way, in which it is about a way, in which it is about a way, in which it is about a way, in which it is about a way, in which it is about a way, in which it is about a way, in which it is about a way, in which it is about a way and in which it is about a way, in which it is about a way and in which it is about a way, in which it is about a way and in which it is about a way, in which it is about a way and in which it is about a way, in which it is about a way and in which it is about a way and in which it is about a way it is about a way and in which it is about a way and in which it is about a way and in which it is about a way it is about a way and in which it is about a way and in which it is about a way and in which it is about which it is about a way and in which it is about a way and in which it is about a way and in which it is about a way it is about a way and in which it is about a way and in which it is about a way it is about a way and in which it is about a way and in which it is about a way it is about which it is about a way and in which it is about a way and in which it is about a way and in which it is about a way it is about a way and in which it is about a way and in which it is about a way and in which it is about a way"}, {"heading": "Densification Properties", "text": "Our model for connecting these points so that they become concrete driving requirements is described in the algorithm DENSPROPGEN. This model enables us to gather the compaction property observed in RRRGs from real data. Algorithm 3 requires three parameters: (1) number of points to generate m; (2) the probability of selecting a point that has not yet been visited before p; (3) number of links from a starting point is defined by geometrically distributed random number with the mean value 1 / q. 1 \u2212 p is the probability of selecting a previously visited starting point as the destination (variation of the preferred fastening technique described in Chakrabarti and Faloutsos 2012), which captures the idea of a richer multiplication.In algorithm 3 UniformRandomChoice selects a point from the fixed points at random principle. GeometricRandom generates values from a ricom randomness of a probability of a uniformly distributed success of 0."}, {"heading": "Synthesized RRG Model", "text": "Our complete model, which embodies all aspects of synthesized RRGs, is as follows: Step 1: Use OSM data to aggregate the PoI number for each node.Step 2: Select a subset of interesting nodes from the historical data in which ride requests took place.Algorithm 3: Capture the compaction characteristics. Inputs: m, p & q, [0, 1] 1: Procedure DENSPROPGEN (m, p, q) 2: letM = [0,., m \u2212 1] 3: letR = [] 4: let rides = [] 5: while length (M) > 1 do 6: s = uniformRandomChoice (M) 7: remove (M, s) 8: nedges = geometricRandom (q) 9: for each edge e: [0, nedges) do 10: if uniformRandom () < then 11: K (M): uniformated (12)."}, {"heading": "Comparison of Graph Models", "text": "Figure 4 (bottom row) shows diagrams for the synthesized graph model with densification factors very similar to those obtained from real data in Figure 4 (top row). Figure 5 shows the spatial distribution generated by the SPATIALPROPGEN and RANDOMWALK algorithms for the city of San Francisco. The diagrams show nodes (aggregation of points) in an RRG for a one-time interval for both the real RG (left) and the synthesized RG (right). The nodes are densely packed in the synthetic diagram, due to the distortion induced by the previous probability distribution using PoI density. Certain geographic areas in Figure 5b have no nodes compared to Figure 5a, also because the previous PoI density distribution is low in sparsely populated areas."}, {"heading": "6 Ride Request Poolability", "text": "Recently, ride-sharing services have begun to offer the possibility of ride-pooling by matching similar ride-or-ride-matching requests in real time. Such a ride-or-ride-matching problem is similar to the well-studied combinatorial problem commonly referred to as the Vehicle Routing Problem (Laporte 1992). An interesting and powerful approach to maximizing pooling and minimizing costs is through advanced planning, where a ride-sharing service provides a time period in the future for pickup, and the ride-sharing service provides a match within the time period. In this paper, we instead look at the potential for ride-pooling pooling, i.e. pooling rides that are not planned in advance. We focus first on evaluating the potential of ride-pooling pooling based on historical data. We examine all ride-pooling requests in a city and try to bundle ride-pooling requests within marginal conditions in both San Francisco and spatial constraints."}, {"heading": "Ride Poolability Attributes", "text": "We also observe that the pool capability of a city directly correlates with its density factor. Cities with higher \u03b1 always have a higher pool capability. If we compare Figure 8 with the top row of Figure 4, we find that \u03b1 = 1.031, 1.054, 1.098, 1.104 for Hyderabad, Paris, New York and San Francisco, respectively. This sequence corresponds exactly to the order of pool capability in Figure 8 and Table 1 (mean pool capability)."}, {"heading": "Synthesized RRG Poolability", "text": "The inclination of the straight lines, which match real and synthetic plots, suggests that the synthesized chart model fits relatively well with the real pool capability. There are cases where the synthesized version predicts above or below the pool capability, most likely due to the lack of spatial information of driving requirements distributed over time. Node density information from the OSM is not dynamic in relation to the time of day, so there is a tendency to generate points in regions with high PoI density that may not be considered to be consecutive time intervals. Figure 9 shows how the pool capability metric varies over 168 hours (starting at 20 o'clock on Friday) of a typical week. The synthetic model captures the temporal variations and matches well with the pool capability from the real driving requirement data. For the synthetic model, the total number of driving requirements over 168 hours (starting at 20 o'clock on Friday) of a typical week was kept the same."}, {"heading": "7 Conclusion", "text": "The emergence of ride-sharing services and the availability of extensive data from such services creates unprecedented opportunities for: conducting large-scale data analyses in urban transport; gaining new insights into human mobility; and facilitating new public services for the benefit of society. This work is a first attempt to do so. Key contributions of this paper include: \u2022 Based on extensive real-world data, we introduce a space-time frame for modelling driving requirements in a city, and the presentation and analysis of carpooling. \u2022 We introduce a space-time chart for modelling carpooling in a city and show that these charts have a densification of performance rights as they evolve over time. \u2022 Based on the compression law, we show that the pattern of carpooling requirements and carpooling for a city can be characterised distinctly by the densification factor of its carpooling. \u2022 We further show that the degree of carpooling is directly related to the degree of carpooling in a city."}], "references": [{"title": "Investigating ride sharing opportunities through mobility data analysis", "author": ["N. Bicocchi", "M. Mamei"], "venue": "Pervasive and Mobile Computing 14:83\u201394.", "citeRegEx": "Bicocchi and Mamei,? 2014", "shortCiteRegEx": "Bicocchi and Mamei", "year": 2014}, {"title": "Transforming personal mobility", "author": ["L. Burns", "W. Jordan", "B. Scarborough"], "venue": "the earth institute, columbia university, new york.", "citeRegEx": "Burns et al\\.,? 2013", "shortCiteRegEx": "Burns et al\\.", "year": 2013}, {"title": "People in Los Angeles Are Getting Rid of Their Cars", "author": ["Buzzfeed."], "venue": "https://www.buzzfeed.com/priya/ people-in-los-angeles-are-getting-ridof-their-cars. [Online; accessed 9-September-2016].", "citeRegEx": "Buzzfeed.,? 2016", "shortCiteRegEx": "Buzzfeed.", "year": 2016}, {"title": "Multiagent-based route guidance for increasing the chance of arrival on time", "author": ["Z. Cao", "H. Guo", "J. Zhang", "U. Fastenrath"], "venue": null, "citeRegEx": "Cao et al\\.,? \\Q2016\\E", "shortCiteRegEx": "Cao et al\\.", "year": 2016}, {"title": "Graph mining: laws, tools, and case studies", "author": ["D. Chakrabarti", "C. Faloutsos"], "venue": "Synthesis Lectures on Data Mining and Knowledge Discovery 7(1):1\u2013207.", "citeRegEx": "Chakrabarti and Faloutsos,? 2012", "shortCiteRegEx": "Chakrabarti and Faloutsos", "year": 2012}, {"title": "Community detection in graphs", "author": ["S. Fortunato"], "venue": "Physics reports 486(3):75\u2013174. Fortune. 2015. Uber Completes 1 billion rides. http://fortune.com/2015/12/30/ubercompletes-1-billion-rides/. [Online; accessed", "citeRegEx": "Fortunato,? 2010", "shortCiteRegEx": "Fortunato", "year": 2010}, {"title": "Large scale real-time ridesharing with service guarantee on road networks", "author": ["Y. Huang", "F. Bastani", "R. Jin", "X.S. Wang"], "venue": "Proceedings of the VLDB Endowment 7(14):2017\u20132028.", "citeRegEx": "Huang et al\\.,? 2014", "shortCiteRegEx": "Huang et al\\.", "year": 2014}, {"title": "Collaboration and shared plans in the open world: Studies of ridesharing", "author": ["E. Kamar", "E. Horvitz"], "venue": null, "citeRegEx": "Kamar and Horvitz,? \\Q2009\\E", "shortCiteRegEx": "Kamar and Horvitz", "year": 2009}, {"title": "Scalability issues in optimal assignment for carpooling", "author": ["L. Knapen", "I.B.-A. Hartman", "D. Keren", "S. Cho", "T. Bellemans", "D. Janssens", "G Wets"], "venue": "Journal of Computer and System Sciences", "citeRegEx": "Knapen et al\\.,? \\Q2015\\E", "shortCiteRegEx": "Knapen et al\\.", "year": 2015}, {"title": "The vehicle routing problem: An overview of exact and approximate algorithms", "author": ["G. Laporte"], "venue": "European Journal of Operational Research 59(3):345\u2013358.", "citeRegEx": "Laporte,? 1992", "shortCiteRegEx": "Laporte", "year": 1992}, {"title": "Graphs over time: densification laws, shrinking diameters and possible explanations", "author": ["J. Leskovec", "J. Kleinberg", "C. Faloutsos"], "venue": "Proceedings of the eleventh ACM SIGKDD international conference on Knowledge discovery in data mining, 177\u2013187. ACM.", "citeRegEx": "Leskovec et al\\.,? 2005", "shortCiteRegEx": "Leskovec et al\\.", "year": 2005}, {"title": "Graph evolution: Densification and shrinking diameters", "author": ["J. Leskovec", "J. Kleinberg", "C. Faloutsos"], "venue": "ACM Transactions on Knowledge Discovery from Data (TKDD) 1(1):2.", "citeRegEx": "Leskovec et al\\.,? 2007", "shortCiteRegEx": "Leskovec et al\\.", "year": 2007}, {"title": "Optimization and mechanism design for ridesharing services", "author": ["W. Lu"], "venue": "Technical report.", "citeRegEx": "Lu,? 2014", "shortCiteRegEx": "Lu", "year": 2014}, {"title": "Power laws, pareto distributions and zipf\u2019s law", "author": ["M.E. Newman"], "venue": "Contemporary physics 46(5):323\u2013351.", "citeRegEx": "Newman,? 2005", "shortCiteRegEx": "Newman", "year": 2005}, {"title": "OpenStreetMap contributors", "author": ["OpenStreetMap."], "venue": "(2016) Planet dump. http://http://wiki. openstreetmap.org/wiki/Main_Page. [Online; Data file accessed till 26-August-2016].", "citeRegEx": "OpenStreetMap.,? 2016", "shortCiteRegEx": "OpenStreetMap.", "year": 2016}, {"title": "Ride sharing: a network perspective", "author": ["E. Shmueli", "I. Mazeh", "L. Radaelli", "A.S. Pentland", "Y. Altshuler"], "venue": "International Conference on Social Computing, BehavioralCultural Modeling, and Prediction, 434\u2013439. Springer.", "citeRegEx": "Shmueli et al\\.,? 2015", "shortCiteRegEx": "Shmueli et al\\.", "year": 2015}, {"title": "The benefits of meeting points in ride-sharing system/less", "author": ["M. Stiglic", "N. Agatz", "M. Savelsbergh", "M. Gradisar"], "venue": "Transportation Research Part B: Methodological 82:36\u201353.", "citeRegEx": "Stiglic et al\\.,? 2015", "shortCiteRegEx": "Stiglic et al\\.", "year": 2015}, {"title": "Optimizing ride matches for dynamic ridesharing systems", "author": ["X. Wang"], "venue": null, "citeRegEx": "Wang,? \\Q2013\\E", "shortCiteRegEx": "Wang", "year": 2013}, {"title": "Collective dynamics of small-worldnetworks", "author": ["D.J. Watts", "S.H. Strogatz"], "venue": "nature 393(6684):440\u2013442.", "citeRegEx": "Watts and Strogatz,? 1998", "shortCiteRegEx": "Watts and Strogatz", "year": 1998}], "referenceMentions": [{"referenceID": 4, "context": "This paper makes the following five key contributions: (1) We introduce a new graph model of ride-sharing services that captures both the temporal and spatial attributes of ride requests; (2) We discover that ride request graphs (RRGs) from this model exhibit the well known \u201cdensification power law\u201d (DPL) property often found in real graphs modeling human behaviors (Chakrabarti and Faloutsos 2012); (3) We show it is possible to automatically generate synthetic versions of RRGs that exhibit the same DPL degree as the RRGs extracted from real world data; (4) We introduce a new concept called \u201cride poolability\u201d that captures the fraction of ride requests that can potentially be pooled; and (5) We show there is a direct correlation between the DPL degree of RRGs and the level of ride poolability of a city.", "startOffset": 368, "endOffset": 400}, {"referenceID": 12, "context": "(Lu 2014) study optimizing the number of miles driven by drivers by pooling riders; ride requests are generated uniformly over square blocks.", "startOffset": 0, "endOffset": 9}, {"referenceID": 17, "context": "(Wang 2013) also simulate data for ride requests in the city of Atlanta to study benefits of matching riders.", "startOffset": 0, "endOffset": 11}, {"referenceID": 8, "context": "(Knapen et al. 2015) formulate a graph with nodes as users, and edges indicating whether or not a negotiation between two users is possible to carpool.", "startOffset": 0, "endOffset": 20}, {"referenceID": 7, "context": "(Kamar and Horvitz 2009) use real-world data on trips from a limited part of a city to highlight significant reduction of carbon dioxide per year by having multiple riders share the same vehicle.", "startOffset": 0, "endOffset": 24}, {"referenceID": 0, "context": "(Bicocchi and Mamei 2014) developed a recommender system capable of identifying riders which could be pooled by looking at users\u2019 location data when they send or receive calls or text messages.", "startOffset": 0, "endOffset": 25}, {"referenceID": 16, "context": "(Stiglic et al. 2015) study the benefits of meeting points in a ride sharing system from generating synthetic ride requests within limited distance.", "startOffset": 0, "endOffset": 21}, {"referenceID": 15, "context": "(Shmueli et al. 2015) use a graph model to analyze real data set of taxi trips in New York City for assessing the potential of ride pooling.", "startOffset": 0, "endOffset": 21}, {"referenceID": 6, "context": "For ride pooling to be some percentage of total ride requests such that civic bodies can make decisions, or for ride requests pattern to be studied for its potential of pooling (Huang et al. 2014) and to improve arrival time (Cao et al.", "startOffset": 177, "endOffset": 196}, {"referenceID": 3, "context": "2014) and to improve arrival time (Cao et al. 2016) based on anticipated congestion, we need to understand the laws which govern ride requests at any geographical area, and at any given time.", "startOffset": 34, "endOffset": 51}, {"referenceID": 13, "context": "Graphs for many real networks all seem to exhibit this densification power law (DPL) (Newman 2005).", "startOffset": 85, "endOffset": 98}, {"referenceID": 5, "context": "These graphs also exhibit the attribute of having strongly connected subgraphs or communities (Fortunato 2010).", "startOffset": 94, "endOffset": 110}, {"referenceID": 18, "context": "We speculate this demonstrates the human tendency towards the creation of clustered/connected communities, perhaps reflecting the small world effect (Watts and Strogatz 1998).", "startOffset": 149, "endOffset": 174}, {"referenceID": 4, "context": "(Leskovec, Kleinberg, and Faloutsos 2005) and (Chakrabarti and Faloutsos 2012) have shown that for graphs that evolve according to the densification power law, it is possible to automatically generate these graphs that exhibit specific densification factors.", "startOffset": 46, "endOffset": 78}, {"referenceID": 4, "context": "1 \u2212 p is the probability of choosing a previously visited source point as destination (variation of the preferential attachment technique described in (Chakrabarti and Faloutsos 2012)) which captures the idea of rich getting richer.", "startOffset": 151, "endOffset": 183}, {"referenceID": 9, "context": "Such ride or rider matching problem is similar to the well studied combinatorial problem commonly referred to as the Vehicle Routing Problem (Laporte 1992).", "startOffset": 141, "endOffset": 155}], "year": 2017, "abstractText": "This paper focuses on modeling ride requests and their variations over location and time, based on analyzing extensive real-world data from a ride-sharing service. We introduce a graph model that captures the spatial and temporal variability of ride requests and the potentials for ride pooling. We discover these ride request graphs exhibit a well known property called \u201cdensification power law\u201d often found in real graphs modelling human behaviors. We show the pattern of ride requests and the potential of ride pooling for a city can be characterized by the densification factor of the ride request graphs. Previous works have shown that it is possible to automatically generate synthetic versions of these graphs that exhibit a given densification factor. We present an algorithm for automatic generation of synthetic ride request graphs that match quite well the densification factor of ride request graphs from actual ride request data.", "creator": "TeX"}}}