{"id": "1703.01671", "review": {"conference": "arxiv", "VERSION": "v1", "DATE_OF_SUBMISSION": "5-Mar-2017", "title": "Controlling for Unobserved Confounds in Classification Using Correlational Constraints", "abstract": "As statistical classifiers become integrated into real-world applications, it is important to consider not only their accuracy but also their robustness to changes in the data distribution. In this paper, we consider the case where there is an unobserved confounding variable $z$ that influences both the features $\\mathbf{x}$ and the class variable $y$. When the influence of $z$ changes from training to testing data, we find that the classifier accuracy can degrade rapidly. In our approach, we assume that we can predict the value of $z$ at training time with some error. The prediction for $z$ is then fed to Pearl's back-door adjustment to build our model. Because of the attenuation bias caused by measurement error in $z$, standard approaches to controlling for $z$ are ineffective. In response, we propose a method to properly control for the influence of $z$ by first estimating its relationship with the class variable $y$, then updating predictions for $z$ to match that estimated relationship. By adjusting the influence of $z$, we show that we can build a model that exceeds competing baselines on accuracy as well as on robustness over a range of confounding relationships.", "histories": [["v1", "Sun, 5 Mar 2017 21:57:25 GMT  (4454kb,D)", "http://arxiv.org/abs/1703.01671v1", "9 pages"]], "COMMENTS": "9 pages", "reviews": [], "SUBJECTS": "cs.AI cs.CL", "authors": ["virgile landeiro", "aron culotta"], "accepted": false, "id": "1703.01671"}, "pdf": {"name": "1703.01671.pdf", "metadata": {"source": "CRF", "title": "Controlling for Unobserved Confounds in Classification Using Correlational Constraints", "authors": ["Virgile Landeiro", "Aron Culotta"], "emails": ["vlandeir@hawk.iit.edu,", "aculotta@iit.edu"], "sections": [{"heading": "1 Introduction", "text": "In fact, it is as if most people are able to survive themselves by blaming themselves and others. (...) In fact, it is as if they are able to survive themselves. (...) It is not as if they are able to survive themselves. (...) It is as if they are able to survive themselves. (...) It is not as if they are able to survive themselves. (...) It is as if they are able to survive themselves. (...) It is as if they are able to survive themselves. (...) It is as if they are able to survive themselves. (...) It is as if they are able to survive themselves. (...) It is as if they are able to survive themselves. (...) It is as if they are able to survive themselves. (...) It is as if they are able to survive themselves. (...) It is as if they are able to survive themselves. (...)"}, {"heading": "2 Related Work", "text": "In the field of machine learning, selection bias has received some attention (Zadrozny 2004; Bareinboim, Tian, and Pearl 2014). It occurs when the population of a study is not randomly selected. Instead, some users are more inclined to be selected for the study than others, making it more difficult to draw conclusions from the general population. If we name S whether an element of the population is selected or not, there is the presence of selection bias when p (S = 1 | X, Y) 6 = p (S = 1). Dataset shift (QuioneroCandela et al. 2009) is a similar problem that occurs when the common distribution of traits and labels changes between the training datasets and the test datasets (i.e. ptr (X, Y) 6 = pte (X, Y)). Miscellaneous shifts (Bickel, Brushers, and Scheffer 2009; Sugiyama, Sugidat 2007, and Mledat 2007) are just one of the shifts in data specific cases."}, {"heading": "3 Methods", "text": "This criterion requires that no other path between x and y containing a series of references to the causality from which we proceed (Nox) is required. We then present two methods of applying backdoor adjustments when the founder is ignored and a separate basic problem must be predicted instead. Suppose you want to estimate the causal effect of a variable x in a variable way when a randomized controlled procedure is not possible. If a sufficient set of confounding variables z is available, you can use the backdoor adjustment equation as follows: p (y | do) the causal effect of a variable x on a variable x (y | x) x, z) \u00b7 p (z).backdoor criterion is a graphical test that determines whether z requires a sufficient set of variables to estimate the causal effect. This criterion requires that no output is in z and that z blocks any path between x and y that points to a series of variables."}, {"heading": "4 Experiments", "text": "We performed text classification experiments in which the relationship between the confounder z and the class variable y varies between the training and the test set. We look at the scenario in which we directly control the discrepancy between training and test. Thus, we can determine how well a confounder has been controlled by measuring how robust the method is across a range of discrepancy levels. To test tension / test sets with different p (y | z = 1) distributions, we assume that we have labeled datasets Dtrain, Dtest with elements {(xi, yi, zi)} where yi and zi are binary variables. We introduce a bias parameter p (y = 1 | z = 1) = b; by definition p (y = 0 | z = 1 \u2212 btest). For each experiment, we try substitutes from each set D \u2032 train Dtrain, D \u2032 test Dtest. So, to simulate a change in p (y | z) test, we use different terms for training btrain = 1 (btest, bz = 1)."}, {"heading": "4.1 Datasets", "text": "Location / Gender For our first set of data, we use data from Landeiro and Culotta (2016), where the task is to predict the location of a Twitter user based on their messages, with gender being a potential co-founder. So x is a term vector, y is the location, and z is the gender. The data includes geolocalized tweets from New York City (NYC) and Los Angeles (LA). There are 246,930 tweets for NYC and 218,945 tweets for LA over a four-day period (June 15 to June 18, 2015). Gender names are derived by cross-referencing the user's name (from the profile) with US Census name data, removing ambiguous names. For each user, we have up to the most recent 3,200 tweets, each representing a single binary unigram vector per user, using standard tokenization. Finally, we substack this collection and keep the tweets from 6,000 users so that the users are distributed across gender and location."}, {"heading": "5 Results", "text": "We use the following notes to describe the results below: We make a difference between 0.5 and 0.95. We use the following notes to describe the results below: \"We have to describe the difference between the correlation of y and z in the training and the tests.\" \"We,\" according to the study, \"\" is the correlation between y and z in the training and the tests. \"\" We, \"according to the study,\" is the correlation between the two methods (respectively the correlation between y and z). \"\" We, \"so the correlation between the two methods.\" We, \"according to the study,\" we, \"so the correlation between the two methods.\" We, \"so the correlation between the two methods,\" so the \"we,\" so the correlation between the two methods. \"\" \"we,\" so the \"we,\" so the \"we,\" so the \"we,\" so the \"we,\" so the \"we,\" the \"so we,\" the \"we,\" the \"so we,\" the \"we,\" the \"we,\" the \"we.\" we, \"the\" we, \"so the\" we, \"the\" we, \"the\" we, \"the\" we, \"we,\" the \"the\" we, \"the\" we, \"the\" we. \""}, {"heading": "6 Conclusion", "text": "In this paper, we have proposed two methods for controlling an unobserved confounder: Using two real data sets extracted from Twitter, we have found that a correlation synchronization to the predicted confounders in connection with the confounding fit through the back door can retrieve the underlying correlation r (y, z) and be closely compared to the confounder fit through the back door. We have also shown that a correlation synchronization can be used to slightly improve the predictions compared to logistic regression. If the threshold will not be able to adapt to the unobserved confounder z when F1z < 0.75, we have shown that a correlation synchronization provides a way to adapt to an unobserved confounder and perform a simple backdoor fit as long as F1z is > 0.65. In future work, we will consider hybrid methods that increase the thresholds and correlation matching if Robustness combines with Robust1z."}], "references": [{"title": "Recovering from selection bias in causal and statistical inference", "author": ["Tian Bareinboim", "E. Pearl 2014] Bareinboim", "J. Tian", "J. Pearl"], "venue": "In Proceedings of The TwentyEighth Conference on Artificial Intelligence (CE Brodley and P", "citeRegEx": "Bareinboim et al\\.,? \\Q2014\\E", "shortCiteRegEx": "Bareinboim et al\\.", "year": 2014}, {"title": "Discriminative learning under covariate shift", "author": ["Br\u00fcckner Bickel", "S. Scheffer 2009] Bickel", "M. Br\u00fcckner", "T. Scheffer"], "venue": "Journal of Machine Learning Research 10(Sep):2137\u20132155", "citeRegEx": "Bickel et al\\.,? \\Q2009\\E", "shortCiteRegEx": "Bickel et al\\.", "year": 2009}, {"title": "A warm welcome matters! the link between social feedback and weight loss in/r/loseit", "author": ["Weber Cunha", "T.O. Pappa 2017] Cunha", "I. Weber", "G.L. Pappa"], "venue": "arXiv preprint arXiv:1701.05225", "citeRegEx": "Cunha et al\\.,? \\Q2017\\E", "shortCiteRegEx": "Cunha et al\\.", "year": 2017}, {"title": "Discovering shifts to suicidal ideation from mental health content in social media", "author": ["De Choudhury"], "venue": "In Proceedings of the 2016 CHI Conference on Human Factors in Computing Systems,", "citeRegEx": "Choudhury,? \\Q2016\\E", "shortCiteRegEx": "Choudhury", "year": 2016}, {"title": "Predicting postpartum changes in emotion and behavior via social media", "author": ["Counts De Choudhury", "M. Horvitz 2013] De Choudhury", "S. Counts", "E. Horvitz"], "venue": "In Proceedings of the SIGCHI Conference on Human Factors in Computing Systems,", "citeRegEx": "Choudhury et al\\.,? \\Q2013\\E", "shortCiteRegEx": "Choudhury et al\\.", "year": 2013}, {"title": "How high can a correlation", "author": ["Coats Francis", "D.P. Gibson 1999] Francis", "A.J. Coats", "D.G. Gibson"], "venue": null, "citeRegEx": "Francis et al\\.,? \\Q1999\\E", "shortCiteRegEx": "Francis et al\\.", "year": 1999}, {"title": "Prediction with model-based neutrality", "author": ["Sakuma Fukuchi", "K. Kamishima 2013] Fukuchi", "J. Sakuma", "T. Kamishima"], "venue": "In Machine Learning and Knowledge Discovery in Databases", "citeRegEx": "Fukuchi et al\\.,? \\Q2013\\E", "shortCiteRegEx": "Fukuchi et al\\.", "year": 2013}, {"title": "A methodology for direct and indirect discrimination prevention in data mining. Knowledge and Data Engineering, IEEE Transactions on 25(7):1445\u20131459", "author": ["Hajian", "S. Domingo-Ferrer 2013] Hajian", "J. Domingo-Ferrer"], "venue": null, "citeRegEx": "Hajian et al\\.,? \\Q2013\\E", "shortCiteRegEx": "Hajian et al\\.", "year": 2013}, {"title": "Statistical classification methods in consumer credit scoring: a review. Journal of the Royal Statistical Society: Series A (Statistics in Society", "author": ["Hand", "D.J. Henley 1997] Hand", "W.E. Henley"], "venue": null, "citeRegEx": "Hand et al\\.,? \\Q1997\\E", "shortCiteRegEx": "Hand et al\\.", "year": 1997}, {"title": "Designing social inquiry: Scientific inference in qualitative research", "author": ["Keohane King", "G. Verba 1994] King", "R.O. Keohane", "S. Verba"], "venue": null, "citeRegEx": "King et al\\.,? \\Q1994\\E", "shortCiteRegEx": "King et al\\.", "year": 1994}, {"title": "Studying anonymous health issues and substance use on college campuses with yik yak", "author": ["Koratana"], "venue": "In Workshops at the Thirtieth AAAI Conference on Artificial Intelligence", "citeRegEx": "Koratana,? \\Q2016\\E", "shortCiteRegEx": "Koratana", "year": 2016}, {"title": "Measurement bias and effect restoration in causal inference", "author": ["Kuroki", "M. Pearl 2014] Kuroki", "J. Pearl"], "venue": null, "citeRegEx": "Kuroki et al\\.,? \\Q2014\\E", "shortCiteRegEx": "Kuroki et al\\.", "year": 2014}, {"title": "Robust text classification in the presence of confounding bias", "author": ["Landeiro", "V. Culotta 2016] Landeiro", "A. Culotta"], "venue": "In Thirtieth AAAI Conference on Artificial Intelligence", "citeRegEx": "Landeiro et al\\.,? \\Q2016\\E", "shortCiteRegEx": "Landeiro et al\\.", "year": 2016}, {"title": "Life in the network: the coming age of computational social science", "author": ["Lazer"], "venue": null, "citeRegEx": "Lazer,? \\Q2009\\E", "shortCiteRegEx": "Lazer", "year": 2009}, {"title": "Can an algorithm hire better than a human? The New York Times 25", "author": ["C.C. Miller"], "venue": null, "citeRegEx": "Miller,? \\Q2015\\E", "shortCiteRegEx": "Miller", "year": 2015}, {"title": "Risk assessment in criminal sentencing", "author": ["Monahan", "J. Skeem 2016] Monahan", "J.L. Skeem"], "venue": "Annual Review of Clinical Psychology", "citeRegEx": "Monahan et al\\.,? \\Q2016\\E", "shortCiteRegEx": "Monahan et al\\.", "year": 2016}, {"title": "You are what you tweet: Analyzing twitter for public health", "author": ["Paul", "M.J. Dredze 2011] Paul", "M. Dredze"], "venue": null, "citeRegEx": "Paul et al\\.,? \\Q2011\\E", "shortCiteRegEx": "Paul et al\\.", "year": 2011}, {"title": "Discrimination-aware data mining", "author": ["Ruggieri Pedreshi", "D. Turini 2008] Pedreshi", "S. Ruggieri", "F. Turini"], "venue": "In Proceedings of the 14th ACM SIGKDD international conference on Knowledge discovery and data mining,", "citeRegEx": "Pedreshi et al\\.,? \\Q2008\\E", "shortCiteRegEx": "Pedreshi et al\\.", "year": 2008}, {"title": "A machine learning approach to twitter user classification", "author": ["Pennacchiotti", "M. Popescu 2011] Pennacchiotti", "Popescu", "A.-M"], "venue": null, "citeRegEx": "Pennacchiotti et al\\.,? \\Q2011\\E", "shortCiteRegEx": "Pennacchiotti et al\\.", "year": 2011}, {"title": "Dataset shift in machine learning", "author": ["M. Sugiyama", "A. Schwaighofer", "N.D. Lawrence"], "venue": "The MIT Press.", "citeRegEx": "Sugiyama et al\\.,? 2009", "shortCiteRegEx": "Sugiyama et al\\.", "year": 2009}, {"title": "Covariate shift adaptation by importance weighted cross validation", "author": ["Krauledat Sugiyama", "M. M\u00fcller 2007] Sugiyama", "M. Krauledat", "K.-R. M\u00fcller"], "venue": "The Journal of Machine Learning Research", "citeRegEx": "Sugiyama et al\\.,? \\Q2007\\E", "shortCiteRegEx": "Sugiyama et al\\.", "year": 2007}, {"title": "Learning in the presence of concept drift and hidden contexts. Machine learning 23(1):69\u2013101", "author": ["Widmer", "G. Kubat 1996] Widmer", "M. Kubat"], "venue": null, "citeRegEx": "Widmer et al\\.,? \\Q1996\\E", "shortCiteRegEx": "Widmer et al\\.", "year": 1996}, {"title": "Learning fair representations", "author": ["Zemel"], "venue": "In Proceedings of the 30th International Conference on Machine Learning", "citeRegEx": "Zemel,? \\Q2013\\E", "shortCiteRegEx": "Zemel", "year": 2013}], "referenceMentions": [{"referenceID": 14, "context": "Statistical classifiers have become widely used to inform important decisions such as whether to approve a loan (Hand and Henley 1997), hire a job candidate (Miller 2015), or release a criminal defendant on bond (Monahan and Skeem 2016).", "startOffset": 157, "endOffset": 170}, {"referenceID": 22, "context": "Recent work has studied \u201cfairness\u201d in machine learning (Zemel et al. 2013; Hajian and Domingo-Ferrer 2013) as well as attempted to remove features that introduce bias (Pedreshi, Ruggieri, and Turini 2008; Fukuchi, Sakuma, and Kamishima 2013). Kuroki and Pearl (2014) propose an extension of back-door adjustment to deal with measurement error in the confounder, but it does not scale well when x is high dimensional, as in our setting of text classification.", "startOffset": 56, "endOffset": 267}], "year": 2017, "abstractText": "As statistical classifiers become integrated into realworld applications, it is important to consider not only their accuracy but also their robustness to changes in the data distribution. In this paper, we consider the case where there is an unobserved confounding variable z that influences both the features x and the class variable y. When the influence of z changes from training to testing data, we find that the classifier accuracy can degrade rapidly. In our approach, we assume that we can predict the value of z at training time with some error. The prediction for z is then fed to Pearl\u2019s back-door adjustment to build our model. Because of the attenuation bias caused by measurement error in z, standard approaches to controlling for z are ineffective. In response, we propose a method to properly control for the influence of z by first estimating its relationship with the class variable y, then updating predictions for z to match that estimated relationship. By adjusting the influence of z, we show that we can build a model that exceeds competing baselines on accuracy as well as on robustness over a range of confounding relationships.", "creator": "LaTeX with hyperref package"}}}