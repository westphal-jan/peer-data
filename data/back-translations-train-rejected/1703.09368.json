{"id": "1703.09368", "review": {"conference": "arxiv", "VERSION": "v1", "DATE_OF_SUBMISSION": "28-Mar-2017", "title": "Learning and inference in knowledge-based probabilistic model for medical diagnosis", "abstract": "Based on a weighted knowledge graph to represent first-order knowledge and combining it with a probabilistic model, we propose a methodology for the creation of a medical knowledge network (MKN) in medical diagnosis. When a set of symptoms is activated for a specific patient, we can generate a ground medical knowledge network composed of symptom nodes and potential disease nodes. By Incorporating a Boltzmann machine into the potential function of a Markov network, we investigated the joint probability distribution of the MKN. In order to deal with numerical symptoms, a multivariate inference model is presented that uses conditional probability. In addition, the weights for the knowledge graph were efficiently learned from manually annotated Chinese Electronic Medical Records (CEMRs). In our experiments, we found numerically that the optimum choice of the quality of disease node and the expression of symptom variable can improve the effectiveness of medical diagnosis. Our experimental results comparing a Markov logic network and the logistic regression algorithm on an actual CEMR database indicate that our method holds promise and that MKN can facilitate studies of intelligent diagnosis.", "histories": [["v1", "Tue, 28 Mar 2017 01:51:34 GMT  (1212kb)", "http://arxiv.org/abs/1703.09368v1", "32 pages, 8 figures"]], "COMMENTS": "32 pages, 8 figures", "reviews": [], "SUBJECTS": "cs.AI", "authors": ["jingchi jiang", "chao zhao", "yi guan", "qiubin yu"], "accepted": false, "id": "1703.09368"}, "pdf": {"name": "1703.09368.pdf", "metadata": {"source": "CRF", "title": "Learning and inference in knowledge-based probabilistic model for medical diagnosis", "authors": ["Jingchi Jiang", "Chao Zhao", "Yi Guan", "Qiubin Yu"], "emails": ["guanyi@hit.edu.cn", "jiangjingchi0118@163.com", "hitsa.zc@gmail.com", "yuqiubin6695@163.com", "guanyi@hit.edu.cn", "jiangjingchi0118@163.com", "hitsa.zc@gmail.com", "yuqiubin6695@163.com"], "sections": [{"heading": null, "text": "Jingchi Jianga, Chao Zhaoa, Yi Guana, *, Qiubin Yuba School of Computer Science and Technology, Harbin Institute of Technology, Harbin"}, {"heading": "150001, China", "text": "b Medical Record Room, The 2nd Affiliated Hospital of Harbin Medical University, Harbin 150086, China * Correspondence address: Yi Guan, School of Computer Science and Technology, Harbin Institute of Technology, Comprehensive Building 803, Harbin Institute of Technology, Harbin 150001, China. Tel.: + 86-186-8674-8550.Email addresses: guanyi @ hit.edu.cn (Y. Guan), jiangjingchi0118 @ 163.com (J.C. Jiang), hitsa.zc @ gmail.com (C. Zhao), yuqiubin6695 @ 163.com (Q.B. Yu).Learning and inference in knowledge-based probabilistic model for medical diagnosisJingchi Jingchi Jiangchi, Chao Zhaoa, Yi Guana, * Qiubin Yuba School of Computer Science and Technology, Harbin Institute of Technology, Harbin 150001, China Medical Room, 80000.com."}, {"heading": "1. Introduction", "text": "This year it has come to the point that it has never come as far as this year."}, {"heading": "2. Knowledge extraction and knowledge representation", "text": "It is not the first time that the EU Commission has taken such a step."}, {"heading": "2.1. Chinese Electronic Medical Records", "text": "Electronic Medical Records (EMRs) [22] are a systematic collection of patient information in digital format. As essential carriers of recorded medical activities, EMRs contain significant medical knowledge [23-24]. Therefore, for this study, we have chosen China Electronic Medical Records (CEMRs) in free-form text as the primary source of medical knowledge. These CEMRs, which have been deprived of Protected Health Information (PHI) [25], come from the Second Associated Hospital of Harbin Medical University, and we have obtained the rights of use for research. These CEMRs comprise essentially five types of free-form text: discharge summary, progress note, patient complaints, patient disease history and communication protocol. In view of the abundance of medical knowledge and the difficulty of Chinese text processing, we have chosen the discharge summary and the progress note as the source of knowledge extraction."}, {"heading": "2.2. Corpus", "text": "Recognition of designated entities [26] and entity relationships [27] is an important aspect in gaining medical knowledge from CEMRs. Referring to the Guidelines for Medical Concept annotations [29] and the Guidelines for Claims provided by Informatics for Integrating Biology and the Bedside (i2b2) [28], we have used the Guidelines for CEMRs [29] and described the designated entity and entity relationship of 992 CEMRs manually as a source of medical knowledge. In this diagnostic task, only \"symptom-relevant\" entities, \"disease-relevant\" entities and the \"indication relationship\" were retained in this study. The indication relationship applies when the associated \"symptom\" indicates that the patient suffers from the associated \"disease.\" In addition, there are three modifiers for \"symptom-relevant\" entities, namely absent and absent."}, {"heading": "2.3. Knowledge graph", "text": "The medical knowledge gained from the 992 CEMRs can be understood as a set of problems of the first order. Logical rules between \"symptom\" units, \"disease\" units and \"indicator-ion\" relationships. The reliability of medical knowledge corresponds to the likelihood of the \"indication relationship.\" By collecting all the commented \"indication relationships,\" a medical knowledge base can be constructed. However, the medical knowledge base lacks the connectivity of real knowledge. To grasp this medical knowledge morally intuitively, we are building a more comprehensive knowledge chart consisting of \"disease\" and \"symptom\" units as nodes and the \"indication\" relationships as edges. As the reliability of medical knowledge increases, the corresponding weight of the edge gradually grows. The topology of the knowledge chart is shown in Fig. 3.The nodes in the knowledge chart are divided into two different colors according to the type of unit that represent \"the red nodes,\" the green nodes, \"the disease,\" and \"the Ensensing.\""}, {"heading": "3.2. Markov logic networks in medical diagnosis", "text": "After defining a Markov network, the common distribution of a Markov logic network is given by () {1 1 () exp (()) () i i i ii ii iP X x n x Z (2), where () in x is the number of true foundations of the ith rule iR in constants x; i is the weight for iR; {} ix is the state of the atoms appearing in iR; and {} () i ix e. Since MLN focuses only on binary features, the constants are discrete values and {0.1} x. To apply MLN in medical diagnosis, the atom is considered the medical entity. While the medical unit is an explicit condition for a patient, the corresponding atom of this probability is a specific problem in MLN."}, {"heading": "4. Methodology", "text": "Although MLN can be used for medical diagnosis, it is only suitable for binary rules. The reason for this is that the values of (,) in x y are uncountable if x is a continuous variable. Therefore, MLN is inefficient for multivariate rules. In the health sector, the indices of symptoms are often expressed in numerical form. Therefore, the existing MLN methodology has some obvious shortcomings for numerical diagnosis. This section addresses this problem. By changing the expression of the potential function, we can integrate the continuous variable x into the common distribution of MN, thus deriving the conditional probability model for conclusions using the Boltzmann machine and proposing the learning model for calculating the weight for each rule."}, {"heading": "4.1. Medical knowledge network (MKN)", "text": "In fact, it is a reactionary project, it is a reactionary reactionary project, it is a reactionary reactionary project, it is a reactionary reactionary reactionary project."}, {"heading": "4.2. Inference", "text": "In fact, the number of people who are able to detect the disease is very high. (...) The number of people who are able to detect the disease is immense. (...) The number of people who are able to detect the disease is immense. (...) The number of people who are able to detect the disease is immense. (...) The number of people who are able to detect the disease is immense. (...) The number of people who are able to detect the disease is immense. (...) The number of people who are able to detect the disease is immense. (...) The number of people who are able to detect the disease is immense. (...)"}, {"heading": "4.3. Learning", "text": "A learning model is proposed for calculating the weight for each piece of medical knowledge. (Weiyr i) \"We have a real problem.\" (Weiyr i) \"We have a real problem.\" (Weiyr i) \"We have a real problem.\" (Weiyr i) \"We have a real problem.\" (Weiyr i) \"We have a real problem.\" (Weiyr i) \"We have a real problem.\" (Weiyr i) \"We have a real problem.\" (Weiyr i) \"We have a real problem.\" (Weiyr i) \"We have a real problem.\" (Weiyr i) \"We have a real problem.\" (L) \"We have a real problem.\" (L) \"We have a real problem.\" () \"We have a real problem.\""}, {"heading": "5. Experiments and discussion", "text": "This year it is as far as never before in the history of the Federal Republic of Germany."}, {"heading": "5.2. Weight learning", "text": "It is only a matter of time before it happens, until it happens."}, {"heading": "6. Conclusion and future work", "text": "In this paper, we have presented a knowledge-based probability model for medical diagnosis. Building on the theory of the Markov networks and the Markov logic networks, we developed a novel probability model called the medical knowledge network. To address the problem of numerical diagnosis, the model applies the energy function of Boltzmann machines as a potential function. Subsequently, the mathematical derivation process of learning and conclusion was rigorously derived. In contrast to a Markov logic network, the medicalknowledge network adopts ternary rules or even continuous numerical rules that are not limited to binary rules. In experiments, PageRank and our improved sigmoid function were applied as the quality of disease nodes and the expression of symptom variables."}, {"heading": "Acknowledgements", "text": "The Chinese electronic medical records used in this essay were provided by the SecondAffiliated Hospital of Harbin Medical University. We would like to thank the reviewers for their detailed reviews and insightful comments that have helped improve the quality of this essay."}], "references": [{"title": "Decision tree classifiers for automated medical diagnosis", "author": ["A.T. Azar", "S.M. El-Metwally"], "venue": "Neural Computing and Applications. 23(7-8) ", "citeRegEx": "4", "shortCiteRegEx": null, "year": 2013}, {"title": "Ensemble decision tree classifier for breast cancer data", "author": ["D. Lavanya", "K.U. Rani"], "venue": "International Journal of Information Technology Convergence and Services. 2(1) ", "citeRegEx": "5", "shortCiteRegEx": null, "year": 2012}, {"title": "Support vector machines with genetic fuzzy feature transformation for biomedical data classification, Inf Sci", "author": ["Y.C.T.Bo. Jin"], "venue": null, "citeRegEx": "6", "shortCiteRegEx": "6", "year": 2007}, {"title": "A decision support system to improve medical diagnosis using a combination of k-medoids clustering based attribute weighting and SVM", "author": ["M. Peker"], "venue": "Journal of medical systems. 40(5) ", "citeRegEx": "7", "shortCiteRegEx": null, "year": 2016}, {"title": "P", "author": ["D. Vassis", "B.A. Kampouraki"], "venue": "Belsis, et al., Using neural networks and SVMs for automatic medical diagnosis: a comprehensive review, INTERNATIONAL CONFERENCE ON INTEGRATED INFORMATION (IC-ININFO). 1644(1) ", "citeRegEx": "8", "shortCiteRegEx": null, "year": 2015}, {"title": "A method for root cause analysis with a Bayesian belief network and fuzzy cognitive map, Expert Systems with Applications", "author": ["Y.Y. Wee", "W.P. Cheah", "S.C. Tan"], "venue": null, "citeRegEx": "9", "shortCiteRegEx": "9", "year": 2015}, {"title": "W", "author": ["A.C. Constantinou", "N. Fenton"], "venue": "Marsh, et al., From complex questionnaire and interviewing data to intelligent Bayesian network models for medical decision support , Artificial intelligence in medicine. 67(1) ", "citeRegEx": "10", "shortCiteRegEx": null, "year": 2016}, {"title": "Feature selection and classification model construction on type 2 diabetic patients\u2019 data", "author": ["Y. Huang", "P. McCullagh", "N. Black", "R. Harper"], "venue": "Artif. Intell. Med. 41(3) ", "citeRegEx": "11", "shortCiteRegEx": null, "year": 2007}, {"title": "J", "author": ["X. Liu", "R. Lu"], "venue": "Ma, et al., Privacy-preserving patient-centric clinical decision support system on naive Bayesian classification, IEEE journal of biomedical and health informatics. 20(2) ", "citeRegEx": "12", "shortCiteRegEx": null, "year": 2016}, {"title": "Breast cancer diagnosis using genetically optimized neural network model", "author": ["A. Bhardwaj", "A. Tiwari"], "venue": "Expert Systems with Applications. 42(1) ", "citeRegEx": "13", "shortCiteRegEx": null, "year": 2015}, {"title": "A", "author": ["F. Amato"], "venue": "L\u00f3pez, E.M. Pe\u00f1a-M\u00e9ndez, et al., Artificial neural networks in medical diagnosis, Journal of applied biomedicine. 11(2) ", "citeRegEx": "14", "shortCiteRegEx": null, "year": 2013}, {"title": "Intelligent heart disease prediction system using data mining techniques", "author": ["S. Palaniappan", "R. Awang"], "venue": "IEEE/ACS International Conference on Computer Systems and Applications . ", "citeRegEx": "15", "shortCiteRegEx": null, "year": 2008}, {"title": "A", "author": ["J.A. Sanz", "M. Galar"], "venue": "Jurio, et al., Medical diagnosis of cardiovascular diseases using an interval-valued fuzzy rule-based classification system, Applied Soft Computing. 20(1) ", "citeRegEx": "16", "shortCiteRegEx": null, "year": 2014}, {"title": "Application of Fuzzy Logic for Decision-Making in Medical Expert Systems", "author": ["N.A. Korenevskiy"], "venue": "Biomedical Engineering. 49(1) ", "citeRegEx": "17", "shortCiteRegEx": null, "year": 2015}, {"title": "Evolutionary computation in medicine: an overview", "author": ["C.A. Pena-Reyes", "M. Sipper"], "venue": "Artificial Intelligence in Medicine. 19(1) ", "citeRegEx": "18", "shortCiteRegEx": null, "year": 2000}, {"title": "Medical Diagnosis using Soft Computing Techniques: A Review", "author": ["A. Jain"], "venue": "Internationa l Journal of Artificial Intelligence and Knowledge Discovery. 5(3) ", "citeRegEx": "19", "shortCiteRegEx": null, "year": 2015}, {"title": "J", "author": ["W.P. Goh", "X. Tao"], "venue": "Zhang, et al., Decision support systems for adoption in dental clinics : a survey, Knowledge-Based Systems. 104(1) ", "citeRegEx": "20", "shortCiteRegEx": null, "year": 2016}, {"title": "Markov logic networks", "author": ["M. Richardson", "P. Domingos"], "venue": "Machine learning. 62(1-2) ", "citeRegEx": "21", "shortCiteRegEx": null, "year": 2006}, {"title": "Archetype sub-ontology: Improving constraint-based clinical knowledge model in electronic health records", "author": ["A.K. Sari", "W. Rahayu", "M. Bhatt"], "venue": "Knowledge-Based Systems. 26(1) ", "citeRegEx": "23", "shortCiteRegEx": null, "year": 2012}, {"title": "A hybrid knowledge-based approach to supporting the medical prescription for general practitioners: Real case in a Hong Kong Learning and inference in knowledge-based probabilistic model for medical diagnosis", "author": ["S.L. Ting", "S.K. Kwok", "A.H.C. Tsang"], "venue": null, "citeRegEx": "24", "shortCiteRegEx": "24", "year": 2011}, {"title": "Evaluating the state-of-the-art in automatic deidentification", "author": ["\u00d6. Uzuner", "Y. Luo", "P. Szolovits"], "venue": "Journal of the American Medical Informatics Association. 14(5) ", "citeRegEx": "25", "shortCiteRegEx": null, "year": 2007}, {"title": "Exploiting Wikipedia as external knowledge for named entity recognition", "author": ["J. Kazama", "K. Torisawa"], "venue": "Proceedings of the 2007 Joint Conference on Empirical Methods in Natural Language Processing and Computational Natural Language Learning (EMNLP-CoNLL). ", "citeRegEx": "26", "shortCiteRegEx": null, "year": 2007}, {"title": "D", "author": ["M. Song", "W.C. Kim"], "venue": "Lee, et al., PKDE4J: Entity and relation extraction for public knowledge discovery, Journal of biomedical informatics. 57(1) ", "citeRegEx": "27", "shortCiteRegEx": null, "year": 2015}, {"title": "Probabilistic reasoning in intelligent systems: networks of plausible inference", "author": ["J. Pearl"], "venue": "Morgan Kaufmann ", "citeRegEx": "30", "shortCiteRegEx": null, "year": 2014}, {"title": "Beitrag zur theorie des ferromagnetismus", "author": ["E. Ising"], "venue": "Zeitschrift f\u00fcr Physik A Hadrons and Nuclei. 31(1) ", "citeRegEx": "31", "shortCiteRegEx": null, "year": 1925}, {"title": "Optimal perceptual inference", "author": ["G.E. Hinton", "T.J. Sejnowski"], "venue": "Proceedings of the IEEE conference on Computer Vision and Pattern Recognition. ", "citeRegEx": "32", "shortCiteRegEx": null, "year": 1983}, {"title": "A simple and efficient sampling method for estimating AP and NDCG", "author": ["E. Yilmaz", "E. Kanoulas", "J.A. Aslam"], "venue": "Proceedings of the 31st annual international ACM SIGIR conference on Research and development in information retrieval ", "citeRegEx": "33", "shortCiteRegEx": null, "year": 2008}], "referenceMentions": [{"referenceID": 0, "context": "A decision tree [4-5] is a classic algorithm in the medical classification domain, one that uses the information entropy method; however, it is sensitive to inconsistencies in the data.", "startOffset": 16, "endOffset": 21}, {"referenceID": 1, "context": "A decision tree [4-5] is a classic algorithm in the medical classification domain, one that uses the information entropy method; however, it is sensitive to inconsistencies in the data.", "startOffset": 16, "endOffset": 21}, {"referenceID": 2, "context": "The support vector machine [6-8] has a solid theoretical basis for the classification task; because of its efficient selection of features, it has higher predictive accuracy than decision trees.", "startOffset": 27, "endOffset": 32}, {"referenceID": 3, "context": "The support vector machine [6-8] has a solid theoretical basis for the classification task; because of its efficient selection of features, it has higher predictive accuracy than decision trees.", "startOffset": 27, "endOffset": 32}, {"referenceID": 4, "context": "The support vector machine [6-8] has a solid theoretical basis for the classification task; because of its efficient selection of features, it has higher predictive accuracy than decision trees.", "startOffset": 27, "endOffset": 32}, {"referenceID": 5, "context": "Bayesian networks [9-10], which are based on Bayesian theory [11-12], describe the dependence relationship between the symptom variables and the disease variables; these can be used in medical diagnosis.", "startOffset": 18, "endOffset": 24}, {"referenceID": 6, "context": "Bayesian networks [9-10], which are based on Bayesian theory [11-12], describe the dependence relationship between the symptom variables and the disease variables; these can be used in medical diagnosis.", "startOffset": 18, "endOffset": 24}, {"referenceID": 7, "context": "Bayesian networks [9-10], which are based on Bayesian theory [11-12], describe the dependence relationship between the symptom variables and the disease variables; these can be used in medical diagnosis.", "startOffset": 61, "endOffset": 68}, {"referenceID": 8, "context": "Bayesian networks [9-10], which are based on Bayesian theory [11-12], describe the dependence relationship between the symptom variables and the disease variables; these can be used in medical diagnosis.", "startOffset": 61, "endOffset": 68}, {"referenceID": 9, "context": "4 networks (NN) [13-15], fuzzy logic (FL) [16-17], and genetic algorithms (GAs) [18-20].", "startOffset": 16, "endOffset": 23}, {"referenceID": 10, "context": "4 networks (NN) [13-15], fuzzy logic (FL) [16-17], and genetic algorithms (GAs) [18-20].", "startOffset": 16, "endOffset": 23}, {"referenceID": 11, "context": "4 networks (NN) [13-15], fuzzy logic (FL) [16-17], and genetic algorithms (GAs) [18-20].", "startOffset": 16, "endOffset": 23}, {"referenceID": 12, "context": "4 networks (NN) [13-15], fuzzy logic (FL) [16-17], and genetic algorithms (GAs) [18-20].", "startOffset": 42, "endOffset": 49}, {"referenceID": 13, "context": "4 networks (NN) [13-15], fuzzy logic (FL) [16-17], and genetic algorithms (GAs) [18-20].", "startOffset": 42, "endOffset": 49}, {"referenceID": 14, "context": "4 networks (NN) [13-15], fuzzy logic (FL) [16-17], and genetic algorithms (GAs) [18-20].", "startOffset": 80, "endOffset": 87}, {"referenceID": 15, "context": "4 networks (NN) [13-15], fuzzy logic (FL) [16-17], and genetic algorithms (GAs) [18-20].", "startOffset": 80, "endOffset": 87}, {"referenceID": 16, "context": "4 networks (NN) [13-15], fuzzy logic (FL) [16-17], and genetic algorithms (GAs) [18-20].", "startOffset": 80, "endOffset": 87}, {"referenceID": 17, "context": "Although Markov logic network [21] is a probabilist ic inferential model based on the first-order logic rules, it only applies to binary features which is against the numerical characteristic of symptom.", "startOffset": 30, "endOffset": 34}, {"referenceID": 18, "context": "As the crucial carrier of recorded medical activity, EMRs contain significant medical knowledge [23-24].", "startOffset": 96, "endOffset": 103}, {"referenceID": 19, "context": "As the crucial carrier of recorded medical activity, EMRs contain significant medical knowledge [23-24].", "startOffset": 96, "endOffset": 103}, {"referenceID": 20, "context": "These CEMRs, which have had protected health information (PHI) [25] removed, come from the Second Affiliated Hospital of Harbin Medical University, and we have obtained the usage rights for research.", "startOffset": 63, "endOffset": 67}, {"referenceID": 21, "context": "The recognition of named entities [26] and entity relationships [27] is an important aspect", "startOffset": 34, "endOffset": 38}, {"referenceID": 22, "context": "The recognition of named entities [26] and entity relationships [27] is an important aspect", "startOffset": 64, "endOffset": 68}, {"referenceID": 23, "context": "From a probability-and-statistics point of view, MLN is based on the methodology of Markov networks (MNs) [30].", "startOffset": 106, "endOffset": 110}, {"referenceID": 24, "context": "From statistical physics, we can express the potential function as an energy function [31], rewriting ( ) D \uf066 as ( ) exp( ( )) D D \uf066 \uf065 \uf03d \uf02d (4) where ( ) D \uf065 is often called an energy function.", "startOffset": 86, "endOffset": 90}, {"referenceID": 25, "context": "unrestricted Boltzmann machine [32], which is the one of the earliest types of Markov network.", "startOffset": 31, "endOffset": 35}, {"referenceID": 26, "context": "used discounted cumulative gain (DCG) [33] as the indicator to measure the accuracy of the diagnosis result.", "startOffset": 38, "endOffset": 42}], "year": 2017, "abstractText": null, "creator": "Microsoft\u00ae Word 2013"}}}