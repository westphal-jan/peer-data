{"id": "1705.05765", "review": {"conference": "arxiv", "VERSION": "v1", "DATE_OF_SUBMISSION": "16-May-2017", "title": "Online Article Ranking as a Constrained, Dynamic, Multi-Objective Optimization Problem", "abstract": "The content ranking problem in a social news website, is typically a function that maximizes a scalar metric of interest like dwell-time. However, like in most real-world applications we are interested in more than one metric---for instance simultaneously maximizing click-through rate, monetization metrics, dwell-time---and also satisfy the traffic requirements promised to different publishers. All this needs to be done on online data and under the settings where the objective function and the constraints can dynamically change; this could happen if for instance new publishers are added, some contracts are adjusted, or if some contracts are over.", "histories": [["v1", "Tue, 16 May 2017 15:27:57 GMT  (203kb,D)", "http://arxiv.org/abs/1705.05765v1", "7 pages"]], "COMMENTS": "7 pages", "reviews": [], "SUBJECTS": "cs.AI cs.IR", "authors": ["jeya balaji balasubramanian", "akshay soni", "yashar mehdad", "nikolay laptev"], "accepted": false, "id": "1705.05765"}, "pdf": {"name": "1705.05765.pdf", "metadata": {"source": "CRF", "title": "Online Article Ranking as a Constrained, Dynamic, Multi-Objective Optimization Problem", "authors": ["Jeya Balaji Balasubramanian", "Akshay Soni", "Yashar Mehdad", "Nikolay Laptev"], "emails": ["jeya@pitt.edu", "akshaysoni@yahoo-inc.com", "yashar.mehdad@airbnb.com", "nlaptev@ucla.edu"], "sections": [{"heading": null, "text": "Online Article Ranking as a Constrained, Dynamic, Multi-Objective Optimization ProblemJeya Balaji Balasubramanian Intelligent Systems Program, University of Pittsburgh, Pittsburgh jeya @ pitt.eduAkshay Soni Yahoo! Research, Sunnyvale akshaysoni @ yahoo-inc.com Yashar Mehdad Airbnb, San Franciscoyashar.mehdad @ airbnb.comNikolay Laptev University of California, Los Angelesnlaptev @ ucla.edu AbstractThe problem of content ranking on a social news website is typically a function that maximizes a scalable measure of interest, but, as with most real-world applications, we are interested in more than one measurement - for example, maximizing the click rate, monetizing metrics, time spent on a social news site - and also satisfying the traffic needs promised to various publishers. All of this needs to be adjusted based on online data and functionality of the problem, the use of the contract, the dynamics of the problem, and the objective."}, {"heading": "1 Introduction", "text": "The ranking of a list of content based on a query (such as search results or news articles in which the user query is) has been thoroughly investigated, for example, article ranking on a news website, which typically aims to maximize a single scalar target such as dwell time or click rate (CTR). These problems are known as single-target optimization (SOO), but most real-world content rankings platforms attempt to optimize multiple targets at the same time, such as dwell time, CTR, daily active users (DAU) and monetization metrics. Note that some of these goals can be contradictory in the sense that if one of them increases, others are forced to decrease; for example, if you try to increase the dwell time, then CTR and monetization metrics fall simultaneously."}, {"heading": "1.1 Problem description", "text": "An objective variable, y, is any variable of interest that we want to optimize. An objective space, Y, is a vector of all objective variables that we want to optimize at the same time. We represent the objective space as a m-dimensional vector, ~ y = (y1, y2,., ym) with different targets. This is usually a variable that we can easily measure and control. The design space, X, is a vector of all design variables that can affect our goals. We represent the design space as a n-dimensional vector, ~ x = (x1, x2,., xn), with n design variables in the ranking."}, {"heading": "2 Approach", "text": "First, we discuss the current ranking approach for a popular news platform, then discuss its shortcomings and challenges, and then propose our MOO-based solution to this problem."}, {"heading": "2.1 Article Ranking", "text": "In this section, we describe a simple article score as a linear additive function of user activity on each article (design variables). Higher user activity tends to result in better user participation; for each news article, we calculate the article Score asScorei = \u03b1 \u00b7 Freshness + \u03b2 \u00b7 Views + \u03b3 \u00b7 Likes + \u03c6 \u00b7 Comments (3), in which the freshness indicates how current the article is; newer articles tend to be more interesting on a social news website, number of V iews, number of Likes and number of comments are user activity signals on the news article. \u03b1, \u03b2, \u03b3, and \u03c6 are the corresponding parameters of this scoring model. These parameters (or weights) are currently estimated using an optimization method called Grid Search. Once the values of the parameters are assigned, we evaluate the task, we evaluate an article score to obtain a ranking of article parameters."}, {"heading": "2.2 The MOO framework", "text": "We first define the concept of non-dominance, which is closely related to the concept of Pareto optimization solutions. (Definition 2: Non-Dominated and Dominated points: A vector of objective functions, F (~ x) GA, is non-dominated iff there is no other vector, F (~ x), C, as, F (~ x) \u2264 F (~ x). The subtle difference between the concept of Pareto-optimality (Definition 1) and non-dominance (Definition 2) is that Pareto-optimality is defined in relation to the design space. (Marler and Arora 2004) The subtle difference between the concept of optimality (Definition 1) and non-dominance (Definition 2) is that Pareto-optimality is defined in relation to the design space, while non-dominance is defined in relation to the objective space. For all practical purposes, this distinction is not important for us to propose quick and non-algorithmic solutions."}, {"heading": "3 Experiments", "text": "It is not the first time that the EU Commission has taken such a step."}, {"heading": "3.1 Methodology", "text": "InAlgorithm 2: DO-NSGA-II Input: Design constraints (S), Objective functions (F), Population size (K), Number of Generations (E), SBX parameters (Pc, \u03b7c), Mutation parameters (Pm, \u03b7m), Hypermutation period, (epoch) Output: Approximated Pareto set, Q 1 Randomly initialize K solutions, G0. Sort the solutions, Non-Dominated-Sort (G0). 2 Kinder \u2190 Crossover (throuc, G0) with a probabilityPc and Mutation (\u03b7m, G0) with a probability Pm. 3 for t = 1 to E do 4 potical change from G5 \u2212 Pch."}, {"heading": "6 Gt \u2190 Gt\u22121 \u222a children", "text": "7 Sort the solutions, Non-Dominated-Sort (Gt) 8 Gt \u2190 Choose Top-K solutions from Gt with the best Pareto-Rank. In case of a tie, choose a solution with a better crowding distance. 9 Children \u2190 Crossover (\u03b7c, G0) with a probability Pc and mutation (\u03b7m, G0) with a probability Pm.10 Q \u2190 Pareto-set in Non-Dominated-Sort (GE) 11 provide Qthe first experiment. In the first experiment, we examine the aspect of multi-objective optimization of our framework. In the second experiment, we examine the limitations in dealing with the capabilities of DO-NSGAII and Grid Search. In the third and final experiment, we examine the dynamic handling capabilities of our framework. Grid Search cannot deal with dynamic behavior without reevaluating it from scratch. For our experiments, we set the number of generations in DO-NSGA-II to 500 and 500 population mutations. The SX-Parameters Bc = Pc = 0.9 and are further implemented in Hamm."}, {"heading": "3.2 Evaluation", "text": "In the introductory section, we mentioned that the two important properties of a good approximate Pareto set are convergence and diversity. Hypervolume (Hv.) is the hypervolume (scalar value) occupied by a reference point, and the approximate Pareto set, which is treated as a minimization problem. This metric is generally accepted because a large value indicates both better convergence and better diversity. In a solution with k solutions and m targets, we calculate the hypervolume using an O (km \u2212 2 log k) time and linear spatial complexity implementation, as described in (Fonseca, Paquete and Lo'pez-Iba'nez 2006). We perform a min-max scaling of the lens space before calculating the hypervolume to avoid distortions in the metric from different scales of the lens space dimensions, which may not be 1.0 due to the lowest minimization (the worst minimization can be 1.0)."}, {"heading": "3.3 Datasets", "text": "Static Data For the article ranking issue, we collect data over a week about a small fraction of randomly selected users visiting the social news site. Each instance is a unique article on the site. There are 28922 cases in the data. We collect user behavior data on these articles. There are 4 design variables: article freshness, total user views, likes and comments. The 2 objective variables of our interest are the total number of article clicks and the dwell time (in milliseconds). Dynamic data The dynamics of our goals are a function of time. The number of clicks or dwell time of an article depends on the time of day. For example, it correlates to the work routine of a large group of users. The data was collected in 4 different time intervals of the day: 1) Time step 1, [00: 00, 6: 00] Time difference between articles (50588 instances), 2) Time step 2, [00: 00, 12: 00: 00, (1284) (3) Instances of time difference."}, {"heading": "3.4 Modeling objectives", "text": "We divide the training data into 80% training set, 10% test set and 10% validation set. Optimal parameters for the GBDT are found using hyperopt (Bergstra, Yamins and Cox 2013), while we optimize the determination coefficient (R2) of the test set. Model performance on the validation data is shown as follows. Static data The Clicks model has an R2 of 0.5323 and a mean square error (MSE) of 5.3213. The Dwell-Time model has an R2 of 0.56879 and an MSE of 4.6169.Dynamic data In time steps 1 to 4, the four clicks models have R2 values of (0.5223, 0.4701, 0.4629, 0.5059) and MSE values of (5.8485, 6.4737, 276.331, 275.925, 786, 84.526)."}, {"heading": "3.5 Experiment 1: Optimization performance", "text": "In this experiment, we compare the quality of the Pareto curve returned by DO-NSGA-II and compare it with Grid Search, the basic algorithm. Figure 1 shows the Pareto curves we get from the two algorithms (represented as a maximization problem). We can immediately see that the solutions of DO-NSGA-II converge and spread better than Grid Search. The results in Table 1 show that Grid Search provides fewer solutions than DO-NSGA-II. Figure 1 shows few data points because many assignments of design variables are evaluated on a small number of different objective values, so they are stacked in the figure. DO-NSGA-II achieves a much better overall hypervolume. DO-NSGA-II also achieves a much better average hypervolume, the average hypervolume occupied by each individual solution in the approximated pareto set. This measurement shows that any solution returned by DO-NSGA-II has a better volume than the one returned by any DO-NSGA-volume."}, {"heading": "3.6 Experiment 2: Constrained MOO", "text": "In this experiment, we observe the limitation capability of DO-NSGA-II and Grid Search. We set a target limitation on the clicks target, which could represent the number of clicks required in a traffic-shaping problem for an article of a particular publisher to meet the contractual requirements of that publisher. We test two scenarios: 1) Possible compulsion shows an appropriate number of clicks that we need to achieve with our article ranking model; 2) Impossible compulsion checks a restriction that would be unreasonable given the observed training data. Figure 2a shows the result under achievable compulsion of log10 (clicks) > 6.25. We observe that DO-NSGA-II with its selection operator adjusts the search to achieve the compulsion. Grid Search cannot adapt to the same solution approaches and return it as in Experiment 1. Fewer solutions meet the limitations. Figure 2a shows the result of unlogging > DGA from this compulsion, we choose the best solution."}, {"heading": "3.7 Experiment 3: Dynamic optimization", "text": "This experiment examines the capability of DO-NSGA-II. Grid Search cannot handle dynamics in the lens. Figure 3a shows the changing Pareto front through the four different time steps. The approximate Pareto set in the different time steps is represented with different shapes and colors.Figure 3b shows how the hypervolume changes as the algorithm adapts to the changing target. We mark generations (0, 500, 1000, 1500) in which the different time step models pass. Our hypermutation design allows a smooth transition between the different Pareto fronts, allowing a reasonable solution to any given generation in an online environment."}], "references": [{"title": "Spatio-temporal models for estimating click-through rate", "author": ["Chen Agarwal", "D. Elango 2009] Agarwal", "B.C. Chen", "P. Elango"], "venue": "In Proceedings of the 18th international conference on World wide web,", "citeRegEx": "Agarwal et al\\.,? \\Q2009\\E", "shortCiteRegEx": "Agarwal et al\\.", "year": 2009}, {"title": "D", "author": ["J. Bergstra", "D. Yamins", "Cox"], "venue": "D.", "citeRegEx": "Bergstra. Yamins. and Cox 2013", "shortCiteRegEx": null, "year": 2013}, {"title": "API design for machine learning software: experiences from the scikit", "author": ["Buitinck"], "venue": null, "citeRegEx": "Buitinck,? \\Q2013\\E", "shortCiteRegEx": "Buitinck", "year": 2013}, {"title": "H", "author": ["Cobb"], "venue": "G.", "citeRegEx": "Cobb 1990", "shortCiteRegEx": null, "year": 1990}, {"title": "and Beyer", "author": ["K. Deb"], "venue": "H.-G.", "citeRegEx": "Deb and Beyer 2001", "shortCiteRegEx": null, "year": 2001}, {"title": "A fast and elitist multiobjective genetic algorithm: Nsga-ii. IEEE transactions on evolutionary computation 6(2):182\u2013197", "author": ["Deb"], "venue": null, "citeRegEx": "Deb,? \\Q2002\\E", "shortCiteRegEx": "Deb", "year": 2002}, {"title": "Dynamic multi-objective optimization and decisionmaking using modified nsga-ii: a case study on hydrothermal power scheduling", "author": ["Karthik Deb", "K. others 2007] Deb", "S Karthik"], "venue": "In International Conference on Evolutionary Multi-Criterion Optimization,", "citeRegEx": "Deb et al\\.,? \\Q2007\\E", "shortCiteRegEx": "Deb et al\\.", "year": 2007}, {"title": "C", "author": ["Fonseca"], "venue": "M.; Paquete, L.; and L\u00f3pez-Ib\u00e1nez, M.", "citeRegEx": "Fonseca. Paquete. and L\u00f3pez.Ib\u00e1nez 2006", "shortCiteRegEx": null, "year": 2006}, {"title": "The distribution index in polynomial mutation for evolutionary multiobjective optimisation algorithms: An experimental study", "author": ["M. Hamdan 2012a] Hamdan"], "venue": "In International Conference on Electronics", "citeRegEx": "Hamdan,? \\Q2012\\E", "shortCiteRegEx": "Hamdan", "year": 2012}, {"title": "On the disruptionlevel of polynomial mutation for evolutionary multiobjective optimisation algorithms. Computing and Informatics 29(5):783\u2013800", "author": ["M. Hamdan 2012b] Hamdan"], "venue": null, "citeRegEx": "Hamdan,? \\Q2012\\E", "shortCiteRegEx": "Hamdan", "year": 2012}, {"title": "A", "author": ["A. Konak", "D.W. Coit", "Smith"], "venue": "E.", "citeRegEx": "Konak. Coit. and Smith 2006", "shortCiteRegEx": null, "year": 2006}, {"title": "J", "author": ["R.T. Marler", "Arora"], "venue": "S.", "citeRegEx": "Marler and Arora 2004", "shortCiteRegEx": null, "year": 2004}], "referenceMentions": [], "year": 2017, "abstractText": "The content ranking problem in a social news website, is typically a function that maximizes a scalar metric of interest like dwell-time. However, like in most real-world applications we are interested in more than one metric\u2014for instance simultaneously maximizing click-through rate, monetization metrics, dwell-time\u2014 and also satisfy the traffic requirements promised to different publishers. All this needs to be done on online data and under the settings where the objective function and the constraints can dynamically change; this could happen if for instance new publishers are added, some contracts are adjusted, or if some contracts are over. In this paper, we formulate this problem as a constrained, dynamic, multi-objective optimization problem. We propose a novel framework that extends a successful genetic optimization algorithm, NSGA-II, to solve this online, data-driven problem. We design the modules of NSGA-II to suit our problem. We evaluate optimization performance using Hypervolume and introduce a confidence interval metric for assessing the practicality of a solution. We demonstrate the application of this framework on a real-world Article Ranking problem. We observe that we make considerable improvements in both time and performance over a bruteforce baseline technique that is currently in production.", "creator": "LaTeX with hyperref package"}}}