{"id": "1707.00627", "review": {"conference": "arxiv", "VERSION": "v1", "DATE_OF_SUBMISSION": "26-Apr-2017", "title": "A Reverse Hex Solver", "abstract": "We present Solrex,an automated solver for the game of Reverse Hex.Reverse Hex, also known as Rex, or Misere Hex, is the variant of the game of Hex in which the player who joins her two sides loses the game. Solrex performs a mini-max search of the state space using Scalable Parallel Depth First Proof Number Search, enhanced by the pruning of inferior moves and the early detection of certain winning strategies. Solrex is implemented on the same code base as the Hex program Solver, and can solve arbitrary positions on board sizes up to 6x6, with the hardest position taking less than four hours on four threads.", "histories": [["v1", "Wed, 26 Apr 2017 17:51:08 GMT  (1058kb)", "http://arxiv.org/abs/1707.00627v1", "Presented at Computers and Games 2016 Leiden, International Conference on Computers and Games. Springer International Publishing, 2016"]], "COMMENTS": "Presented at Computers and Games 2016 Leiden, International Conference on Computers and Games. Springer International Publishing, 2016", "reviews": [], "SUBJECTS": "cs.AI cs.GT", "authors": ["kenny young", "ryan b hayward"], "accepted": false, "id": "1707.00627"}, "pdf": {"name": "1707.00627.pdf", "metadata": {"source": "CRF", "title": null, "authors": ["Ryan B. Hayward", "Ronald J. Evans"], "emails": ["hayward@ualberta.ca,"], "sections": [{"heading": null, "text": "ar Xiv: 170 7,00 627v 1 [cs.A I] 2 6A pr2 01Keywords: hex, reverse hex, mise re, Rex, solver, combinatorial game theory, proof number search"}, {"heading": "1 Introduction", "text": "In his 1957 column, \"Scientific American Mathematical Games,\" referring to the game of Hex that can be played on the tiles of the bathroom floor, Martin Gardner mentions the predicament between the two sides with a path of their stones as the winner. In his 1957 column, \"Scientific American Mathematical Games,\" he even wins the strategies of Hex that can be played on the tiles of the bathroom floor. \"Re-version of Hex,\" according to Gardner, \"is the one of Hex,\" \"re-version of Hex,\" \"re-version of Hex,\" or \"Rex\" re-Hex, \"re-strategies of Hex.\" 1. Left: the end of a Rex game by Haydner that connects both sides, so loses. Right: a Rex puzzle by Ronald J. Evans to play and win."}, {"heading": "2 Death, pairing, capture, joining", "text": "In fact, it is the case that you are able to hide without being able to play by the rules, and that you are able to play by the rules."}, {"heading": "3 Inferior cell pruning and early win detection", "text": "For a position P, a player X, and a row of cells C, P + CX is the position gained by P'S by X-coloring all cells of C, and P \u2212 C is the position gained by P'S by coloring all cells of C, and P \u2212 C is the position gained by P'S by coloring all colored cells of C. For clarity's sake, we can also write that P \u2212 CX in this case is the player who originally controlled all cells of C. Similarly, for a state S = P Y, where Y = X or X, S + CX is the state (P + CX) Y. Also in this context, if C has only one cell c, we will sometimes write cX instead of {c} X. For states S and player X, we will write S'T if X wins."}, {"heading": "4 Early win detection", "text": "For a position P, an X-join pairing strategy is a pairing strategy that connects X's two sides, and an X-pre-join pairing strategy is a colorless cell k together with an X-join pairing strategy from P + kX; here k is the key to this strategy. The key to our algorithm is to find strategies for the opponent (pre) pairing. If the context indicates that the strategies connect the sides of a player, we simply call these (pre) pairing strategies. Theorem 12. Let P be a position with an X-pre-join pairing strategy. Then X PX wins and also PX. Proof. This follows from Theorem 7 in [9]: X can force X to follow the X pairing strategy. Theorem 13. Let P be a position with an X-pre-join pairing strategy, and with X = load. X then wins. X9 results from X6."}, {"heading": "5 Solrex", "text": "The challenge in developing Solrex was to identify and remove all hex-specific or Rex-unnecessary aspects of Solhex."}, {"heading": "6 Experiments", "text": "We conducted our experiments on Torrington, a quad-core i7-860 2.8GHz CPU with hyper-threading, i.e. 8 pseudo-cores. For 5 \u00d7 5 Rex, our test suite is a 24-member replica opening in the acute corner: 1 This requires Solrex 13.2. For 6 \u00d7 6 Rex, our test suite includes all 18 (to symmetry) 1-pull opening states: This requires Solrex 25900s. To measure acceleration, we also performed the 18 1-pull 6 \u00d7 6 openings on a single thread, with 134635s.To show the effects of the various features of Solrex, we performed a feature knock test on the 5 \u00d7 5 test suite. For features that showed a negligible or negative contribution, we performed another knock-out test on the toughest 6 \u00d7 6 positions, 1.White [d2], Color-Symmetric 1.e3."}, {"heading": "7 Conclusions", "text": "The effectiveness of these trimming methods - which exploit trimming using local patterns in a search space that grows exponentially with the board size - clearly applies to Rex [11]: in almost all cases, we see that feature posts have improved with the board size. We believe that this is partly because the computational complexity of most of our algorithmic improvements is polynomial in the board size, while the corresponding increase in search space circumcision grows exponentially. Furthermore, as the average game length increases, weaker moves are no longer immediately lost or easily detectable by previous methods, and so these features are likely to save significant search time. Of these features, by far the most critical was the H search, which yielded a time ratio of about 90 to 5 x Rex."}], "references": [{"title": "The game of Hex: An automatic theorem proving approach to game programming", "author": ["Vadim V. Anshelevich"], "venue": "In AAAI/IAAI,", "citeRegEx": "1", "shortCiteRegEx": "1", "year": 2000}, {"title": "Solving Hex: Beyond humans", "author": ["Broderick Arneson", "Ryan B. Hayward", "Philip Henderson"], "venue": "Computers and Games 2010,", "citeRegEx": "2", "shortCiteRegEx": "2", "year": 2011}, {"title": "A winning opening in reverse Hex", "author": ["Ronald J. Evans"], "venue": "Journal of Recreational Mathematics,", "citeRegEx": "4", "shortCiteRegEx": "4", "year": 1974}, {"title": "Mathematical games: Concerning the game of hex, which may be played on the tiles of the bathroom floor", "author": ["Martin Gardner"], "venue": "Scientific American,", "citeRegEx": "5", "shortCiteRegEx": "5", "year": 1957}, {"title": "Mathematical games: Four mathematical diversions involving concepts of topology", "author": ["Martin Gardner"], "venue": "Scientific American,", "citeRegEx": "6", "shortCiteRegEx": "6", "year": 1958}, {"title": "Mathematical games: Games of strategy for two players: star nim, meander, dodgem, and rex", "author": ["Martin Gardner"], "venue": "Scientific American,", "citeRegEx": "7", "shortCiteRegEx": "7", "year": 1975}, {"title": "Hexaflexagons and Other Mathematical Diversions: The First Scientific American Book of Puzzles and Games, chapter 8, pages 73\u201383", "author": ["Martin Gardner"], "venue": null, "citeRegEx": "8", "shortCiteRegEx": "8", "year": 1988}, {"title": "How to play reverse hex", "author": ["Ryan B. Hayward", "Bjarne Toft", "Philip Henderson"], "venue": "Discrete Mathematics,", "citeRegEx": "9", "shortCiteRegEx": "9", "year": 2012}, {"title": "Vil de laere Polygon? Politiken, December 1942", "author": ["Piet Hein"], "venue": null, "citeRegEx": "10", "shortCiteRegEx": "10", "year": 1942}, {"title": "Playing and solving Hex", "author": ["Philip Henderson"], "venue": "PhD thesis, UAlberta,", "citeRegEx": "11", "shortCiteRegEx": "11", "year": 2010}, {"title": "Solving 8x8 Hex", "author": ["Philip Henderson", "Broderick Arneson", "Ryan B. Hayward"], "venue": null, "citeRegEx": "12", "shortCiteRegEx": "12", "year": 2009}, {"title": "The Mathemagician and Pied Puzzler: A Collection in Tribute to Martin Gardner, editors", "author": ["Jeffrey Lagarias", "Daniel Sleator"], "venue": "Elwyn Berlekamp and Tom Rodgers,", "citeRegEx": "13", "shortCiteRegEx": "13", "year": 1999}, {"title": "Scalable parallel dfpn search", "author": ["Jakub Pawlewicz", "Ryan B. Hayward"], "venue": "In Computer and Games, Springer LNCS", "citeRegEx": "14", "shortCiteRegEx": "14", "year": 2013}], "referenceMentions": [{"referenceID": 8, "context": "In 1942 Piet Hein invented the two-player board game now called Hex [10].", "startOffset": 68, "endOffset": 72}, {"referenceID": 3, "context": "In his 1957 Scientific American Mathematical Games column, Concerning the game of Hex, which may be played on the tiles of the bathroom floor, Martin Gardner mentions the mis\u00e8re version of Hex known as Reverse Hex, or Rex, or Mis\u00e9re Hex: whoever joins their two sides loses [5].", "startOffset": 274, "endOffset": 277}, {"referenceID": 5, "context": "[7]", "startOffset": 0, "endOffset": 3}, {"referenceID": 3, "context": "when n is even (odd) [5].", "startOffset": 21, "endOffset": 24}, {"referenceID": 11, "context": "Lagarias and Sleator further showed that, for all n, each player has a strategy that can avoid defeat until the board is completely covered [13].", "startOffset": 140, "endOffset": 144}, {"referenceID": 2, "context": "Evans showed that for n even, opening in an acute corner wins [4].", "startOffset": 62, "endOffset": 65}, {"referenceID": 7, "context": "further showed that, for n even and at least 4, opening in a cell that touches an acute corner cell and one\u2019s own side also wins [9].", "startOffset": 129, "endOffset": 132}, {"referenceID": 5, "context": "[7,8].", "startOffset": 0, "endOffset": 5}, {"referenceID": 6, "context": "[7,8].", "startOffset": 0, "endOffset": 5}, {"referenceID": 7, "context": "explained how to find winning strategies for all but one (up to symmetry) opening move on the 4\u00d74 board [9].", "startOffset": 104, "endOffset": 107}, {"referenceID": 12, "context": "So, Solrex searches the minimax space of gamestates using Scalable Parallel Depth-First Proof Number Search, the enhanced parallel version by Pawlewicz and Hayward [14] of Focussed Depth-First Proof Number Search of Arneson, Hayward, and Henderson [2].", "startOffset": 164, "endOffset": 168}, {"referenceID": 1, "context": "So, Solrex searches the minimax space of gamestates using Scalable Parallel Depth-First Proof Number Search, the enhanced parallel version by Pawlewicz and Hayward [14] of Focussed Depth-First Proof Number Search of Arneson, Hayward, and Henderson [2].", "startOffset": 248, "endOffset": 251}, {"referenceID": 7, "context": "This follows from Theorem 7 in [9]: X can force X to follow the X-joinpairing strategy.", "startOffset": 31, "endOffset": 34}, {"referenceID": 7, "context": "This follows from Theorem 6 in [9].", "startOffset": 31, "endOffset": 34}, {"referenceID": 12, "context": "Search follows the Scalable Parallel Depth First variant of Proof Number Search, with the search focusing only on a limited number of children (as ranked by the usual electric resistance model) at one time [14].", "startOffset": 206, "endOffset": 210}, {"referenceID": 1, "context": "We also apply any inferior cell domination that comes from virtual connection decompositions [2,11].", "startOffset": 93, "endOffset": 99}, {"referenceID": 9, "context": "We also apply any inferior cell domination that comes from virtual connection decompositions [2,11].", "startOffset": 93, "endOffset": 99}, {"referenceID": 0, "context": "Then, using H-search [1] in which the or-rule is limited to combining only 2 semi-connections, we find (pre)-join-pairing strategies.", "startOffset": 21, "endOffset": 24}, {"referenceID": 1, "context": "H-search is augmented by observing that semi-connections that overlap on a captured set of endpoints do not conflict and so can be combined into a full connection [2,11].", "startOffset": 163, "endOffset": 169}, {"referenceID": 9, "context": "H-search is augmented by observing that semi-connections that overlap on a captured set of endpoints do not conflict and so can be combined into a full connection [2,11].", "startOffset": 163, "endOffset": 169}, {"referenceID": 4, "context": "the mirror pairing strategy for the n\u00d7(n\u2212 1) board [6]) cannot be found in this way.", "startOffset": 51, "endOffset": 54}, {"referenceID": 7, "context": "Bd1, the only unsolved 4\u00d74 opening from [9].", "startOffset": 40, "endOffset": 43}, {"referenceID": 9, "context": "The effectiveness of these pruning methods \u2013 which exploit pruning via local patterns in a search space that grows exponentially with board size \u2014 explained by Henderson for Hex, is clearly also valid for Rex [11]:", "startOffset": 209, "endOffset": 213}, {"referenceID": 10, "context": "Solrex takes about 7 hours to solve all 18 (up to symmetry) 6\u00d76 boardstates; by contrast, Solhex takes only 301 hours to solve all 32 (up to symmetry) 8\u00d78 boardstates [12].", "startOffset": 167, "endOffset": 171}], "year": 2017, "abstractText": "We present Solrex, an automated solver for the game of Reverse Hex. Reverse Hex, also known as Rex, or Mis\u00e8re Hex, is the variant of the game of Hex in which the player who joins her two sides loses the game. Solrex performs a mini-max search of the state space using Scalable Parallel Depth First Proof Number Search, enhanced by the pruning of inferior moves and the early detection of certain winning strategies. Solrex is implemented on the same code base as the Hex program Solver, and can solve arbitrary positions on board sizes up to 6\u00d76, with the hardest position taking less than four hours on four threads.", "creator": "LaTeX with hyperref package"}}}