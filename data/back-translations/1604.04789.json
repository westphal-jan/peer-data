{"id": "1604.04789", "review": {"conference": "arxiv", "VERSION": "v1", "DATE_OF_SUBMISSION": "16-Apr-2016", "title": "A Hierarchical Genetic Optimization of a Fuzzy Logic System for Flow Control in Micro Grids", "abstract": "Biologically inspired algorithms such as genetic algorithms and fuzzy inference systems are now used as hybrid techniques in commercial and industrial environments. In this paper, we present an interesting application of the FUZZY-GA paradigm to smart grids. Specifically, this study focuses on the possibility of optimizing a fuzzy rule base in order to use a GA to identify minimal fuzzy rules defined in a Fuzzy Logic Controller (FLC) to perform the decision-making for the task of electricity flow management in a microgrid. RB optimization is achieved through a hierarchical genetic algorithm based on a nature-inspired coding scheme applied to the optimization of FIS parameters. Tests show how the proposed regulator scheme is effective to maximize economic benefits in addressing the problem of electricity flow management in a microgrid equipped with an energy storage system.", "histories": [["v1", "Sat, 16 Apr 2016 19:38:21 GMT  (3733kb,D)", "https://arxiv.org/abs/1604.04789v1", null], ["v2", "Tue, 24 Jan 2017 12:17:24 GMT  (4148kb,D)", "http://arxiv.org/abs/1604.04789v2", null], ["v3", "Wed, 1 Mar 2017 04:57:14 GMT  (3291kb,D)", "http://arxiv.org/abs/1604.04789v3", null]], "reviews": [], "SUBJECTS": "cs.AI cs.NE", "authors": ["enrico de santis", "antonello rizzi", "alireza sadeghian"], "accepted": false, "id": "1604.04789"}, "pdf": {"name": "1604.04789.pdf", "metadata": {"source": "CRF", "title": "A Hierarchical Genetic Optimization of a Fuzzy Logic System for Flow Control in Micro Grids", "authors": ["Enrico De Santis", "Antonello Rizzi", "Alireza Sadeghian"], "emails": ["enrico.desantis@uniroma1.it", "antonello.rizzi@uniroma1.it", "asadeghi@ryerson.ca"], "sections": [{"heading": null, "text": "keywords: Microgrid, Energy Management System, Battery Energy Storage, Power Flow Optimization, Storage System Management, Fuzzy Systems, Evolutionary Computation, Hierarchical Genetic Algorithms."}, {"heading": "1 Introduction", "text": "The world wide power grid can be considered one of the greatest masterpiece of engineering that human being has ever made. Moreover, starting from the First Industrial Revolution, Smart Grids (SGs) are one of the most important breakthrough that science and engineering fields are carrying out. Currently, the Smart Grid concept is founded on a paradigmatic revolution that will permeate many aspects of human life. From the power system point of view, SGs can be considered as a way to transform the electric\n\u2217enrico.desantis@uniroma1.it \u2020Corresponding author \u2021antonello.rizzi@uniroma1.it \u00a7asadeghi@ryerson.ca\nar X\niv :1\n60 4.\n04 78\n9v 3\n[ cs\n.A I]\nenergy infrastructures from a centralized, producer-controlled network, into a distributed and consumerinteractive system, leveraging the same concepts and technologies that enabled the emergence and spread of the Internet. [45]. SGs vision promises a power grid infrastructure with increased automation of the grid operations and \u201cself-healing\u201d capabilities. SGs integrate the renewable energy production, seamlessly balancing energy supply and demand, and can be considered as a key technology for facilitating the spread of electric mobility. To achieve that vision, the current power grid has to be thought as a technological ecosystem that needs a strong injection of distributed intelligence [11]. G. K. Venayagamoorthy argues that the current power grid can be considered a spatially and temporally complex, nonlinear and non-stationary system with a lot of uncertainties [41]. Accordingly, the SG can be examined for all intents and purposes as a Complex System, and Computational Intelligence (CI) and Soft Computing (SC) techniques [4, 13, 36, 43], are widely adopted to face a plethora of applications and problems arising in the SG context. The main CI paradigms for SG related problem solutions are: neuro-fuzzy, neuro-swarm, fuzzy-PSO, fuzzy-GA, neuroGenetic [8, 16, 38, 41]. In fact, in MG related tasks, such as control and flow management, the presence of uncertainty and non-linearity, for example in the power demand profile of a large amount of users or in the power produced by solar or wind sources, makes related problems extremely challenging. Hence, SC techniques can help managing the complexity of problems offering reliable solutions, especially in presence of non-linearity [33] and in presence of storage devices that increase the solution space of the unit commitment problem [12]. Consequently, since linear techniques cannot be considered adequate in solving problems whose nature is nonlinear and even stochastic, SC techniques offer a suitable framework introducing learning capabilities in the design of the MG controllers, especially in presence of renewable energy sources and storage. The current research follows our previous work [10] about an application of what we call classic fuzzy-GA paradigm to the problem of Flow Control Optimization in a Microgrid (MG). The MG can be thought as a sub-network of the SG characterized by the presence of autonomous (often renewable) energy sources buffered by some type of Battery Energy Storage System (BESS) and locally controlled in order to achieve smart energy flows management. The flow control task is carried out by a FLC with two Fuzzy Inference Systems (FISs) of Mamdani type. FISs, relaying on approximated reasoning based on Fuzzy Logic (FL), are in charge to optimize energy flows and the overall accounting profit in energy trading operations with the main-grid. The choice of Mamdani type FIS is related to its simplicity in incorporating human knowledge in the RB. Specifically, in the application at hand the computational overhead introduced by the defuzzification process (absent in a Sugeno type FIS) is not a real problem. Furthermore, the HGA paradigm with its suitable coding scheme is well suited to optimize the structure of a Mandani FIS. The current work is focused on two main objectives: i) improve the MG model, in particular the BESS model, ii) optimize the Rule Base (RB) of the FLC adopted to control power flows in the MG. As concerns the first goal we move on from an ideal battery adopted in [10] designing an energy storage device based on a real-world model with suitable efficiency parameters. For the second objective, we designed an optimization method based on a suited Genetic Algorithm (GA) that is in charge of learning the FIS parameters, optimizing at the same time both the economic return in energy trading and the cardinality of the fuzzy RB. The adopted optimization algorithm is known as Hierarchical Genetic Algorithm (HGA) aiming to perform at the same time a fine tuning of the fuzzy Membership Functions (MFs) and the structural optimization of the FISs \u2013 in the following we will refer on this paradigm as \u201cfuzzy-HGA paradigm\u201d. In fact, while in our previous work the FIS structure is constrained to be fixed, with a predefined number of antecedent and consequent terms and, thereby, with an immutable number of fuzzy rules, the adopted HGA scheme allows to relax these constraints. Moreover, the standard GA approach deals with a chromosome of fixed length whose encoding scheme leads to a lower flexibility in the RB tuning. A GA algorithm able to emulate a variable length chromosome with a suitable encoding scheme of the FIS is ideal for optimizing the number of rules in the given RB. Finally, the fuzzy rule optimization can lead to an improved performance of the FIS, discarding pre-defined low performing rules. The idea behind HGAs is based on the biological inspired gene structure of a chromosome formed in a hierarchical fashion, emulating the encoding approach of the deoxyribonucleic acid (DNA). In Nature the genes can be classified into two different types: regulatory sequences and structural genes. One of the regulatory sequences found in DNA is called the \u201cpromoter\u201d with the task of activating or deactivating structural genes. Therefore the presence of active and inactive genes in the structural genes\nleads to the idea of a hierarchical structure formulation of the chromosome that consists of control genes and parametric genes. The activation of the parametric genes is governed by the value of the control genes. Accordingly, the strategy suggested by Nature can be modeled for solving a number of engineering problems, such as those involving mix integer programming methods [34] or fuzzy control applications demanding the joint optimization of both FISs parameters and RBs [3]. In the last case the novelty of a hierarchical coding scheme is based on the definition of suitable genetic operators moving from standard GA algorithms to more advanced ones. The hierarchical encoding scheme allows to code the FISs parameters, more precisely MF parameters, as parametric genes and, at the same time, control genes can be used to activate and deactivate MFs composing a given fuzzy RB, thus tuning the overall number of fuzzy rules. The work is organized as follows. Sec. 2 is a literature review about the use of FLC and the fuzzy-GA paradigm in the Smart Grid context. In Sec. 3 we introduce the optimization problem and the MG model. Sec. 4 clarifies the level of abstraction of the problem, introducing the adopted notation and explaining how the fuzzy controller works. The fuzzy control scheme for a MG, together with the classic fuzzy-GA and fuzzy-HGA paradigms are treated in Sec. 5 and related subsections. In Sec. 6, soon after the introduction of the examined MG scenarios and the algorithm settings, the main results are reported and discussed. Finally, conclusions are drawn in Sec. 7, while feature works are discussed in Sec. 8."}, {"heading": "2 Related works", "text": "In the SC field, FL is a well consolidated discipline able to integrate approximate reasoning methodologies in engineering systems. SC techniques are commonly adopted in applications dealing with uncertainties [1, 5]. An interesting review on fuzzy logic and its hybrid approaches employed in the Smart Grids and microgrids context can be found in [40]. In [37] a small-scale MG designed to provide power to local communities, able to connect or disconnect from the main-grid, is studied. The control scheme is based on a non optimized FLC considering as input the electricity prices, the renewable production, and the load demand. The RB is developed in order to ensure reliable grid operations taking into account the financial aspect to decide the load modification\u2019s level. FLCs can be designed to control the amount of power that should be taken from the battery system in case of power deficiency to cover the load demand in a scheduling process [33]. The latter problem is faced in [32], optimizing distribution system operations in a SG, from cost and system stability points of view. In the adopted MG model the FLC was used only in the case when the instantaneous load demanded is higher than the instantaneous available power from renewable energy sources and the system is not at the peak period (the battery is operated in discharge mode). However the FLC does not foresee any further optimization. In [2] is exploited a FLC in a MG Energy Management System (EMS) equipped by a BESS in order to apply peak shaving and valley filling and to limit the oscillation of energy exchanged with the network buffering the ESS. The FLC aims to reduce the variation of the energy exchanged with the grid. Moreover, it exploits a low bandwidth filter set before the FLC. The FLC is also optimized, but the adopted algorithm is not specified. In [6] it has been considered a MG grid-connected equipped with a battery and a fuel cell. The MG consists of a wind turbine, a PV plant and a micro-turbine; the EMS must satisfy the load demand. In this work, the considered objective functions to be minimized are the energy expenses and the emissions of a MG, through multi-objective optimization. The proposed EMS approach consists in the joint formulation of multi-objective optimization approach based on linear programming and battery scheduling (working both on-line). The battery scheduling, as a part of an optimal online energy management, is made through a FLC designed by an expert operator for the on-line scheduling of the BESS. It defines whether the battery should be charged or discharged and at which convenient rates. One of the FLC input is the predicted energy in the day ahead both for the load and the generation. After the scheduling of the BESS, the remainder of the power flows are optimized with a multi objective linear programming algorithm. In the MG modeling field a FL-based framework is proposed in [31] aimed at controlling a BESS to achieve an high efficient management. Authors propose a MG model able to operate synchronously with the main-grid (grid connected mode) or independently (islanded mode) aiming to control the amount of power delivered to/taken from the storage unit in order to improve a cost function based on purchasing/selling power to the main-grid.\nPredetermined human reasoning-based fuzzy rules are adopted to define a FLC with inputs variables such as consumer\u2019s load demand, electricity price rate and renewable energy generation rate. Specifically, data are sampled every 15 minutes and the evaluated figure of merit consists of the summation of payments/revenues (similarly to the current work) along with system losses. However, the fuzzy RB is kept fixed, thereby any subsequent learning and optimization procedure is not considered. It is well known that FL, especially in FLC of Mamdani type, is well-suited in incorporating human knowledge in artificial systems. However, the synthesis of the fuzzy rules in a complex control problem can be a challenging task and in presence of many free parameters in the RB the human expertise is not sufficient to assure satisfying performances. Thereby, the fuzzy-GA modeling can help to improve the inherent human approximation level in generating fuzzy rules. Furthermore, an evolutionary strategy can fill the gap between a fixed RB and a flexible one introducing a suitable learning scheme. Thereby, an HGA is able to tackle the problem of managing many free parameters of a Mamdani FIS, optimizing at the same time the number of rules and selecting the ones that perform better in terms of the considered objective function. In [30], the fuzzy-GA approach is adopted for controlling energy flows and for managing the MG, in presence of an electric storage unit and distributed renewable energy generation. The main goal consists in optimizing a cost function defined as the net expense in electric energy purchasing from the main-grid. In [12] authors propose, within the fuzzy-GA paradigm, an algorithm for optimizing the MG operations. In particular given the load demand, the wind power generation and day-ahead electricity prices, the algorithm is able to set up a MG generation schedule and to synthesize a suitable fuzzy expert system for allocating the energy from the storage system. Moreover, two GAs are used alternatively, one to determine both the microgrid scheduling and the fuzzy rules, the other to tune the MFs. The proposed expert system, responsible for setting the power withdrawn from the battery, is provided with learning capabilities so that it can optimize its knowledge base (fuzzy rules and MFs) according to the given scenario. A FL-based energy management, adopting a fixed Mamdani FIS, is studied in [7] for house consumption applications in presence of a solar source. The main aim here is maximizing the use of solar energy and reducing the impact on the power grid, while satisfying the energy demand of house appliances, giving a fixed level of comfort."}, {"heading": "3 Background", "text": "The proposed approach concerns a control scheme relating to energy flows of a MG belonging to an energy district \u2013 see Fig 1 \u2013 and connected to the main-grid or even other MGs. The MG can perform its operations in a \u201cgrid connected mode\u201d and in \u201cislanded mode\u201d. In the proposed model the energy production is typically provided by renewable Distributed Resources (DRs) such as solar, wind, and micro-hydro generators. In addition, the MG can be equipped with a traditional energy source, such as a turbogas generator. Moreover, the MG is provided by a Li-ion BESS; the model is compliant with technical specifications of a specific Toshiba device. The BESS is controlled through a Battery Management System (BMS) and can be used to compensate the lack of energy production when DRs are unable to meet domestic demand or to accumulate energy in case of overproduction. The BMS can be programmed also to store energy that can be resold to the main-grid when favorable economic conditions apply (based, for example, on energy price signals). The main scenarios, in which the proposed controller can act, are:\n\u2022 the energy production within the MG meets (or exceed) the energy demand;\n\u2022 the energy production within the MG does not meet the demand.\nIn the former case the MG operates in \u201cislanded mode\u201d and the BESS can be used to store a fraction of the surplus of energy, selling the remainder to the main-grid. In the latter case the MG can operate in \u201cgrid connected mode\u201d and can satisfy the loads by drawing a fraction of the negative energy balance from the BESS, while buying the remainder from the main-grid. The two main operations introduced above depend strictly on the MG internal state that includes the State of Charge (SOC) of the BESS and thus the available stored energy, the current price of energy and the generated and demanded power.\nIt is noted that the two main objectives of the proposed controller are:\n\u2022 to guarantee the continuous to power supplies of energy availability without interruptions. Thus the MG must guarantee an high quality of service.\n\u2022 to maximize the accounting profit for possible energy trading with the main-grid or other MGs, given the collected information about the energy price and the MG internal state.\nIn Fig. 2 is depicted the simplified control scheme for a given MG. The controller is immersed in an external environment where information is assumed to be originated from a centralized data-center or directly from other connected MGs, in an automatic cooperative/competitive trading scenario. Input information to the controller are the aggregated energy time profile requested from the MG loads, the aggregated energy time profile produced by the DRs, the energy price signal coming from the main-grid and the SOC of the BESS. The output of the controller is a pair of signals towards the main-grid or the BESS. The decision\nmaking module adopts a fuzzy inference scheme, implementing two distinct FISs for deciding the best actions trying to maximize the accounting profit of the MG in a given time span. A Hierarchical Genetic Algorithm is adopted to tune the set of fuzzy rules and their parameters and thus to learn their best combination exploiting a given suitable objective function."}, {"heading": "4 Problem Formulation", "text": ""}, {"heading": "4.1 Model\u2019s assumptions", "text": "The entire control chain in a general microgrid can be considered as organized as a three level system: the field level (data acquisition and decentralized control), the SCADA level (supervision and control functions), and the planning and management level, which can be a decentralized EMS [33]. In this work, we focus on the third level. Thereby, the model that we will discuss is based on a number of hypothesis that define the level of abstraction useful to correctly place the problem under analysis. The main assumptions are reported below.\n\u2022 The considered timestamps are discretized and monospaced.\n\u2022 The present study does not consider low level operations such as voltage and reactive power control.\n\u2022 Only high level operations are evaluated, such as the control of energy flow within a MG.\n\u2022 In the simulation several energy prosumers are contemplated, each one has its own characteristic energy profile with a timing defined each quarter of an hour.\n\u2022 For each time sample the flow control system takes into account the aggregate energy production and demand.\n\u2022 In each time sample the control system is able to fulfill a decision making request.\n\u2022 The demanded energy is actually consumed.\n\u2022 The main-grid has an unlimited energy capacity.\n\u2022 The current version of the MG flow control system deals with a single BESS, as an overall model of the total storage capacity within the MG (possibly due to more than one distinct devices).\n\u2022 The current work does not cover data exchange models within the main-grid and it is supposed that the MG is equipped with a suitable data network infrastructure with low delay and high QoS in exchanging data packets.\nHence, the adopted controller focus on the energy exchanges between portions of the MG and the maingrid considered fairly of unlimited capacity given the powers involved in small-scale MGs, as the one herein considered. Furthermore a discrete data model for the measured power consumed and demanded is used with a sample time of 15 minutes, as adopted in most high level control schemes. The last assumption, about the low delay in data exchange, is reliable considering both the low delays characterizing communication protocols used in modern SGs and the small extension of the adopted MG model. For instance, cellular wireless networks such as GPRS, UMTS, or 4G technologies like 802.16m and LTE could be used for the interface between smart meters and the central system [17, 39]. Furthermore, multiple communication technologies and standards could coexist in different parts of the Smart Grid, especially in a multi-microgrid context, and their impact deserves a deep investigation of communication devices and channel networks."}, {"heading": "4.2 Notation", "text": "In general, given a MG like the one depicted in Fig. 1, thus consisting of several energy generators and loads, the aggregate electricity production can be defined as:\nPagg(t) = K\u2211 k=1 Pk(t), (1)\nwhere Pk(t) is the electrical power produced by the k-the producer within a set of K producers, at time sample t. Similarly, we can define the aggregate electrical power demand within the given MG:\nDagg(t) = L\u2211 l=1 Dl(t), (2)\nwhere Dl(t) is the amount of the demanded electricity effectively consumed by the i-th user within a set of L consumers, at time sample t. The MG is equipped with a BESS, whose detailed model will be provided in Sec. 4.6 below. Hence, at the abstraction level of the controller, the electricity storage can be characterized by the SOC variable, defined as:\nSOCmin \u2264 SOC(t) \u2264 SOCmax, SOCmin \u2265 0, (3)\nwhere SOCmin and SOCmax represent the lower and the maximum threshold values for the SOC, respectively. In other words, these values constitute the interval of admissibility for the charge level of the battery unit. Considering both the aggregate demand time profile (1) and the aggregate production time profile (2) within the given MG, the power balance can be defined as:\nBal(t) = Pagg(t)\u2212Dagg(t); (4)\nFinally, we will denote with Cbuy(t) and Csell(t) the price signals in buying and selling energy from/to the main-grid, respectively."}, {"heading": "4.3 MG State", "text": "The MG state at time sample t, from the point of view of the controller, depends on the energy balance, the energy price signals and the State Of Charge (SOC) of the storage unit. Therefore, it is possible to define a generic MG state as:\nS(t) = {Bal(t), SOC(t), Cbuy(t), Csell(t)}. (5)\nThe energy balance value (4) defines three distinct sub-states in which the MG can be found, namely:\n1. if Bal(t) < 0, the MG has a deficit of energy (underproduction state);\n2. if Bal(t) = 0, the produced energy fulfills the internal demand (equilibrium state);\n3. if Bal(t) > 0, the MG has a surplus of energy (overproduction state).\nFor each given sub-state we can have the following contingencies for the storage unit:\n1. If SOC(t) = SOCmin, the available charge has a null value;\n2. If SOC(t) = SOCmax, the charge has a maximum value;\n3. If SOCmin \u2264 SOC(t) \u2264 SOCmax, the available charge has an intermediate value. The above reported fine grained classification leads to define a set of control actions taking into account also the energy price signals."}, {"heading": "4.4 Control Actions", "text": "The inference process underlying the controller is performed by a set of control actions dispatched to actuators. The control actions depend on the MG state S(t). It is noted that, in the following, the term \u201ccrisp\u201d [20] relies to the distinction made in FL among crisp sets, that are ordinary sets and fuzzy sets defined by a MF, as it will discussed in the following Sec. 5. The set of control actions is defined as:\natot = {FORCED CHARGE, FORCED BUY,\nFORCED SELL,\n(1\u2212 \u03b1)CHARGE \u2227 \u03b1SELL, (1\u2212 \u03b2)DISCHARGE \u2227 \u03b2 BUY }\n(6)\nHence, for the generic action we have: a(t) \u2286 atot. (7)\nIn addition, the set of actions just defined can be split in two disjoint subsets:\n1. \u201cforced\u201d action that are \u201ccrisp\u201d action due to: i) the energy deficit in the MG and the lack of available BESS charge, or ii) the energy surplus in the MG and the capacity limit reached by the BESS;\n2. \u201cfuzzy\u201d actions that depend on two real valued parameters \u03b1, \u03b2 \u2208 [0, 1] encoding respectively:\n(a) the quantity of energy to sell to the main-grid or used to feed the battery;\n(b) the quantity of energy to purchase from the main-grid or to draw from the battery.\nThe disambiguation task about these cases is performed by a suitable module \u2013 see Fig. 3 \u2013 able to evaluate the MG state S(t), in charge of selecting the activation of the crisp decision making procedure or the fuzzy one. For the first subset of control actions it is defined the energy exchange in input and output from/to the main-grid, as:\nEout(t) = \u03b1(t)Bal(t) = \u03b1(t) [Pagg(t)\u2212Dagg(t)]\u2206T (8) Ein(t) = \u03b2(t)Bal(t) = \u03b2(t) [Pagg(t)\u2212Dagg(t)]\u2206T, (9)\nwhere \u03b1, \u03b2 are real numbers in [0, 1] and \u2206T is the time slot width. It is noted that the unitary value for both the \u03b1 and \u03b2 control parameters leads to actions that overlaps with the set of \u201ccrisp\u201d actions. However, these ones must be classified as deliberate choice leaded by the inference module, rather than \u201cforced actions\u201d. The second subset of control actions refers to the energy exchanges with the energy storage device, that at the abstraction level of the controller, is governed with the following dynamical equation regarding the SOC [21]: SOC(t) = SOC(t\u2212 1) + h(t), (10) where h(t) is the signed quantity of charge exchanged with the MG, as required at each time step by the FLC."}, {"heading": "4.5 Market Policies and Objective Function", "text": "Given the purchasing and selling price signals and the energy exchanged with the main grid 9, it follows that the economical balance of the MG is:\nProfit(t) = Revenue(t)\u2212 Expense(t). (11)\nThe last equation is the accounting profit (or the accounting loss, depending on the sign of the first term of (11) for each time sample and it is the difference between the revenues and the expenses arising from the energy trading. In Eq. (11) the revenues and the expenses are defined respectively:\nRevenue(t) = Csell(t)Pout(t)\u2206T (12)\nExpense(t) = Cbuy(t)Pin(t)\u2206T, (13)\nwhere Csell(t) is the selling price and Cbuy(t) is the purchasing price. The last two equation in (12),(13) and thus the (11) are functions of the parameters \u03b1 and \u03b2 that are the output of the inference process based on the FLC. The presence of the energy storage capacity that constitutes a degree of freedom of the control system allows, for example, in the case of surplus of the energy production to store energy if the current selling price is low and to sell the stored energy when the price is high. On the basis of the economic policies chosen for the given MG, it is possible to define an objective function that the controller has to fulfill. The objective function introduced in the current work, that is optimized by an evolutionary algorithm capable of fine tuning the FLC parameters, is the overall profit on a finite temporal horizon of N time samples. Therefore, the objective function is defined as:\nN\u2211 t=1 Profit(t) = N\u2211 t=1 Revenue(t)\u2212 Expense(t). (14)"}, {"heading": "4.6 The Battery Model", "text": "At the abstraction level of the controller the energy storage capacity linked to the given MG is modeled by means of the (10), through the temporal dynamic of the SOC parameter [10, 21]. In order to exploit a more realistic model of the MG, the BESS model is enriched with physical real-world characteristics regarding battery devices currently used in battery-to-grid applications. Precisely, the model proposed in the current section is based on a real-word Li-on battery suitable for grid-tied applications [14, 21, 28, 44]. Today, Li-on batteries are not only used in consumer electronics but also in Smart Grid, as energy storage capacity for MGs or in V2G applications [15, 25, 27]. The Li-on technology is characterized by both a good ratio power/weight (about 150 Wh/Kg) and an high efficiency that exceed 90%. A fundamental parameter in a battery model is the efficiency \u03b7e, defined as the energy fraction that we can recover from the battery after storing a given amount of energy. The efficiency parameter can be represented as:\n\u03b7e = \u222b ts 0 Is(t) Vs(t) dt\u222b tc\n0 Ic(t) Vc(t) dt\n, (15)\nwith: { Vs, Is = Discharging Current and Voltage Vc, Ic = Charging Current and Voltage\nMoreover, starting from the equivalent circuit of a generic battery \u2013 see Fig. 4 \u2013 it is possible to outline the fundamental parameters able to increase the accuracy of the battery model. The model foresees an ideal voltage source VOCV that consists in the open-circuit voltage of the battery and an internal resistance Rint.\nThe Ibat and Vbat represent respectively the output current and voltage. From the circuit scheme depicted in Fig. 4, VOCV and Rint depend on the SOC value, hence:\nVOCV = f1(SOC), (16)\nRint =\n{ Rch = f2(SOC) Charge,\nRdis = f3(SOC) Discharge. (17)\nVbat = VOCV \u2212Rint Ibat, (18) SOC = SOCini \u2212 \u222b ts 0 \u03b7 Ibat Q dt, (19)\n\u03b7 =  \u03b7ch = VOCV VOCV \u2212Rch Ibat\nCharge,\n\u03b7dis = VOCV \u2212Rdis Ibat\nVOCV Discharge.\n(20)\nThe \u03b7ch and the \u03b7dis values are respectively the charging and discharging efficiency, while Q is the capacity of the battery (it is measured in Ah) representing the amount of electric current intensity that the battery is able to supply in a time interval of one hour. Both the efficiencies \u03b7ch and \u03b7dis together with the internal resistance Rint can take values depending on the state of the battery. Therefore, VOCV and Rint are variables that are functions of the charging state [26]."}, {"heading": "5 Fuzzy control of a MG", "text": "FL is a very useful paradigm in dealing with fuzzy concepts expressed by fuzzy words (i.e. High, Low, Warm, Cold, etc.) in computational and algorithmic frameworks and, as Lotfi A. Zadeh stated: Fuzzy Logic means \u201ccomputing with words\u201d [46]. Moving from this general concepts, in Engineering and in particular in the Control Systems field, researchers developed the Fuzzy Logic Modeling (FLM) paradigm to tackle control problems in complex systems aiming to model the underlying uncertainty [22]. As baseline for the control scheme of the proposed MG model, in our previous work [10] it is developed a FLC of Mamdani type capable to express an approximate reasoning method in order to control a real-world system, integrating knowledge coming from human experts [29]."}, {"heading": "5.1 The basic Fuzzy Control Scheme", "text": "As established in Sec. 4.4, the controller can manage a particular type of control rules that depend on two real-valued parameters, namely \u03b1 and \u03b2. Such parameters are currently computed by means of two FISs whose scheme is depicted in Fig. 5. Formally, input variables, normalized in the real-valued range [0,1], are computed separately by two functions \u03a61 and \u03a62 defined as follows:\n\u03b1(t) = \u03a61(bal(t), SOC(t), Csell(t)) (21a)\n\u03b2(t) = \u03a62(bal(t), SOC(t), Cbuy(t)) (21b)\nBoth FISs are based on a Mamdani type fuzzy linguistic model able to introduce semi-qualitative if-than fuzzy rules. The paradigm used for our problem is the Multiple Input Single Output (MISO). Hence, given a fixed number of inputs, a MISO FIS compute a single real-valued output. More specifically, given p antecedents in a conjunctive form, the structure of the fuzzy rule can be written as:\nRi: If x1 is Ai1 andx2 isAi2 and...andxp isAip\nthen y is Bi withwi, wi \u2208 [0, 1], i = 1, 2, ...,K. (22)\nwhere xj is a real number interpreted as a singleton MF, Aij and Bi are fuzzy labeled sets, i.e., the antecedent and consequent linguistic terms, and wi are rule weights measuring the i-th rule strength among a set of K fuzzy rules. Moreover, the Fuzzy Conjunction of the antecedents i.e., the \u201cand\u201d operator, and the Fuzzy Implication, i.e. the \u201cthen\u201d operator, are suitable triangular norm [22, 23]. Fuzzy rules, representing fuzzy implications or relations [22], in a conjunctive form decomposes the input domain into a set of fuzzy hyperboxes, obtaining a grid partition of the FIS input domain. If FIS parameters are tuned by an optimization procedure the partition is said to be adaptive [18]. Nowadays, numerous fuzzy reasoning models have been developed and they are characterized by the number and the type of parameters, the shape of MFs and the \u201cdefuzzification methods\u201d. The last refers to a procedure to obtain a single scalar value from a fuzzy set [24].\nWithin the fuzzy-GA paradigm and in the simpler learning scheme, a Genetic Algorithm (GA) is adopted to optimize only the MF parameters. The rationale is that the GA evolves a set of FISs and returns, by means of an evolutionary procedure imitating the natural selection, the best among a population in terms of a suitable and well-defined performance measure or objective function."}, {"heading": "5.2 Fuzzy Logic Controller optimization: the classic scheme", "text": "Depending on the parameters of a FLC that one decides to tune, we can fulfill different parameter learning schemes. In the first fuzzy control scheme, that is the simpler, the GA is applied to a procedure for knowledge learning and in part of structure learning [42]. The basics of the optimization scheme for the proposed control problem, obtained through a standard GA is depicted in Fig. 6. For each of the three input in (21) and for the output we employed three fuzzy labels, while for the shape of the input and output MFs we adopted the triangular ones. The form of a general fuzzy rule with three antecedents is:\nIF x1 IS Ai1 AND x2 IS Ai2 AND x3 IS Ai3\nTHEN y IS Bi with wi. (23)\nFor the number of fuzzy rules we have chosen a maximal set, that is the maximum allowed by a regular grid partition, induced by the fuzzy rules structure defined in (23), namely 27. Having three inputs and working\nwith triangular MFs the descriptive fuzzy reasoning method leads to a simple encoding scheme \u2013 see Fig. 7 \u2013 for the FLC parameters, namely the MF parameters and the rule weights wi. For both the FISs each gene represents a particular FIS instance and each allele represents the parameter subject to the evolutionary tuning. Having three parameters for each triangular MF with three input and one output for the FLC, the length of the overall chromosome accounts for 9 + 9 + 9 + 9 = 36, being 9 the number of parameters that needs for describing three triangular shaped MFs. The FIS composed by 27 rules is thus characterized by a chromosome consisting of 36 + 27 = 63 elements. Consequently, the whole chromosome, defining the two FIS in the proposed FLC, will account for 126 real bounded values."}, {"heading": "5.3 Fuzzy Logic Controller optimization: Hierarchical Genetic Algorithm", "text": "Given an instance of a basic FLC, as the one described in Sec. 5.1, the task is now to try to optimize together with the MF parameters and weights also the number of fuzzy rules. In other words starting from the adaptive grid partition structure generated by the antecedents of the fuzzy reasoning, we want to find a\nminimal set of rules. The basic FLC, in fact, operates the inference with a maximal set of fuzzy rule that are encoded following a suitable scheme depicted in Fig. 7. In the search process, considering the number K of fuzzy rules as a further degree of freedom, it is possible to improve the performance of the overall mechanism of inference and at the same time obtaining a simpler and more understandable structure of the fuzzy RB. This problem can be faced, within the fuzzy-GA paradigm, using a multiple chromosome scheme. The rationale is to partition the chromosome in two separate sections S1 and S2, each one with a different meaning. More precisely, genes in S1 can activate or deactivate genes of S2. The increasing complexity of the genetic code demands suited genetic operators. By adopting a multiple chromosome scheme it is possible to decompose the problem in small sub-problems, reflecting the decomposition of the genetic code in smaller units, each one ruled by its own genetic operator. The multi-chromosome scheme, as the entire Genetic Programming discipline, is inspired by Nature. In fact, such methodology is widely used in Erokaryotes organisms, i.e. some bacteria and plant species [35]. This approach, whose performances are studied in [34], is adopted only when the problem at hand need such characteristic representation of the chromosome. In [34] authors apply the multiple chromosome scheme to a mixed integer programming problem consisting in the control of an industrial machinery, where the need is to activate the machinery A only when it is compliant with the overall cost reduction. The multiple chromosome has a section containing the control genes that encode the activation status of a particular machinery, while the remaining part, consisting of parametric genes, encodes for the amount of produced goods. In [19] the multiple chromosome scheme is adopted for the solution of the multiple Traveling Salesman Problem (mTSP), that is a complex combinatorial optimization problem. A particular approach to the multiple chromosome scheme is the hierarchical chromosome one, that leads to a family of GAs, known as Hierarchical Genetic Algorithms (HGAs). The multiple chromosome representation is based on partitioning it in two sections, one containing the control genes and the other the parametric genes. The control genes encode for the activation of a particular sub-section of the parametric genes."}, {"heading": "5.3.1 HGA chromosome representation", "text": "The adopted chromosome encoding scheme is based on a mixed binary and real-valued string [3], where the real-valued genes encode the MF parameters and the rule weights, while the binary genes, as control genes, encode the activation of MFs. In Fig. 8 is depicted the adopted encoding scheme for both FISs. The overall\nchromosome can be formally written as:\np = [pbin preal], (24)\nwhere pbin = [p1, p2, . . . , pN ], pi \u2208 {0, 1} , \u2200i = 1, . . . , N , being N the total number of the input MFs and preal = [pN+1, pN+2, . . . , pM ], pj \u2208 R, \u2200j = N + 1, . . . ,M , being M the total number of MFs and fuzzy\nrules encoded in the chromosome. Considering as granulation of each input 2 external trapezoidal shaped MFs, described by 2 parameters each, and 3 internal triangular shaped MFs, described by 3 parameters each, the chromosome structure for one FIS is the following.\n\u2022 The number Nbin of control genes is given by the product Nbin = NMFin \u00d7Nin, where NMFin is the number of the input MFs and Nin is the number of the FIS input variables. Thus, for for an input described by 5 MFs, we have 3\u00d7 5 = 15 control genes.\n\u2022 The number Nreal of parametric genes is composed by the number of input and output MF parameters 13 + 13 + 13 + 13 = 52 followed by the number of rules weights, 5 \u00d7 5 \u00d7 5 = 125. Thus, we have Nreal = 52 + 125 = 177 parametric genes.\n\u2022 Finally, the total length of the genetic code is equal to 177 + 15 = 192 genes.\nConsequently, the whole chromosome, defining the two FIS in the proposed FLC, will account for 384 real bounded values."}, {"heading": "5.3.2 GA initialization and search space constraints", "text": "Among the several ways available for generating the initial population, in the current work it is adopted the simple random generation, compliant with given suitable constraints, with the aim to cover the overall search space for the GA. Regarding the admissible values of the alleles encoding the MF parameters, we follow the method presented in [9].\nAs concerns the constraints for the weights of the fuzzy rules, (w1, w2, . . . , wK , ), each one is allowed to range in [0, 1]. Once we define the constraints, the initial values for each allele can be generated through the extraction of a uniformly distributed random variable within the interval constraints. For the control genes, as binary strings, the domain of the random variables is the binary valued set {0, 1} and the random extraction process assigns equal probability to the two possible values."}, {"heading": "5.3.3 Mixed genetic operators", "text": "The chromosome representation given in (24) is based on the distinction between the control genes and the parametric genes. This separation leads to an heavy simplification of the design process for the genetic operators. It is well-known that the crossover operator is an important genetic operator that can effectively exchange and recombine genetic material from two selected parents. The hierarchical scheme allows to a semantic separation of the genetic material leading to design a mixed crossover operator consisting of a specific simple operator for control genes and a suitable operator for the parametric genes. Hence, the adopted mixed crossover is realized as follows:\n\u2022 for the control genes pbin it is designed a simple \u201cone cut-point\u201d crossover where the cutting point is set by randomly drawing from a uniform distribution;\n\u2022 for the parametric genes preal it is applied a \u201cconvex crossover operator\u201d described by the following relations [3]:\npnew1 = \u03bb preal1 + (1\u2212 \u03bb) preal2 (25) pnew2 = \u03bb preal2 + (1\u2212 \u03bb) preal1, (26)\nwhere pnew1 and pnew2 are the offspring\u2019s chromosomes, while preal1 and preal2 are the parent\u2019s chromosomes and \u03bb is a random value, such as \u03bb \u2208 [0, 1].\nThe mutation operator is crucial for the exploration capability of the overall optimization algorithm, allowing a suitable variability in the population. More specifically, the mutation operator is designed to change one or more genes depending on a suitable mutation rate used as threshold for a given probability value for the mutation of each allele. Even for the mutation operator it is adopted a mixed scheme:\n\u2022 for the binary section pbin of the chromosome it is applied a single point mutation operator in which the mutation point is chosen randomly.\n\u2022 for the real-valued section preal of the chromosome the \u201cnon-uniform\u201d mutation operator is performed. The genetic operator takes into account the age of the given population in a way that the mutation effect vanishes with the progression of the generations. More specifically, given a chromosome preal for a selected gene preal,k, the resulting offspring gene is generated choosing randomly among the following relations [3]:\npnew,k = preal,k + ( pUreal,k \u2212 preal,k ) b ( 1 \u2212 g\nG\n)a (27)\npnew,k = preal,k + ( preal,k \u2212 pLreal,k ) b ( 1 \u2212 g\nG\n)a , (28)\nwhere pUreal,k and p L real,k are, respectively, the upper and lower bounds for preal,k, b \u2208 [0, 1] is a random\nuniformly distributed real value, g is the current generation index and G the predefined maximum number of generations. Finally, a is a parameter determining the decay speed.\nWe remark that the main difference between the two evolutionary approaches, namely classic fuzzy-GA and fuzzy-HGA, lies in a higher number of degrees of freedom available for the FIS optimization. In fact, a composite encoding scheme capable of turning off/on each fuzzy set allows a more effective exploration of the search space. If we call S the set of all FIS(\u0398) depending on a set of structural parameters \u0398 = {\u03b8MF , \u03b8w, \u03b8r}, where the subscript MF,w, r refer to the membership function parameters, the rule weights and the fuzzy rules, respectively, the fuzzy-HGA scheme is able to explore a subset S\u2032 \u2286 S. Borrowing the Linear Algebra jargon, the fuzzy-HGA scheme can explore a subspace of the overall space which hosts the FISs. S can contain FISs with poorly performing fuzzy rules that the GA could evaluate in order to optimize the objective function, lowering in this way the overall search efficiency. In fact, among a huge set of fuzzy rules, many of them can be useless (for example because are centered onto input space regions corresponding to infrequent system states), or even harmful for the overall performances (for example, if the parameters of the related membership functions are not well tuned). Thus, according to the Occam\u2019s Razor criterion, a tuning procedure able to perform a reduction of the structural complexity of the Rule Base (and thus of the FIS) is fundamental to improve the overall performances of the EMS"}, {"heading": "6 Experimental Evaluation", "text": "This section reports several experimental evaluations with the aim to measure the performance of the fuzzyHGA control system adopted for the energy flow optimization task in the proposed MG model. Specifically the performance of the proposed FLC is measured in a suitable scenario on a time-span of one year reporting the results for several configurations of the energy storage device connected to the MG and for two mutation parameters of the given GA. Finally, it is provided a comparison with the basic fuzzy-GA paradigm described in 5.2 and studied in our previous work [10], where only the MF parameters and the rule weights are tuned."}, {"heading": "6.1 Experimental setting", "text": "The scenario considered for experiments consists of a medium dimension MG. The basic scheme is depicted in Fig. 9. The MG model is equipped with a distributed resources like a photo-voltaic generator (PVGS)\nand a wind generator (WPGS). The model is completed with an energy storage capacity of 24 kWh and the control system (EMS) based on fuzzy-HGA paradigm where a hierarchical evolutionary algorithm (HGA) is in charge of learning the FLC parameters and, at the same time, the number of adopted fuzzy rules. The control system manages the energy flow of the MG in input and output maximizing the accounting profit, dispatching control actions depending on: the energy balance, the SOC of the battery and the price signal of the energy \u2013 see Sec. 4.\nExperiments are performed on real-world data set provided by Acea Distribuzione S.p.A., the electric distribution utility that manages the power grid of Rome in Italy. The electricity demand and production time profiles regard measurements in a time-span of one year and are sampled every 15 minutes. The overall dataset has been split in two disjoint set, training set and test set, considering the odd and the even time samples, respectively. The parameters of the FLC are learned on the training set and the performances of the EMS are evaluated on the test set. The daily cost profiles, in generic monetary units (MU), are reported in Fig. 10. It is noted that the adopted electricity prices are multi-hours tariffs. In fact, the selling price is high during the day when the demanded energy is high, while it is lower in the night when the power is generated by only the wind source.\nThe model of the energy storage capacity is the one described in Sec. 4.6 referring to the circuital scheme of Fig. 4. The storage unit used for experiments is modeled on the basis on a SCiB battery, developed by Toshiba, with storage capacity of 24 kWh. Simulations are performed on the basis of two main configurations resumed in Tab. 1. The defuzzification method used is the Mean of Maximum (MoM). For the two FISs,\nthe starting configuration is depicted in Fig. 12. The fuzzy rules optimization task is obtained by a Hierarchical Genetic Algorithm (HGA) as described in Sec. 5.3. The initial population is composed by 40 individuals. The genetic operators used for the proposed HGA are described in Sec. 5.3.3. The selection operator is the \u201cstochastic uniform\u201d, while the crossover and the mutation operators are of mixed type, such as the \u201cone point\u201d crossover and mutation adopted for the control genes, while for the parametric genes a \u201cconvex\u201d crossover (26) and a \u201cnon-uniform\u201d mutation (28)\nare used. The decay speed a is set to 1, the \u201ccrosover fraction\u201d is 0.8, while the mutation rate \u03c1 is evaluated\nfor two values: 0.001 and 0.01. Finally the proposed objective function is given by expression (14)."}, {"heading": "6.2 Preliminary experiments", "text": "As preliminary experiments we compare the two battery configurations resumed in Tab. 1 with two scenarios characterized by two different mutation rate values: \u03c1 = {0.01, 0.1}. The electricity prices, as input data, are those described above in Sec. 6.1 and range in the entire year. The HGA searching results within the Config. N\u00b0 1 and \u03c1 = 0.01, leaded to the MFs depicted in Figs. 13, 14 with the following control chromosome sections \u2013 see Sec. 5.3.1:\npbin(\u03b1) = [1 1 1 0 0 | 0 0 1 0 1 | 0 0 1 0 1]; (29) pbin(\u03b2) = [0 0 1 1 1 | 1 1 1 0 1 | 1 0 1 1 1]. (30)\nResults reported in Tab. 2 show how the FLC obtains good accounting profit performances also using an\nhigher mutation rate. It is noted how the Config. N\u00b0 2, characterized by a higher efficiency and a lower threshold limit (SOCmin = 15%) for the SOC, leads to a further improvement of the accounting profit due to the lower expenses related to energy purchase. The main causes can be found in: i) a better use of the energy storage system with an high value of the efficiency that allows to store a greater amount of electric charge leading to lower losses; ii) the introduced threshold value constrains the controller to undertake \u201ccrisp actions\u201d charging the battery when the SOC is lower than SOCmin. The above described behavior can be observed in Figs. 15, 16 where are reported, for a suitable time interval: the SOC, the power production, the power consumption, the energy purchased and the energy sold for the second and third configuration, respectively, and reported in Tab. 2. Fig. 17 shows, for the same configurations, the electric power drawn from and stored in the battery, while in Fig. 18 are depicted the expenses, the revenues and the accounting profit time profiles of one sample day. As concerns the number of rules returned by the fuzzy-HGA algorithm for all the configurations evaluated, it has been found lower than the maximum value corresponding to the complete coverage of the input space using all the available MFs."}, {"heading": "6.3 Comparison with the classic fuzzy-GA method", "text": "The following section proposes a performance comparison between the herein studied fuzzy-HGA scheme and the classic fuzzy-GA scheme reported in [10] and resumed in Sec. 5.2. As concerns the fuzzy-HGA scheme,\nwe have the same considerations reported in Sec. 6.1. Both systems are provided with same input data and parameters as concerns the MG model. The number of GA generations is fixed to the value of 100 and the initial population, initialized randomly, consists of 40 individuals. The fitness function is the one reported in\n(14). For the configuration of the energy storage system both MGs are provided with an accumulator with 24 kWh capacity whose configuration is the N\u00b0 2 (\u03c1 = 0.01) reported in Tab. 1.\nFigs. 19 and 20 show the time profiles of the battery SOC together with the power produced and demanded, the energy sold and purchased and the overall financial accounting performances.\nResults in Tab. 3 show an increase of performance for the fuzzy-HGA system compared with the classic fuzzy-GA approach. In fact the hierarchical structure of the GA allows to learn, in addition to the shape of MFs and the rules weights, also the number of rules searching for a suitable cardinality of the RB. This greater degree of freedom is obtained allowing more adaptation capability of the FIS to the environment with the cost of a greater complexity of the whole GA algorithm. However, this increment in the learning procedure complexity has the advantage of reducing the structural complexity of the optimized FIS, in terms\nof both the number of rules and the number of antecedents, as shown for instance in Fig. 13 and Fig. 14. This results in simpler FISs, lowering the overall computational cost of the EMS when taking decisions in real time."}, {"heading": "7 Conclusions", "text": "Computational intelligence techniques are today a consolidated framework for solving engineering problems such as challenges arising in Smart Grid context. In this paper we study a portion of a Smart Grid, acting as a microgrid, characterized by the presence of renewable sources and equipped with a BESS unit allowing trading operations with the main-grid related to energy exchanges. The considered MG model has been sized for small-scale applications, such as small energy grids in rural areas or small housing units in urban areas, considered as atomic elements of a larger a multi-microgrid system. The decision making task is carried on through a Fuzzy Logic Controller optimized by a Hierarchical Genetic Algorithm able to tune FLCs parameters (i.e. the MF parameters and the fuzzy rule weights) minimizing, at the same time, the number of fuzzy rules. The fuzzy rules number optimization is carried out in FLCs thanks to the hierarchical structure of the adopted chromosome representation consisting of two main sections having a different semantic meaning. The control section, encoded as a binary string, controls the activation of the parametric section representing the MF parameters and the weights of fuzzy rules. The specific encoding scheme of the HGA offers a higher flexibility in tuning the FLC in comparison with the classic scheme which foresees a fixed and maximal number of rules due to the rigidity of the chromosome length. The proposed method for EMS synthesis incorporates a learning step. In fact, once FIS rules are optimized by considering training set data through an off-line procedure running on a plain workstation, the trained rules\ncan be uploaded into an embedded system (a microcontroller) ready to work in real-time. From this point of view, the added complexity of the HGA scheme can be well managed off-line by an inexpensive workstation (such as an Intel i7 6thh generation with 32 Gb of ram), exploiting its power in evolving suitable rules without affecting the real time operations. Note that the final aim of the HGA algorithm is the reduction of the structural complexity of the rule base in the FIS, dropping the number of rules and the number of antecedents in each rule. Consequently, with respect to a FIS resulting from a learning procedure based on a plain version of a Genetic Algorithm, the microcontroller is in charge to handle a lower number of\nrules in performing decision making, in a given time interval. Moreover, note that the typical dynamics characterizing a microgrid (at the considered abstraction level) are slow enough to set the length of the time interval in the order of minutes (15 minutes, in the considered case). Consequently, even an entry level and inexpensive microcontroller (such as an \u201cArduino Due\u201d board, based on the Atmel SAM3X8E ARM Cortex-M3 CPU) has sufficient computational power to handle a great number of fuzzy rules in such time intervals. The fuzzy-HGA paradigm is thereby evaluated for some configuration of the MG parameters, battery model parameters and genetic operator parameters with the aim to study the overall behavior of the fuzzy control system. A further comparison is performed between a classic optimization scheme within the fuzzy-GA paradigm and the adopted fuzzy-HGA. The classic GA scheme foresees the optimization of the MF parameters together with the fuzzy rule weights in a fixed Rule Base (RB) whose cardinality is maximal (grid partition). The fuzzy-HGA algorithm outperforms the classic fuzzy-GA scheme by 67%. The hierarchical encoding method of the FIS parameters and the definition of suited genetic operators explain the improvement in performance reached at the cost of a more complex design of the GA and of the encoding scheme. However, this additional computational cost at design and training stages is balanced with the possibility to obtain simpler FLCs in terms of number of rules, allowing the real time implementation of the complete control system on low cost embedded electronic devices."}, {"heading": "8 Future works", "text": "Results are encouraging and suggest to work in future developments on both MG modeling and learning. Future developments foresee the definition of suitable measures, such as i) the stress of the battery in charging and discharging processes, ii) the stress of the main-grid in terms of undesired fast changes of power flow between the MG and the main-grid. These measures can be considered as additional objectives (that are likely conflicting with the main one based on prosumer profit) aiming at controlling both the stress of the storage system and that of the main-grid. A mono-objective or a muti-objective GA scheme can be adopted taking into account the possibility of tuning the fuzzy controller allowing different behaviors, such as promoting the auto-consumption, lowering the battery stress or the workload on the main-grid. Furthermore, an interesting future scenario consists in performing a spatial granulation of the whole considered distribution network, where each territorial granule acts as a MG, each one able to exchange energy with other spatially close MGs and/or with the main-grid, with different pricing programs. The MGs can have different characteristics in terms of aggregate demand, production, energy source type and storage systems. Moreover, to increase the model reliability, it is interesting to consider power losses in energy exchange between MGs. The intrinsic heterogeneity of MGs together with the loss factors and the learning features fulfilled within the fuzzy-HGA paradigm allow to study the behavior of the MG acting as agents, with possible emerging cooperative behavior in satisfying objective functions defined by a higher level controller. Hence, in this augmented scenario some of the initial assumption adopted through the model can be relaxed and the MGs can be equipped with a suitable model of telecommunication network, taking into account also the capacity constraints in data delivery. Moreover the MG can foresee a demand composed of schedulable loads such as smart appliances and electric vehicles, allowing to design suitable demand response (DR) programs able to act together with the FLC aiming to optimize predefined objectives. From the learning side, it is really interesting to apply other nature inspired methods such as autoimmune or bacterial optimization algorithms for the optimization of the FLCs. Furthermore, a FLC with a Sugeno inference core can be adopted as the main fuzzy decision module and the HGA could be suitably adapted in order to obtain a fair comparison with the Mamdani controller."}], "references": [{"title": "Optimal charging strategies for unidirectional vehicle-to-grid using fuzzy uncertainties", "author": ["M. Ansari", "A.T. Al-Awami", "M. Abido", "E. Sortomme"], "venue": "In T D Conference and Exposition,", "citeRegEx": "1", "shortCiteRegEx": "1", "year": 2014}, {"title": "Fuzzy logic-based energy management system design for residential grid-connected microgrids", "author": ["D. Arcos-Aviles", "J. Pascual", "L. Marroyo", "P. Sanchis", "F. Guinjoan"], "venue": "IEEE Transactions on Smart Grid,", "citeRegEx": "2", "shortCiteRegEx": "2", "year": 2016}, {"title": "Simultaneous auto-tuning of membership functions and fuzzy control rules using genetic algorithms", "author": ["Y.Y.F.C.N. Ko", "T.L. Lee", "C.J. Wu"], "venue": "In Systems, Man and Cybernetics,", "citeRegEx": "3", "shortCiteRegEx": "3", "year": 2006}, {"title": "The ieee computer society smart grid vision project opens opportunites for computational intelligence", "author": ["D. Cartes", "J. Chow", "D. McCaugherty", "S. Widergren", "G. Venayagamoorthy"], "venue": "In Evolving and Adaptive Intelligent Systems (EAIS),", "citeRegEx": "4", "shortCiteRegEx": "4", "year": 2013}, {"title": "Intelligent economic operation of smart-grid facilitating fuzzy advanced quantum evolutionary method", "author": ["S. Chakraborty", "T. Ito", "T. Senjyu", "A. Saber"], "venue": "Sustainable Energy, IEEE Transactions on,", "citeRegEx": "5", "shortCiteRegEx": "5", "year": 2013}, {"title": "Multiobjective intelligent energy management for a microgrid", "author": ["A. Chaouachi", "R.M. Kamel", "R. Andoulsi", "K. Nagasaka"], "venue": "IEEE Transactions on Industrial Electronics,", "citeRegEx": "6", "shortCiteRegEx": "6", "year": 2013}, {"title": "FEMAN: Fuzzy-based energy management system for green houses using hybrid grid solar power", "author": ["A. Chehri", "H.T. Mouftah"], "venue": "Journal of Renewable Energy,", "citeRegEx": "7", "shortCiteRegEx": "7", "year": 2013}, {"title": "Optimal integration of plug-in hybrid electric vehicles in microgrids", "author": ["C. Chen", "S. Duan"], "venue": "Industrial Informatics, IEEE Transactions on,", "citeRegEx": "8", "shortCiteRegEx": "8", "year": 1917}, {"title": "Genetic Fuzzy Systems: Evolutionary Tuning and Learning of Fuzzy Knowledge Bases, volume 19 of Advances in Fuzzy Systems\u2013Applications and Theory", "author": ["O. Cord\u00f3n", "F. Herrera", "F. Hoffmann", "L. Magdalena"], "venue": "World Scientific Publishing Co. Pte. Ltd.,", "citeRegEx": "9", "shortCiteRegEx": "9", "year": 2001}, {"title": "Genetic optimization of a fuzzy control system for energy flow management in micro-grids", "author": ["E. De Santis", "A. Rizzi", "A. Sadeghian", "F.M. Frattale Mascioli"], "venue": "In 2013 Joint IFSA World Congress and NAFIPS Annual Meeting,", "citeRegEx": "10", "shortCiteRegEx": "10", "year": 2013}, {"title": "A learning intelligent system for fault detection in smart grid by a one-class classification approach", "author": ["E. De Santis", "A. Rizzi", "A. Sadeghian", "F.M.F. Mascioli"], "venue": "In Neural Networks (IJCNN),", "citeRegEx": "11", "shortCiteRegEx": "11", "year": 2015}, {"title": "Optimal scheduling of a microgrid with a fuzzy logic controlled storage system", "author": ["J.P. Fossati", "A. Galarza", "A. Mart\u0301\u0131n-Villate", "J.M. Echever\u0155\u0131a", "L. Font\u00e1n"], "venue": "International Journal of Electrical Power and Energy Systems,", "citeRegEx": "12", "shortCiteRegEx": "12", "year": 2015}, {"title": "Toward a smart grid: Integration of computational intelligence into power grid", "author": ["H. He"], "venue": "In Neural Networks (IJCNN), The 2010 International Joint Conference on,", "citeRegEx": "13", "shortCiteRegEx": "13", "year": 2010}, {"title": "Lithium-ion battery systems", "author": ["T. Horiba"], "venue": "Proceedings of the IEEE,", "citeRegEx": "14", "shortCiteRegEx": "14", "year": 2014}, {"title": "Model-based dynamic power assessment of lithium-ion batteries considering different operating conditions", "author": ["X. Hu", "R. Xiong", "B. Egardt"], "venue": "Industrial Informatics, IEEE Transactions on,", "citeRegEx": "15", "shortCiteRegEx": "15", "year": 1948}, {"title": "Wind power forecasting in a residential location as part of the energy box management decision tool", "author": ["C. Ioakimidis", "L. Oliveira", "K. Genikomsakis"], "venue": "Industrial Informatics, IEEE Transactions on,", "citeRegEx": "16", "shortCiteRegEx": "16", "year": 2014}, {"title": "Performance analysis of wireless mesh routing protocols for smart utility networks", "author": ["G. Iyer", "P. Agrawal", "E. Monnerie", "R.S. Cardozo"], "venue": "IEEE International Conference on Smart Grid Communications (SmartGridComm),", "citeRegEx": "17", "shortCiteRegEx": "17", "year": 2011}, {"title": "Neuro-fuzzy and Soft Computing: A Computational Approach to Learning and Machine Intelligence", "author": ["J.-S.R. Jang", "C.-T. Sun"], "venue": null, "citeRegEx": "18", "shortCiteRegEx": "18", "year": 1997}, {"title": "A novel approach to solve multiple traveling salesmen problem by genetic algorithm", "author": ["A. Kir\u00e1ly", "J. Abonyi"], "venue": "In Computational Intelligence in Engineering,", "citeRegEx": "19", "shortCiteRegEx": "19", "year": 2010}, {"title": "Fuzzy sets and fuzzy logic, volume 4", "author": ["G. Klir", "B. Yuan"], "venue": "Prentice Hall New Jersey,", "citeRegEx": "20", "shortCiteRegEx": "20", "year": 1995}, {"title": "Challenges in demand load control for the smart grid", "author": ["I. Koutsopoulos", "L. Tassiulas"], "venue": "Network, IEEE,", "citeRegEx": "21", "shortCiteRegEx": "21", "year": 2011}, {"title": "Fuzzy logic in control systems: fuzzy logic controller", "author": ["C. Lee"], "venue": "i. Systems, Man and Cybernetics, IEEE Transactions on,", "citeRegEx": "22", "shortCiteRegEx": "22", "year": 1990}, {"title": "Fuzzy logic in control systems: fuzzy logic controller", "author": ["C. Lee"], "venue": "ii. Systems, Man and Cybernetics, IEEE Transactions on,", "citeRegEx": "23", "shortCiteRegEx": "23", "year": 1990}, {"title": "Defuzzification: criteria and classification", "author": ["W.V. Leekwijck", "E.E. Kerre"], "venue": "Fuzzy Sets and Systems,", "citeRegEx": "24", "shortCiteRegEx": "24", "year": 1999}, {"title": "Power management strategy for vehicular-applied hybrid fuel cell/battery power system", "author": ["X. Li", "L. Xu", "J. Hua", "X. Lin", "J. Li", "M. Ouyang"], "venue": "Journal of Power Sources,", "citeRegEx": "25", "shortCiteRegEx": "25", "year": 2009}, {"title": "Fuzzy logic based coordinated controller for wind/battery/idsms hybrid micro-grid power system", "author": ["X. Li", "D. Hui", "X. Lai", "M. Ouyang", "Y. Min"], "venue": "In Computer Engineering and Technology (IC- CET),", "citeRegEx": "26", "shortCiteRegEx": "26", "year": 2010}, {"title": "Online management of lithium-ion battery based on time-triggered controller area network for fuel-cell hybrid vehicle applications", "author": ["X. Li", "J. Li", "L. Xu", "M. Ouyang", "X. Han", "L. Lu", "C. Lin"], "venue": "Journal of Power Sources,", "citeRegEx": "27", "shortCiteRegEx": "27", "year": 2010}, {"title": "Overview of current development in electrical energy storage technologies and the application potential in power system operation", "author": ["X. Luo", "J. Wang", "M. Dooner", "J. Clarke"], "venue": "Applied Energy,", "citeRegEx": "28", "shortCiteRegEx": "28", "year": 2015}, {"title": "An experiment in linguistic synthesis with a fuzzy logic controller", "author": ["E. MAMDANI", "S. ASSILIAN"], "venue": "Int. J. Hum.-Comput. Stud.,", "citeRegEx": "29", "shortCiteRegEx": "29", "year": 1999}, {"title": "Cost-efficient environmentally-friendly control of micro-grids using intelligent decision-making for storage energy management", "author": ["Y. Manjili", "R. Vega", "M. Jamshidi"], "venue": "Intelligent Automation & Soft Computing,", "citeRegEx": "30", "shortCiteRegEx": "30", "year": 2013}, {"title": "Fuzzy control of electricity storage unit for energy management of micro-grids", "author": ["Y.S. Manjili", "A. Rajaee", "M. Jamshidi", "B.T. Kelley"], "venue": "In World Automation Congress (WAC),", "citeRegEx": "31", "shortCiteRegEx": "31", "year": 2012}, {"title": "Real-time energy management scheme for hybrid renewable energy systems in smart grid applications", "author": ["A. Mohamed", "O. Mohammed"], "venue": "Electric Power Systems Research,", "citeRegEx": "32", "shortCiteRegEx": "32", "year": 2013}, {"title": "A comprehensive review on microgrid and virtual power plant concepts employed for distributed energy resources scheduling in power systems", "author": ["S.M. Nosratabadi", "R.-A. Hooshmand", "E. Gholipour"], "venue": "Renewable and Sustainable Energy Reviews,", "citeRegEx": "33", "shortCiteRegEx": "33", "year": 2017}, {"title": "Using multi-chromosomes to solve a simple mixed integer problem", "author": ["H.J. Pierrot", "R. Hinterding"], "venue": "In Australian Joint Conference on Artificial Intelligence,", "citeRegEx": "34", "shortCiteRegEx": "34", "year": 1997}, {"title": "Multi-chromosomal genetic programming", "author": ["S.S.R. Cavill", "A. Tyrrell"], "venue": "Proc. of the 2005 Genetic and Evolutionary Computation Conference,", "citeRegEx": "35", "shortCiteRegEx": "35", "year": 2005}, {"title": "Putting the \u2019smarts\u2019 into the smart grid: A grand challenge for artificial intelligence", "author": ["S.D. Ramchurn", "P. Vytelingum", "A. Rogers", "N.R. Jennings"], "venue": "Commun. ACM,", "citeRegEx": "36", "shortCiteRegEx": "36", "year": 2012}, {"title": "Microgrid energy management system using fuzzy logic control", "author": ["L. Roin\u00e9", "K. Therani", "Y.S. Manjili", "M. Jamshidi"], "venue": "In 2014 World Automation Congress (WAC),", "citeRegEx": "37", "shortCiteRegEx": "37", "year": 2014}, {"title": "Modeling and recognition of smart grid faults by a combined approach of dissimilarity learning and one-class classification", "author": ["E.D. Santis", "L. Livi", "A. Sadeghian", "A. Rizzi"], "venue": null, "citeRegEx": "38", "shortCiteRegEx": "38", "year": 2015}, {"title": "Analysis of advanced metering over a wide area cellular network", "author": ["M.R. Souryal", "N. Golmie"], "venue": "In 2011 IEEE International Conference on Smart Grid Communications (SmartGridComm),", "citeRegEx": "39", "shortCiteRegEx": "39", "year": 2011}, {"title": "Applications of fuzzy logic in renewable energy systems\u2013a review", "author": ["L. Suganthi", "S. Iniyan", "A.A. Samuel"], "venue": "Renewable and Sustainable Energy Reviews,", "citeRegEx": "40", "shortCiteRegEx": "40", "year": 2015}, {"title": "Potentials and promises of computational intelligence for smart grids", "author": ["G.K. Venayagamoorthy"], "venue": "In Power Energy Society General Meeting,", "citeRegEx": "41", "shortCiteRegEx": "41", "year": 2009}, {"title": "Fuzzy relation based modeling for medical diagnostic decision support: Case studies", "author": ["K.B. Wagholikar", "A.W. Deshpande"], "venue": "Int. J. Know.-Based Intell. Eng. Syst.,", "citeRegEx": "42", "shortCiteRegEx": "42", "year": 2008}, {"title": "Computational intelligence for the smart grid-history, challenges, and opportunities", "author": ["P. Werbos"], "venue": "Computational Intelligence Magazine, IEEE,", "citeRegEx": "43", "shortCiteRegEx": "43", "year": 2011}, {"title": "Electrochemical energy storage for green grid", "author": ["Z. Yang", "J. Zhang", "M.C.W. Kintner-Meyer", "X. Lu", "D. Choi", "J.P. Lemmon", "J. Liu"], "venue": "Chemical Reviews,", "citeRegEx": "44", "shortCiteRegEx": "44", "year": 2011}, {"title": "The new frontier of smart grids", "author": ["X. Yu", "C. Cecati", "T. Dillon", "M. Sim\u00f5es"], "venue": "Industrial Electronics Magazine, IEEE,", "citeRegEx": "45", "shortCiteRegEx": "45", "year": 2011}, {"title": "Fuzzy logic = computing with words", "author": ["L.A. Zadeh"], "venue": "Fuzzy Systems, IEEE Transactions on,", "citeRegEx": "46", "shortCiteRegEx": "46", "year": 1996}], "referenceMentions": [{"referenceID": 44, "context": "[45].", "startOffset": 0, "endOffset": 4}, {"referenceID": 10, "context": "To achieve that vision, the current power grid has to be thought as a technological ecosystem that needs a strong injection of distributed intelligence [11].", "startOffset": 152, "endOffset": 156}, {"referenceID": 40, "context": "Venayagamoorthy argues that the current power grid can be considered a spatially and temporally complex, nonlinear and non-stationary system with a lot of uncertainties [41].", "startOffset": 169, "endOffset": 173}, {"referenceID": 3, "context": "Accordingly, the SG can be examined for all intents and purposes as a Complex System, and Computational Intelligence (CI) and Soft Computing (SC) techniques [4, 13, 36, 43], are widely adopted to face a plethora of applications and problems arising in the SG context.", "startOffset": 157, "endOffset": 172}, {"referenceID": 12, "context": "Accordingly, the SG can be examined for all intents and purposes as a Complex System, and Computational Intelligence (CI) and Soft Computing (SC) techniques [4, 13, 36, 43], are widely adopted to face a plethora of applications and problems arising in the SG context.", "startOffset": 157, "endOffset": 172}, {"referenceID": 35, "context": "Accordingly, the SG can be examined for all intents and purposes as a Complex System, and Computational Intelligence (CI) and Soft Computing (SC) techniques [4, 13, 36, 43], are widely adopted to face a plethora of applications and problems arising in the SG context.", "startOffset": 157, "endOffset": 172}, {"referenceID": 42, "context": "Accordingly, the SG can be examined for all intents and purposes as a Complex System, and Computational Intelligence (CI) and Soft Computing (SC) techniques [4, 13, 36, 43], are widely adopted to face a plethora of applications and problems arising in the SG context.", "startOffset": 157, "endOffset": 172}, {"referenceID": 7, "context": "The main CI paradigms for SG related problem solutions are: neuro-fuzzy, neuro-swarm, fuzzy-PSO, fuzzy-GA, neuroGenetic [8, 16, 38, 41].", "startOffset": 120, "endOffset": 135}, {"referenceID": 15, "context": "The main CI paradigms for SG related problem solutions are: neuro-fuzzy, neuro-swarm, fuzzy-PSO, fuzzy-GA, neuroGenetic [8, 16, 38, 41].", "startOffset": 120, "endOffset": 135}, {"referenceID": 37, "context": "The main CI paradigms for SG related problem solutions are: neuro-fuzzy, neuro-swarm, fuzzy-PSO, fuzzy-GA, neuroGenetic [8, 16, 38, 41].", "startOffset": 120, "endOffset": 135}, {"referenceID": 40, "context": "The main CI paradigms for SG related problem solutions are: neuro-fuzzy, neuro-swarm, fuzzy-PSO, fuzzy-GA, neuroGenetic [8, 16, 38, 41].", "startOffset": 120, "endOffset": 135}, {"referenceID": 32, "context": "Hence, SC techniques can help managing the complexity of problems offering reliable solutions, especially in presence of non-linearity [33] and in presence of storage devices that increase the solution space of the unit commitment problem [12].", "startOffset": 135, "endOffset": 139}, {"referenceID": 11, "context": "Hence, SC techniques can help managing the complexity of problems offering reliable solutions, especially in presence of non-linearity [33] and in presence of storage devices that increase the solution space of the unit commitment problem [12].", "startOffset": 239, "endOffset": 243}, {"referenceID": 9, "context": "The current research follows our previous work [10] about an application of what we call classic fuzzy-GA paradigm to the problem of Flow Control Optimization in a Microgrid (MG).", "startOffset": 47, "endOffset": 51}, {"referenceID": 9, "context": "As concerns the first goal we move on from an ideal battery adopted in [10] designing an energy storage device based on a real-world model with suitable efficiency parameters.", "startOffset": 71, "endOffset": 75}, {"referenceID": 33, "context": "Accordingly, the strategy suggested by Nature can be modeled for solving a number of engineering problems, such as those involving mix integer programming methods [34] or fuzzy control applications demanding the joint optimization of both FISs parameters and RBs [3].", "startOffset": 163, "endOffset": 167}, {"referenceID": 2, "context": "Accordingly, the strategy suggested by Nature can be modeled for solving a number of engineering problems, such as those involving mix integer programming methods [34] or fuzzy control applications demanding the joint optimization of both FISs parameters and RBs [3].", "startOffset": 263, "endOffset": 266}, {"referenceID": 0, "context": "SC techniques are commonly adopted in applications dealing with uncertainties [1, 5].", "startOffset": 78, "endOffset": 84}, {"referenceID": 4, "context": "SC techniques are commonly adopted in applications dealing with uncertainties [1, 5].", "startOffset": 78, "endOffset": 84}, {"referenceID": 39, "context": "An interesting review on fuzzy logic and its hybrid approaches employed in the Smart Grids and microgrids context can be found in [40].", "startOffset": 130, "endOffset": 134}, {"referenceID": 36, "context": "In [37] a small-scale MG designed to provide power to local communities, able to connect or disconnect from the main-grid, is studied.", "startOffset": 3, "endOffset": 7}, {"referenceID": 32, "context": "FLCs can be designed to control the amount of power that should be taken from the battery system in case of power deficiency to cover the load demand in a scheduling process [33].", "startOffset": 174, "endOffset": 178}, {"referenceID": 31, "context": "The latter problem is faced in [32], optimizing distribution system operations in a SG, from cost and system stability points of view.", "startOffset": 31, "endOffset": 35}, {"referenceID": 1, "context": "In [2] is exploited a FLC in a MG Energy Management System (EMS) equipped by a BESS in order to apply peak shaving and valley filling and to limit the oscillation of energy exchanged with the network buffering the ESS.", "startOffset": 3, "endOffset": 6}, {"referenceID": 5, "context": "In [6] it has been considered a MG grid-connected equipped with a battery and a fuel cell.", "startOffset": 3, "endOffset": 6}, {"referenceID": 30, "context": "In the MG modeling field a FL-based framework is proposed in [31] aimed at controlling a BESS to achieve an high efficient management.", "startOffset": 61, "endOffset": 65}, {"referenceID": 29, "context": "In [30], the fuzzy-GA approach is adopted for controlling energy flows and for managing the MG, in presence of an electric storage unit and distributed renewable energy generation.", "startOffset": 3, "endOffset": 7}, {"referenceID": 11, "context": "In [12] authors propose, within the fuzzy-GA paradigm, an algorithm for optimizing the MG operations.", "startOffset": 3, "endOffset": 7}, {"referenceID": 6, "context": "A FL-based energy management, adopting a fixed Mamdani FIS, is studied in [7] for house consumption applications in presence of a solar source.", "startOffset": 74, "endOffset": 77}, {"referenceID": 32, "context": "1 Model\u2019s assumptions The entire control chain in a general microgrid can be considered as organized as a three level system: the field level (data acquisition and decentralized control), the SCADA level (supervision and control functions), and the planning and management level, which can be a decentralized EMS [33].", "startOffset": 313, "endOffset": 317}, {"referenceID": 16, "context": "16m and LTE could be used for the interface between smart meters and the central system [17, 39].", "startOffset": 88, "endOffset": 96}, {"referenceID": 38, "context": "16m and LTE could be used for the interface between smart meters and the central system [17, 39].", "startOffset": 88, "endOffset": 96}, {"referenceID": 19, "context": "It is noted that, in the following, the term \u201ccrisp\u201d [20] relies to the distinction made in FL among crisp sets, that are ordinary sets and fuzzy sets defined by a MF, as it will discussed in the following Sec.", "startOffset": 53, "endOffset": 57}, {"referenceID": 0, "context": "\u201cfuzzy\u201d actions that depend on two real valued parameters \u03b1, \u03b2 \u2208 [0, 1] encoding respectively: (a) the quantity of energy to sell to the main-grid or used to feed the battery; (b) the quantity of energy to purchase from the main-grid or to draw from the battery.", "startOffset": 65, "endOffset": 71}, {"referenceID": 0, "context": "For the first subset of control actions it is defined the energy exchange in input and output from/to the main-grid, as: Eout(t) = \u03b1(t)Bal(t) = \u03b1(t) [Pagg(t)\u2212Dagg(t)]\u2206T (8) Ein(t) = \u03b2(t)Bal(t) = \u03b2(t) [Pagg(t)\u2212Dagg(t)]\u2206T, (9) where \u03b1, \u03b2 are real numbers in [0, 1] and \u2206T is the time slot width.", "startOffset": 256, "endOffset": 262}, {"referenceID": 20, "context": "The second subset of control actions refers to the energy exchanges with the energy storage device, that at the abstraction level of the controller, is governed with the following dynamical equation regarding the SOC [21]: SOC(t) = SOC(t\u2212 1) + h(t), (10) where h(t) is the signed quantity of charge exchanged with the MG, as required at each time step by the FLC.", "startOffset": 217, "endOffset": 221}, {"referenceID": 9, "context": "6 The Battery Model At the abstraction level of the controller the energy storage capacity linked to the given MG is modeled by means of the (10), through the temporal dynamic of the SOC parameter [10, 21].", "startOffset": 197, "endOffset": 205}, {"referenceID": 20, "context": "6 The Battery Model At the abstraction level of the controller the energy storage capacity linked to the given MG is modeled by means of the (10), through the temporal dynamic of the SOC parameter [10, 21].", "startOffset": 197, "endOffset": 205}, {"referenceID": 13, "context": "Precisely, the model proposed in the current section is based on a real-word Li-on battery suitable for grid-tied applications [14, 21, 28, 44].", "startOffset": 127, "endOffset": 143}, {"referenceID": 20, "context": "Precisely, the model proposed in the current section is based on a real-word Li-on battery suitable for grid-tied applications [14, 21, 28, 44].", "startOffset": 127, "endOffset": 143}, {"referenceID": 27, "context": "Precisely, the model proposed in the current section is based on a real-word Li-on battery suitable for grid-tied applications [14, 21, 28, 44].", "startOffset": 127, "endOffset": 143}, {"referenceID": 43, "context": "Precisely, the model proposed in the current section is based on a real-word Li-on battery suitable for grid-tied applications [14, 21, 28, 44].", "startOffset": 127, "endOffset": 143}, {"referenceID": 14, "context": "Today, Li-on batteries are not only used in consumer electronics but also in Smart Grid, as energy storage capacity for MGs or in V2G applications [15, 25, 27].", "startOffset": 147, "endOffset": 159}, {"referenceID": 24, "context": "Today, Li-on batteries are not only used in consumer electronics but also in Smart Grid, as energy storage capacity for MGs or in V2G applications [15, 25, 27].", "startOffset": 147, "endOffset": 159}, {"referenceID": 26, "context": "Today, Li-on batteries are not only used in consumer electronics but also in Smart Grid, as energy storage capacity for MGs or in V2G applications [15, 25, 27].", "startOffset": 147, "endOffset": 159}, {"referenceID": 25, "context": "Therefore, VOCV and Rint are variables that are functions of the charging state [26].", "startOffset": 80, "endOffset": 84}, {"referenceID": 45, "context": "Zadeh stated: Fuzzy Logic means \u201ccomputing with words\u201d [46].", "startOffset": 55, "endOffset": 59}, {"referenceID": 21, "context": "Moving from this general concepts, in Engineering and in particular in the Control Systems field, researchers developed the Fuzzy Logic Modeling (FLM) paradigm to tackle control problems in complex systems aiming to model the underlying uncertainty [22].", "startOffset": 249, "endOffset": 253}, {"referenceID": 9, "context": "As baseline for the control scheme of the proposed MG model, in our previous work [10] it is developed a FLC of Mamdani type capable to express an approximate reasoning method in order to control a real-world system, integrating knowledge coming from human experts [29].", "startOffset": 82, "endOffset": 86}, {"referenceID": 28, "context": "As baseline for the control scheme of the proposed MG model, in our previous work [10] it is developed a FLC of Mamdani type capable to express an approximate reasoning method in order to control a real-world system, integrating knowledge coming from human experts [29].", "startOffset": 265, "endOffset": 269}, {"referenceID": 0, "context": "Formally, input variables, normalized in the real-valued range [0,1], are computed separately by two functions \u03a61 and \u03a62 defined as follows: \u03b1(t) = \u03a61(bal(t), SOC(t), Csell(t)) (21a) \u03b2(t) = \u03a62(bal(t), SOC(t), Cbuy(t)) (21b)", "startOffset": 63, "endOffset": 68}, {"referenceID": 0, "context": "andxp isAip then y is Bi withwi, wi \u2208 [0, 1], i = 1, 2, .", "startOffset": 38, "endOffset": 44}, {"referenceID": 21, "context": "the \u201cthen\u201d operator, are suitable triangular norm [22, 23].", "startOffset": 50, "endOffset": 58}, {"referenceID": 22, "context": "the \u201cthen\u201d operator, are suitable triangular norm [22, 23].", "startOffset": 50, "endOffset": 58}, {"referenceID": 21, "context": "Fuzzy rules, representing fuzzy implications or relations [22], in a conjunctive form decomposes the input domain into a set of fuzzy hyperboxes, obtaining a grid partition of the FIS input domain.", "startOffset": 58, "endOffset": 62}, {"referenceID": 17, "context": "If FIS parameters are tuned by an optimization procedure the partition is said to be adaptive [18].", "startOffset": 94, "endOffset": 98}, {"referenceID": 23, "context": "The last refers to a procedure to obtain a single scalar value from a fuzzy set [24].", "startOffset": 80, "endOffset": 84}, {"referenceID": 41, "context": "In the first fuzzy control scheme, that is the simpler, the GA is applied to a procedure for knowledge learning and in part of structure learning [42].", "startOffset": 146, "endOffset": 150}, {"referenceID": 34, "context": "some bacteria and plant species [35].", "startOffset": 32, "endOffset": 36}, {"referenceID": 33, "context": "This approach, whose performances are studied in [34], is adopted only when the problem at hand need such characteristic representation of the chromosome.", "startOffset": 49, "endOffset": 53}, {"referenceID": 33, "context": "In [34] authors apply the multiple chromosome scheme to a mixed integer programming problem consisting in the control of an industrial machinery, where the need is to activate the machinery A only when it is compliant with the overall cost reduction.", "startOffset": 3, "endOffset": 7}, {"referenceID": 18, "context": "In [19] the multiple chromosome scheme is adopted for the solution of the multiple Traveling Salesman Problem (mTSP), that is a complex combinatorial optimization problem.", "startOffset": 3, "endOffset": 7}, {"referenceID": 2, "context": "1 HGA chromosome representation The adopted chromosome encoding scheme is based on a mixed binary and real-valued string [3], where the real-valued genes encode the MF parameters and the rule weights, while the binary genes, as control genes, encode the activation of MFs.", "startOffset": 121, "endOffset": 124}, {"referenceID": 8, "context": "Regarding the admissible values of the alleles encoding the MF parameters, we follow the method presented in [9].", "startOffset": 109, "endOffset": 112}, {"referenceID": 0, "context": ", wK , ), each one is allowed to range in [0, 1].", "startOffset": 42, "endOffset": 48}, {"referenceID": 2, "context": "\u2022 for the parametric genes preal it is applied a \u201cconvex crossover operator\u201d described by the following relations [3]:", "startOffset": 114, "endOffset": 117}, {"referenceID": 0, "context": "where pnew1 and pnew2 are the offspring\u2019s chromosomes, while preal1 and preal2 are the parent\u2019s chromosomes and \u03bb is a random value, such as \u03bb \u2208 [0, 1].", "startOffset": 145, "endOffset": 151}, {"referenceID": 2, "context": "More specifically, given a chromosome preal for a selected gene preal,k, the resulting offspring gene is generated choosing randomly among the following relations [3]:", "startOffset": 163, "endOffset": 166}, {"referenceID": 0, "context": "where preal,k and p L real,k are, respectively, the upper and lower bounds for preal,k, b \u2208 [0, 1] is a random uniformly distributed real value, g is the current generation index and G the predefined maximum number of generations.", "startOffset": 92, "endOffset": 98}, {"referenceID": 9, "context": "2 and studied in our previous work [10], where only the MF parameters and the rule weights are tuned.", "startOffset": 35, "endOffset": 39}, {"referenceID": 9, "context": "3 Comparison with the classic fuzzy-GA method The following section proposes a performance comparison between the herein studied fuzzy-HGA scheme and the classic fuzzy-GA scheme reported in [10] and resumed in Sec.", "startOffset": 190, "endOffset": 194}], "year": 2017, "abstractText": "Bio-inspired algorithms like Genetic Algorithms and Fuzzy Inference Systems (FIS) are nowadays widely adopted as hybrid techniques in commercial and industrial environment. In this paper we present an interesting application of the fuzzy-GA paradigm to Smart Grids. The main aim consists in performing decision making for power flow management tasks in the proposed microgrid model equipped by renewable sources and an energy storage system, taking into account the economical profit in energy trading with the main-grid. In particular this study focuses on the application of a Hierarchical Genetic Algorithm (HGA) for tuning the Rule Base (RB) of a Fuzzy Inference System (FIS), trying to discover a minimal fuzzy rules set in a Fuzzy Logic Controller (FLC) adopted to perform decision making in the microgrid. The HGA rationale focuses on a particular encoding scheme, based on control genes and parametric genes applied to the optimization of the FIS parameters, allowing to perform a reduction in the structural complexity of the RB. This approach will be referred in the following as fuzzy-HGA. Results are compared with a simpler approach based on a classic fuzzy-GA scheme, where both FIS parameters and rule weights are tuned, while the number of fuzzy rules is fixed in advance. Experiments shows how the fuzzy-HGA approach adopted for the synthesis of the proposed controller outperforms the classic fuzzy-GA scheme, increasing the accounting profit by 67% in the considered energy trading problem yielding at the same time a simpler RB. keywords: Microgrid, Energy Management System, Battery Energy Storage, Power Flow Optimization, Storage System Management, Fuzzy Systems, Evolutionary Computation, Hierarchical Genetic Algorithms.", "creator": "LaTeX with hyperref package"}}}