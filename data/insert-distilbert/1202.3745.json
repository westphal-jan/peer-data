{"id": "1202.3745", "review": {"conference": "arxiv", "VERSION": "v1", "DATE_OF_SUBMISSION": "14-Feb-2012", "title": "Order-of-Magnitude Influence Diagrams", "abstract": "in promoting this paper, we develop a partial qualitative theory of constrained influence diagrams, that can be used to model and solve sequential decision making tasks when only qualitative ( or imprecise ) information information is available. our approach is based on an order - of - magnitude approximation of both probabilities and utilities and now allows for specifying partially ordered behavioral preferences via restricted sets of utility values. we also propose a dedicated variable elimination algorithm that can be applied for solving order - of - magnitude bounded influence diagrams.", "histories": [["v1", "Tue, 14 Feb 2012 16:41:17 GMT  (425kb)", "http://arxiv.org/abs/1202.3745v1", null]], "reviews": [], "SUBJECTS": "cs.AI", "authors": ["radu marinescu", "nic wilson"], "accepted": false, "id": "1202.3745"}, "pdf": {"name": "1202.3745.pdf", "metadata": {"source": "CRF", "title": "Order-of-Magnitude Influence Diagrams", "authors": ["Radu Marinescu", "Nic Wilson"], "emails": ["radu.marinescu@ie.ibm.com", "n.wilson@4c.ucc.ie"], "sections": [{"heading": null, "text": "In this paper, we develop a qualitative theory of influence diagrams that can be used to model and solve sequential decision making tasks when only qualitative (or imprecise) information is available. Our approach is based on an orderof-magnitude approximation of both probabilities and utilities and allows for specifying partially ordered preferences via sets of utility values. We also propose a dedicated variable elimination algorithm that can be applied for solving order-of-magnitude influence diagrams."}, {"heading": "1 INTRODUCTION", "text": "Influence diagrams have been widely used for the past three decades as a graphical model to formulate and solve decision problems under uncertainty. The standard formulation of an influence diagram consists of two types of information: qualitative information that defines the structure of the problem eg, the set of (discrete) chance variables describing the set of possible world configurations, the set of available decisions, as well as the dependencies between the variables, and quantitative information (also known as the parametric structure) that, together with the qualitative information, defines the model. The parametric structure is composed of the conditional probability distributions as well as the utility functions describing the decision maker\u2019s preferences. In general, the solution to an influence diagram depends on both types of information. Quite often, however, we may have precise knowledge of the qualitative information but only very rough (or imprecise) estimates of the quantitative parameters. In such cases, the standard solution techniques cannot be applied directly, unless the missing information is accounted for.\nIn this paper, we propose a qualitative theory for influence\n\u2217This work was supported in part by the Science Foundation Ireland under grant no. 08/PI/I1912\ndiagrams in which such partially specified sequential decision problems can be modeled and solved. In particular, we introduce the order-of-magnitude influence diagram model that uses an order-of-magnitude representation of the probabilities and utilities. The model allows the decision maker to specify partially ordered preferences via finite sets of utility values. In this case, there will typically not be a unique maximal value of the expected utility, but rather a set of them. To compute this set and also the corresponding decision policy we propose a dedicated variable elimination algorithm that performs efficient operations on sets of utility values. Numerical experiments on selected classes of influence diagrams show that as the quantitative information becomes more precise, the qualitative decision process becomes closer to the standard one.\nThe paper is organized as follows. Section 2 gives background on influence diagrams. In Section 3 we present the order-of-magnitude calculus as a representation framework for imprecise probabilities and utilities. Sections 4 and 5 describe the main operations over sets of order-ofmagnitude values and introduce the order-of-magnitude influence diagram model. In Section 6 we present the results of our empirical evaluation. Section 7 overviews related work, while Section 8 provides concluding remarks."}, {"heading": "2 INFLUENCE DIAGRAMS", "text": "An influence diagram is defined by a tuple \u3008X,D,U, G\u3009, where X = {X1, . . . , Xn} is a set of oval-shaped nodes labeled by the chance variables which specify the uncertain decision environment, D = {D1, . . . , Dm} is a set of rectangle-shaped nodes labeled by the decision variables which specify the possible decisions to be made in the domain, U = {U1, . . . , Ur} are diamond-shaped nodes labeled by the utility functions which represent the preferences of the decision maker, and G is a directed acyclic graph containing all the nodes X \u222a D \u222a U. As in belief networks, each chance variable Xi \u2208 X is associated with a conditional probability table (CPT) Pi = P (Xi|pa(Xi)), where pa(Xi) \u2286 X \u222a D \\ {Xi} are the parents of Xi in\nG. Similarly, each decision variable Dk \u2208 D has a parent set pa(Dk) \u2286 X \u222aD \\ {Dk} in G, denoting the variables whose values will be known at the time of the decision and may affect directly the decision. Non-forgetting is typically assumed for an influence diagram, meaning that a decision node and its parents are parents to all subsequent decisions. Finally, each utility node Uj \u2208 U is associated with a utility function that depends only on the parents pa(Uj) of Uj .\nThe decision variables in an influence diagram are typically assumed to be temporally ordered. Let D1, D2, ..., Dm be the order in which the decisions are to be made. The chance variables can be partitioned into a collection of disjoint sets I0, I1, . . . , Im. For each k, where 0 < k < m, Ik is the set of chance variables that are observed between Dk and Dk+1. I0 is the set of initial evidence variables that are observed before the first D1. Im is the set of chance variables left unobserved when the last decision Dm is made. This induces a partial order \u227a over X \u222a D, as follows: I0 \u227a D1 \u227a I1 \u227a \u00b7 \u00b7 \u00b7 \u227a Dm \u227a Im [5].\nA decision policy (or strategy) for an influence diagram is a list of decision rules \u2206 = (\u03b41, . . . , \u03b4m) consisting of one rule for each decision variable. A decision rule for the decision Dk \u2208 D is a mapping \u03b4k : \u2126pa(Dk) \u2192 \u2126Dk , where for a set S \u2286 X \u222a D, \u2126S is the Cartesian product of the individual domains of the variables in S. Solving an influence diagram is to find the optimal decision policy that maximizes the expected utility. The maximum expected utility (MEU) is equal to:\n\u2211\nI0\nmax D1\n\u00b7 \u00b7 \u00b7 \u2211\nIm\u22121\nmax Dm\n\u2211\nIm\n\n\nn \u220f\ni=1\nPi \u00d7 r \u2211\nj=1\nUj\n\n (1)\nExample 1 For illustration, consider the influence diagram displayed in Figure 1 which is based on the classic oil wildcatter decision problem [9]. An oil wildcatter must decide either to drill or not to drill for oil at a specific site.\nThe wildcatter could do a seismic test that will help determine the geological structure of the site. The test results can show a closed reflection pattern (indication of significant oil), an open pattern (indication of some oil), or a diffuse pattern (almost no hope of oil). The probabilistic knowledge consists of the CPTs P (O) and P (S|O, T ), while the utility function is the sum of U1(T ) and U2(D,O). The optimal policy is to perform the seismic test and to drill only if the test results show an open or a closed pattern. The maximum expected utility of this policy is 42.75.\nVariable Elimination Several exact methods have been proposed over the past decades for solving influence diagrams using local computations [10, 13, 11, 5, 3, 8]. These methods adapted classical variable elimination techniques, which compute a type of marginalization over a combination of local functions, in order to handle the multiple types of information (probabilities and utilities), marginalization ( \u2211\nand max) and combination (\u00d7 for probabilities, + for utilities) involved in influence diagrams. Since the alternation of \u2211\nand max in Eq. 1 does not commute in general, it prevents the solution technique from eliminating variables in any ordering. Therefore, the computation dictated by Eq. 1 must be performed along a legal elimination ordering that respects \u227a, namely the reverse of the elimination ordering is some extension of \u227a to a total order [5, 3]."}, {"heading": "3 FOUNDATIONS", "text": "Our approach towards a qualitative theory for influence diagrams is based on the qualitative decision theory proposed by Wilson [14]. Wilson\u2019s theory defines a set of abstract quantities called extended reals, denoted by R\u2217, that are used to represent qualitative probabilities and utilities. Each extended real is a rational function p/q where p and q are polynomials in \u01eb with coefficients in the rationals, where \u01eb is a very small but unknown quantity so that the extended reals can be used to represent information up to \u01eb precision. For example, quantities such as 1\u2212\u01eb and \u01eb might be used for qualitative probabilities likely and unlikely respectively, and \u01eb\u22121 for a high utility. These quantities can then be combined using standard arithmetic operations between polynomials for computing expected qualitative utilities. The resulting utilities are then compared among each other by means of a total order on R\u2217 that is defined in [14]."}, {"heading": "3.1 ORDER-OF-MAGNITUDE CALCULUS", "text": "Rather than using extended reals explicitly, we adopt a simpler calculus that allows us to reason about the \u201corder of magnitude\u201d of the extended reals [14]. We start with the definition of an order-of-magnitude value that represents a qualitative probability or utility value.\nDEFINITION 1 An order-of-magnitude value is a pair\n\u3008\u03c3, n\u3009, where \u03c3 \u2208 {+,\u2212,\u00b1} is called the sign and n \u2208 Z is called the order of magnitude, respectively.\nIntuitively, for each integer n we have an element \u3008+, n\u3009 meaning \u201cof order \u01ebn\u201d, and an element \u3008\u2212, n\u3009 meaning \u201cof order \u2212\u01ebn\u201d. Moreover, if we add something of order \u01ebn to something of order \u2212\u01ebn then the result can be of order \u00b1\u01ebm, for any m \u2265 n. To ensure closure of the calculus under addition, we therefore add the element \u3008\u00b1, n\u3009 representing this set of possibilities. In the following, we also define O = {\u3008\u03c3, n\u3009 | n \u2208 Z, \u03c3 \u2208 {+,\u2212,\u00b1}} \u222a {\u3008\u00b1,\u221e\u3009}, O\u00b1 = {\u3008\u00b1, n\u3009 | n \u2208 Z \u222a {\u221e}} and O+ = {\u3008+, n\u3009 | n \u2208 Z\u222a{\u221e}}. The element \u3008\u00b1,\u221e\u3009 will sometimes be written as 0, element \u3008+, 0\u3009 as 1, and element \u3008\u2212, 0\u3009 as -1.\nStandard arithmetic operations such as multiplication (\u00d7) and addition (+) follow from the semantics of the order-ofmagnitude values [14] and are defined next.\nDEFINITION 2 (multiplication) Let a, b \u2208 O be such that a = \u3008\u03c3,m\u3009 and b = \u3008\u03c4, n\u3009. We define a \u00d7 b = \u3008\u03c3 \u2297 \u03c4,m+ n\u3009, where \u221e+ n = n+\u221e = \u221e for n \u2208 Z\u222a {\u221e} and \u2297 is the natural multiplication of signs, namely it is the commutative operation on {+,\u2212,\u00b1} such that +\u2297\u2212 = \u2212, +\u2297+ = \u2212\u2297\u2212 = +, and \u2200\u03c3 \u2208 {+,\u2212,\u00b1}, \u03c3 \u2297\u00b1 = \u00b1.\nThis multiplication is associative and commutative, and \u2200a \u2208 O, a \u00d7 0 = 0 and a \u00d7 1 = a, respectively. Furthermore, for b \u2208 O \\ O\u00b1, we define b\u22121 to be the multiplicative inverse of b, namely \u3008\u03c3,m\u3009\u22121 = \u3008\u03c3,\u2212m\u3009 for \u03c3 \u2208 {+,\u2212}. Given a \u2208 O, we define a/b = a\u00d7 b\u22121.\nDEFINITION 3 (addition) Let a, b \u2208 O be such that a = \u3008\u03c3,m\u3009 and b = \u3008\u03c4, n\u3009. We define a + b to be: (1) \u3008\u03c3,m\u3009 if m < n; (2) \u3008\u03c4, n\u3009 if m > n; (3) \u3008\u03c3 \u2295 \u03c4,m\u3009 if m = n, where +\u2295+ = +, \u2212\u2295\u2212 = \u2212, and otherwise, \u03c3\u2295\u03c4 = \u00b1.\nAddition is associative and commutative, and a + 0 = a, \u2200a \u2208 O. For a, b \u2208 O, let \u2212b = \u22121 \u00d7 b and a \u2212 b = a+(\u2212b). Clearly, we can write \u2212\u3008\u03c3,m\u3009 = \u3008\u2212\u03c3,m\u3009, where \u2212(+) = \u2212, \u2212(\u2212) = + and \u2212(\u00b1) = \u00b1. We also have the distributivity: \u2200a, b, c \u2208 O, (a+ b)\u00d7 c = a\u00d7 c+ b\u00d7 c."}, {"heading": "3.2 ORDERING ON SETS OF", "text": "ORDER-OF-MAGNITUDE VALUES\nWe will use the following ordering over the elements of O, which is slightly stronger than that defined in [14].\nDEFINITION 4 (ordering) Let a, b \u2208 O be such that a = \u3008\u03c3,m\u3009 and b = \u3008\u03c4, n\u3009. We define the binary relation < on O by a < b if and only if either: (1) \u03c3 = + and \u03c4 = + and m \u2264 n; or (2) \u03c3 = + and \u03c4 = \u00b1 and m \u2264 n; or (3) \u03c3 = + and \u03c4 = \u2212; or (4) \u03c3 = \u00b1 and \u03c4 = \u2212 and m \u2265 n; or (5) \u03c3 = \u2212 and \u03c4 = \u2212 and m \u2265 n.\nGiven a, b \u2208 O, if a < b then we say that a dominates b. For A,B \u2286 O, we say that A < B if every element of\nB is dominated by some element of A (so that A contains as least as large elements as B), namely if for all b \u2208 B there exists a \u2208 A with a < b. As usual, we write a \u227b b if and only if a < b and it is not the case that b < a. It is easy to see that < is a partial order on O and the following monotonicity property holds:\nPROPOSITION 1 Let a, b, c \u2208 O. If a < b then a + c < b+ c, and if a < b and c \u2208 O+ then a\u00d7 c < b\u00d7 c.\nAny finite set of order-of-magnitude values can therefore be represented by its maximal elements with respect to <.\nDEFINITION 5 (maximal set) Given a finite set A \u2286 O, we define the maximal set of A, denoted by max<(A), to be the set consisting of the undominated elements in A, namely max<(A) = {a \u2208 A | \u2204b \u2208 A such that b \u227b a}."}, {"heading": "4 OPERATIONS ON SETS OF", "text": "ORDER-OF-MAGNITUDE VALUES\nWe introduce now the main operations that can be performed over partially ordered finite sets of order-ofmagnitude values. In particular, we extend the addition (+) and multiplication (\u00d7) operations from singleton to sets of order-of-magnitude values as well as define a maximization operation over such sets."}, {"heading": "4.1 ADDITION, MULTIPLICATION AND MAXIMIZATION", "text": "Given two finite sets A,B \u2286 O and q \u2208 O+, we define the summation and multiplication operations as A + B = {a + b | a \u2208 A, b \u2208 B} and q \u00d7 A = {q \u00d7 a | a \u2208 A}, respectively. The maximization operation is defined by max(A,B) = max<(A \u222aB).\nIn order to use the order-of-magnitude calculus to define a qualitative version of influence diagrams we need to be sure that each of +, \u00d7 and max is commutative and associative, and also to give sufficient conditions such that the following distributivity properties hold:\n\u2200q, q1, q2 \u2208 O+ and \u2200A,B,C \u2286 O\nD1 q \u00d7 (A+B) = (q \u00d7A) + (q \u00d7B)\nD2 (q1 + q2)\u00d7A = (q1 \u00d7A) + (q2 \u00d7A)\nD3 max(A,B) + C = max(A,C) + max(B,C)\nIt is easy to see that +, \u00d7 and max are commutative and associative, and the distributivity properties (D1) and (D3) hold as well. Unfortunately, the distributivity property (D2) does not always hold for sets of order-of-magnitude values. To give a simple example, let q1 = \u3008+, 2\u3009, q2 = \u3008+, 3\u3009 and let A = {\u3008\u00b1, 1\u3009, \u3008\u00b1, 4\u3009}. Then, (q1+q2)\u00d7A yields the set\n{\u3008\u00b1, 3\u3009, \u3008\u00b1, 6\u3009}, whereas (q1 \u00d7 A) + (q2 \u00d7 A) is equal to {\u3008\u00b1, 3\u3009, \u3008\u00b1, 4\u3009, \u3008\u00b1, 6\u3009}. This property does however hold for convex sets, as we will show next."}, {"heading": "4.2 CONVEX SETS AND CONVEX CLOSURE", "text": "Based on Definition 5, every element of a finite set A \u2286 O is dominated by some maximal element in A. We can therefore define an equivalence relation between finite sets of order-of-magnitude values, as follows.\nDEFINITION 6 (relation \u2248) Given two finite sets A,B \u2286 O, we say that A is \u2248-equivalent with B, denoted by A \u2248 B, if and only if A < B and B < A.\nClearly, \u2248 is an equivalence relation, namely it is reflexive, symmetric and transitive. We then have that:\nPROPOSITION 2 Let A,B,C \u2286 O be finite sets and let q \u2208 O+. The following properties hold: (1) A \u2248 B if and only if max<(A) = max<(B); (2) if A \u2248 B then A+ C \u2248 B + C and q \u00d7A \u2248 q \u00d7B.\nWe introduce next the notions of convex sets and convex closure of sets of order-of-magnitude values.\nDEFINITION 7 A set A \u2286 O is said to be convex if \u2200q1, q2 \u2208 O+ with q1 + q2 = 1, and \u2200a, b \u2208 A, we have that (q1 \u00d7 a) + (q2 \u00d7 b) \u2208 A. The convex closure C(A) of a set A \u2286 O is defined to consist of every element of the form \u2211k\ni=1(qi \u00d7 ai), where k is an arbitrary natural\nnumber, each ai \u2208 A, each qi \u2208 O+ and \u2211k i=1 qi = 1.\nConsider two elements \u3008\u03c3,m\u3009 and \u3008\u03c4, n\u3009 in O, where we can assume without loss of generality that m \u2264 n. Any convex combination of these two elements is of the form \u3008\u03b8, l\u3009 where l \u2208 [m,n] and if l < n then \u03b8 = \u03c3; if l = n then \u03b8 = \u03c3\u2295\u03c4 or \u03b8 = \u03c4 . This implies that the convex combination of a finite number of non-zero elements is finite (since every element a in the convex combination has its order restricted to be within a finite range), and so, in particular can be represented by its maximal set. In fact, this property holds even if we allow the zero element \u3008\u00b1,\u221e\u3009. We can define now the following equivalence relation:\nDEFINITION 8 (relation \u2261) Given the finite sets A,B \u2286 O, we say that A is \u2261-equivalent with B, denoted by A \u2261 B, if and only if C(A) \u2248 C(B).\nTherefore, two sets of order-of-magnitude values are considered equivalent if, for every convex combination of elements of one, there is a convex combination of elements of the other which is at least as good.\nPROPOSITION 3 Let A,B,C \u2286 O be finite sets and let q \u2208 O+. The following properties hold: (1) A \u2261 B if and only if max<(C(A)) = max<(C(B)); (2) if A \u2261 B then A+ C \u2261 B + C, q \u00d7A \u2261 q \u00d7B, and A \u222a C \u2261 B \u222a C.\nWe can show now that any finite subset of O is in fact \u2261- equivalent with a set of order-of-magnitude values containing one or two elements, namely:\nTHEOREM 1 Let A be any finite subset of O. Then either A \u2261 {a} for some a \u2208 O, or \u2203 m,n \u2208 Z with m < n and \u03c3 \u2208 {+,\u2212,\u00b1} such that A \u2261 {\u3008\u00b1,m\u3009, \u3008\u03c3, n\u3009}."}, {"heading": "4.3 OPERATIONS ON EQUIVALENT SETS OF", "text": "ORDER-OF-MAGNITUDE VALUES\nTheorem 1 allows us to efficiently perform the required operations (ie, summation, multiplication and maximization) on sets of order-of-magnitude values. We assume that the subsets O are either singleton sets or are of the form {\u3008\u00b1,m\u3009, \u3008\u03c3, n\u3009}, where m < n. We need to ensure that the outputs are of this form as well. For a given a \u2208 O, we use the notation \u03c3(a) and a\u0302 to denote the sign and the order of magnitude of a, respectively,\nMultiplication Given A \u2286 O of the required form, and q \u2208 O+, we need to generate a set A\u2032 that is \u2261-equivalent with q \u00d7A. Write q as \u3008+, l\u3009. If A = {\u3008\u03c3,m\u3009} then q \u00d7A is just equal to the singleton set {\u3008\u03c3, l+m\u3009}. Otherwise, A is of the form {\u3008\u00b1,m\u3009, \u3008\u03c3, n\u3009}, where m < n. Then q\u00d7A equals {\u3008\u00b1, l + m\u3009, \u3008\u03c3, l + n\u3009}, which is of the required form, since l +m < l + n.\nMaximization Given the sets A1, A2, . . . , Ak \u2286 O, each of them having the required form, we want to compute a set A\u2032 that is \u2261-equivalent to max(A1, . . . , Ak). Let A = A1 \u222a \u00b7 \u00b7 \u00b7 \u222a Ak and, for \u03c3 \u2208 {+,\u2212,\u00b1}, we define m\u03c3 and n\u03c3 as follows: if there exists no element a \u2208 A with \u03c3(a) = \u03c3 then we say that m\u03c3 and n\u03c3 are both undefined; otherwise we have that m\u03c3 = min{l : \u3008\u03c3, l\u3009 \u2208 A} and n\u03c3 = max{l : \u3008\u03c3, l\u3009 \u2208 A}, respectively. The set A\u2032 is computed as follows: (1) if m+ and m\u00b1 are both undefined (there are only negative elements) then A\u2032 = {\u3008\u2212, n\u2212\u3009}; (2) if m+ is defined and either m+ \u2264 m\u00b1 or m\u00b1 is undefined then A\u2032 = {\u3008+,m+\u3009}; (3) if m+ > m\u00b1 (and both are defined) then A\u2032 = {\u3008\u00b1,m\u00b1\u3009, \u3008+,m+\u3009}; (4) if m+ is undefined (no positive elements) and either n\u00b1 \u2265 n\u2212 or n\u2212 is undefined then A\u2032 = {\u3008\u00b1,m\u00b1\u3009, \u3008\u00b1, n\u00b1\u3009} ; and (5) if m+ is undefined (there are no positive elements) and n\u00b1 < n\u2212 then A\u2032 = {\u3008\u00b1,m\u00b1\u3009, \u3008\u2212, n\u2212\u3009}.\nSummation Given the sets A1, A2, . . . , Ak \u2286 O of required form as before, we want to compute a set A\u2032 that is \u2261-equivalent to (A1 + \u00b7 \u00b7 \u00b7 + Ak). We can write Ai as {ai, bi} where if ai 6= bi then \u03c3(ai) = \u00b1 and a\u0302i < b\u0302i. Then, (A1 + \u00b7 \u00b7 \u00b7+Ak) \u2261 {a, b} where a = a1 + \u00b7 \u00b7 \u00b7+ ak and b = b1 + \u00b7 \u00b7 \u00b7 + bk. We can write b more explicitly as \u3008\u03c3(b), b\u0302\u3009 where b\u0302 = min(b\u03021, . . . , b\u0302k), and \u03c3(b) = + if and only if all bi with minimum b\u0302i have \u03c3(bi) = +; else \u03c3(b) = \u2212 if all bi with minimum b\u0302i have \u03c3(bi) = \u2212; else \u03c3(b) = \u00b1. Similarly for a. If \u03c3(a) 6= \u00b1 then {a, b} reduces to a singleton because a = b.\nExample 2 Consider the sets A1 = {\u3008\u00b1, 3\u3009, \u3008\u00b1, 4\u3009} and A2 = {\u3008\u00b1, 3\u3009, \u3008\u00b1, 6\u3009}. To generate A\u2032 \u2261 max(A1, A2), we first compute m\u00b1 = 3 and n\u00b1 = 6, and then we have that A\u2032 = {\u3008\u00b1, 3\u3009, \u3008\u00b1, 6\u3009} which corresponds to the extreme points of the input sets. Similarly, we can compute the set A\u2032\u2032 \u2261 (A1 +A2) as {\u3008\u00b1, 3\u3009, \u3008\u00b1, 4\u3009}."}, {"heading": "4.4 DISTRIBUTIVITY PROPERTIES REVISITED", "text": "In summary, we can show now that all three distributivity properties hold with respect to the \u2261-equivalence relation between finite sets of order-of-magnitude values.\nTHEOREM 2 \u2200q, q1, q2 \u2208 O+ and \u2200A,B,C \u2286 O finite sets we have that: (D1) q\u00d7 (A+B) \u2261 (q\u00d7A)+ (q\u00d7B); and (D2) (q1 + q2)\u00d7A \u2261 (q1 \u00d7A) + (q2 \u00d7A); and (D3) max(A,B) + C \u2261 max(A,C) + max(B,C)."}, {"heading": "5 ORDER-OF-MAGNITUDE INFLUENCE DIAGRAMS", "text": "In this section, we introduce a new qualitative version of the influence diagram model based on an order-of-magnitude representation of the probabilities and utilities."}, {"heading": "5.1 THE QUALITATIVE DECISION MODEL", "text": "An order-of-magnitude influence diagram (OOM-ID) is a qualitative counterpart of the standard influence diagram graphical model. The graphical structure of an OOM-ID is identical to that of a standard ID, namely it is a directed acyclic graph containing chance nodes (circles) for the random discrete variables X, decision nodes (rectangles) for the decision variables D, and utility nodes (diamonds) for the local utility functions U of the decision maker. The directed arcs in the OOM-ID represent the same dependencies between the variables as in the standard model. Each chance node Xi \u2208 X is associated with a conditional probability distribution P oi that maps every configuration of its scope to a positive order-of-magnitude probability value, namely P oi : \u2126Xi\u222apa(Xi) \u2192 O+. The utility functions Uoj \u2208 U represent partially ordered preferences which are expressed by finite sets of order-of-magnitude values, namely Uoj : \u2126Qj \u2192 2 O, where Qj is the scope of Uj .\nSolving an order-of-magnitude influence diagram is to find the optimal policy \u2206 = (\u03b41, . . . , \u03b4m) that maximizes the order-of-magnitude expected utility \u220fn\ni=1 P o i \u00d7\n\u2211r\nj=1 U o j .\nWe define the optimal policies set of an order-of-magnitude influence diagram to be the set of all policies having the same maximum order-of-magnitude expected utility."}, {"heading": "5.2 AN EXAMPLE", "text": "Figure 2 displays the order-of-magnitude probability and utility functions of an OOM-ID corresponding to the oil\nwildcatter decision problem from Example 1. For our purpose, we used an extension of Spohn\u2019s mapping from the original probability distributions and utility functions to their corresponding order-of-magnitude approximation [12, 2]. Specifically, given a small positive \u01eb < 1, the order-of-magnitude approximation of a probability value p \u2208 (0, 1] is \u3008+, k\u3009 such that k \u2208 Z and \u01ebk+1 < p \u2264 \u01ebk, while the order-of-magnitude approximation of a positive utility value u > 0 is \u3008+,\u2212k\u3009 such that \u01eb\u2212k \u2264 u < \u01eb\u2212(k+1) (the case of negative utilities is symmetric). For example, if we consider \u01eb = 0.1 then the probability P (S = closed|O = dry, T = yes) = 0.01 is mapped to \u3008+, 2\u3009, while the utilities U2(O = dry,D = yes) = \u221270 and U2(O = soaking,D = yes) = 200 are mapped to \u3008\u2212,\u22121\u3009 and \u3008+,\u22122\u3009, respectively.\nTable 1 shows the optimal policies sets (including the maximum order-of-magnitude expected utility) obtained for the order-of-magnitude influence diagrams corresponding to \u01eb \u2208 {0.1, 0.01, 0.001}. When \u01eb = 0.1, we can see that there are two optimal policies having the same maximum order-of-magnitude expected utility, namely \u22061 (for T = yes) and \u22062 (for T = no). Therefore, if the seismic test is performed (T = yes) then drilling is to be done only if the test results show an open or closed pattern. Otherwise (T = no), the wildcatter will drill regardless of the test results. Ties like these at the decision variables are expected given that the order-of-magnitude probabilities and utilities represent abstractions of the real values. The expected utilities of \u22061 and \u22062 in the original influence diagram are\n42.75 and 20.00, respectively.\nWhen \u01eb = 0.01, we also see that both drilling options are equally possible if the seismic test is performed and the test results show a diffuse pattern. In this case, there are four optimal policies having the same maximum order-ofmagnitude expected utility. Finally, when \u01eb = 0.001, we can see that all decision options are possible and the corresponding optimal policies set contains 128 policies. The explanation is that the order-of-magnitude influence diagram contains in this case only trivial order-of-magnitude values such as \u3008+, 0\u3009, \u3008\u2212, 0\u3009 and \u3008+,\u221e\u3009, respectively."}, {"heading": "5.3 VARIABLE ELIMINATION", "text": "Theorem 2 ensures the soundness and correctness of a variable elimination procedure using the summation (+), multiplication (\u00d7) and maximization (max) operations over partially ordered sets of order-of-magnitude values, for solving order-of-magnitude influence diagrams.\nTherefore, a variable elimination algorithm that computes the optimal policy of an order-of-magnitude influence diagram (and also the maximum order-of-magnitude expected utility) is described by Algorithm 1. The algorithm, called ELIM-OOM-ID, is based on Dechter\u2019s bucket elimination framework for standard influence diagrams [3] and uses a bucket structure constructed along a legal elimination ordering o = Y1, . . . Yt of the variables in X\u222aD. The bucket data-structure, called buckets, associates each bucket with a single variable. The bucket of Yp contains all input probability and utility functions whose highest variable is Yp.\nThe algorithm processes each bucket, top-down from the last to the first, by a variable elimination procedure that computes new probability (denoted by \u03bb) and utility (denoted by \u03b8) components which are then placed in corresponding lower buckets (lines 1\u201311). The \u03bbp of a chance bucket is generated by multiplying all probability components and eliminating by summation the bucket variable. The \u03b8p of a chance bucket is computed as the average utility of the bucket, normalized by the bucket\u2019s compiled \u03bbp. For a decision variable, we compute the \u03bbp and \u03b8p components in a similar manner and eliminate the bucket variable by maximization. In this case, the product of the probability components in the bucket is a constant when viewed as a function of the bucket\u2019s decision variable [5, 15] and therefore, the compiled \u03bbp is a constant as well.\nIn the second, bottom-up phase, the algorithm computes an optimal policy. The decision buckets are processed in reverse order, from the first variable to the last. Each decision rule is generated by taking the argument of the maximization operator applied over the combination of the probability and utility components in the respective bucket, for each configuration of the variables in the bucket\u2019s scope (ie, the union of the scopes of all functions in that bucket minus the\nAlgorithm 1: ELIM-OOM-ID Data: An OOM-ID \u3008X,D,U, G\u3009, bucket structure along a legal\nelimination ordering of the variables o Result: An optimal policy \u2206 // top-down phase for p = t downto 1 do1 let \u039bp = {\u03bb1, ..., \u03bbj} and \u0398p = {\u03b81, ..., \u03b8k} be the2 probability and utility components in buckets[p] if Yp is a chance variable then3\n\u03bbp \u2190 \u2211\nYp\n\u220fj i=1 \u03bbi4\n\u03b8p \u2190 (\u03bbp)\u22121 \u00d7 \u2211 Yp (( \u220fj i=1 \u03bbi)\u00d7 ( \u2211k j=1 \u03b8j))5 else if Yp is a decision variable then6 if \u039bp = \u2205 then \u03b8p \u2190 maxYp \u2211k j=1 \u03b8j7 else8 \u03bbp \u2190 maxYp \u220fj i=1 \u03bbi9\n\u03b8p \u2190 maxYp(( \u220fj i=1 \u03bbi)\u00d7 ( \u2211k j=1 \u03b8j))10\nplace each \u03bbp and \u03b8p in the bucket of the highest-index11 variable in its scope\n// bottom-up phase for p = 1 to t do12 if Yp is a decision variable then13 \u03b4p \u2190 argmaxYp(( \u220fj i=1 \u03bbi)\u00d7 ( \u2211k j=1 \u03b8j))14 \u2206 \u2190 \u2206 \u222a \u03b4p15\nreturn \u220616\nbucket variable Yp).\nTHEOREM 3 (complexity) Given an OOM-ID with n variables, algorithm ELIM-OOM-ID is time and space O(n \u00b7 kw \u2217\no ), where w\u2217o is the treewidth of the legal elimination ordering o and k bounds the domain size of the variables."}, {"heading": "6 EXPERIMENTS", "text": "In this section, we evaluate empirically the quality of the decision policies obtained for order-of-magnitude influence diagrams. All experiments were carried out on a 2.4GHz quad-core processor with 8GB of RAM.\nMethodology We experimented with random influence diagrams described by the parameters \u3008nc, nd, k, p, r, a\u3009, where nc is the number of chance variables, nd is the number of decision variables, k is the maximum domain size, p is the number of parents in the graph for each variable, r is the number of root nodes and a is the arity of the utility functions. The structure of the influence diagram is created by randomly picking nc + nd \u2212 r variables out of nc + nd and, for each, selecting p parents from their preceding variables, relative to some ordering, whilst ensuring that the decision variables are connected by a directed path. A single utility node with a parents picked randomly from the chance and decision nodes is then added to the graph.\nWe generated two classes of random problems with parameters \u3008n, 5, 2, 2, 5, 5\u3009 and having either positive utilities only or mixed (positive and negative) utilities. They are\ndenoted by P : \u3008n, 5, 2, 2, 5, 5\u3009 and M : \u3008n, 5, 2, 2, 5, 5\u3009, respectively. In each case, 75% of the chance nodes were assigned extreme CPTs which were populated with numbers drawn uniformly at random between 10\u22125 and 10\u22124, whilst ensuring that the table is normalized. The remaining CPTs were randomly filled using a uniform distribution between 0 and 1. For class P , the utilities are of the form 10u, where u is an integer uniformly distributed between 0 and 5. For class M , the utilities are of the form +10u or \u221210u, where u is between 0 and 5, as before, and we have an equal number of positive and negative utility values. Each influence diagram instance was then converted into a corresponding order-of-magnitude influence diagram using the mapping of the probabilities and utilities described in Section 5.2, for some \u01eb < 1. Intuitively, the smaller \u01eb is, the coarser the order-of-magnitude approximation of the exact probability and utility values (ie, more information is lost).\nMeasures of Performance To measure how close the decision policies derived from the optimal policy set of an order-of-magnitude influence diagram are to the optimal policy of the corresponding standard influence diagram, we use two relative errors, defined as follows. Let I be an influence diagram and let I\u01eb be the corresponding order-ofmagnitude approximation, for some \u01eb value. We sample s different policies, uniformly at random, from the optimal policies set of I\u01eb, and for each sampled policy we compute its expected utility in I. Let \u2206med be a policy corresponding to the median expected utility vmed amongst the samples. We define the relative error \u03b7med = |(v \u2212 vmed)/v|, where v is the maximum expected utility of the optimal policy in I. Similarly, we define \u03b7max = |(v \u2212 vmax)/v|, where \u2206max is the best policy having the highest expected utility vmax amongst the samples.\nResults Figure 3 displays the distribution of the relative errors \u03b7med (top) and \u03b7max (bottom) obtained on orderof-magnitude influence diagrams derived from class P (ie, positive utilities), as a function of the problem size (given by the number of variables), for \u01eb \u2208 {0.5, 0.05, 0.005}. Each data point and corresponding error bar represents the 25th, median and 75th percentiles obtained over 30 random problem instances generated for the respective problem size. We can see that \u03b7med is the smallest (less than 10%) for \u01eb = 0.5. However, as \u01eb decreases, the loss of information due to the order-of-magnitude abstraction increases and the corresponding relative errors \u03b7med increase significantly. Notice that the best policy \u2206max derived from the order-of-magnitude influence diagram was almost identical to that of the corresponding standard influence diagram, for all \u01eb (ie, the error \u03b7max is virtually zero).\nFigure 4 shows the distribution of \u03b7med (top) and \u03b7max (bottom) obtained on order-of-magnitude influence diagrams from class M (ie, mixed utilities). The pattern of the results is similar to that from the previous case. However, in this case, the errors span over two or three orders of\nmagnitude, especially for \u01eb = 0.05 and 0.005. This is because the sampled policy space includes policies which are quite different from each other and, although they have the same maximum order-of-magnitude expected utility, their expected utility in the corresponding standard influence diagram is significantly different. For this reason, we looked in more detail at the distribution of the expected utility values of 100 policies sampled uniformly at random from the optimal policies set of a class M OOM-ID instance with 45 variables, for \u01eb \u2208 {0.5, 0.05, 0.005}. As expected, we observed that the smallest sample variance is obtained for \u01eb = 0.5. For \u01eb = 0.05 and \u01eb = 0.005, the samples are spread out even more from the mean, and the variance of the expected utility is significantly larger. This explains the large variations of the relative errors \u03b7med and \u03b7max, especially for smaller \u01eb values (eg, \u01eb = 0.05 and \u01eb = 0.005)."}, {"heading": "7 RELATED WORK", "text": "Several extensions of the standard influence diagram model have been proposed in recent years to deal with imprecise probabilistic and utility information. Garcia and Sabbadin [4] introduced possibilistic influence diagrams to model and solve decision making problems under qualitative uncertainty in the framework of possibilistic theory. Pralet et al [8] considered a generalized influence diagram system\nwhich allows for some qualitative uncertainty formalisms to be used together with totally ordered utility values only. Lopez and Rodriguez [7] proposed an influence diagram model based on random fuzzy variables to represent imprecise information. Kikuti et al [6] allow credal sets of probabilities to represent imprecise probabilistic information and focus on precise utility. The work that is closest to ours is that by Bonet and Pearl [1] who consider qualitative MDPs and POMDPs based also on an order-of-magnitude approximation of probabilities and totally ordered utilities."}, {"heading": "8 CONCLUSION", "text": "The paper presents a qualitative influence diagram formalism that allows reasoning with imprecise probabilities and partially ordered imprecise utility values. Our proposed order-of-magnitude influence diagram model is based on an order-of-magnitude representation of the probabilities and utilities. We also described a dedicated variable elimination algorithm that performs efficient operations on partially ordered sets of utilities for solving this model.\nWe considered a straightforward variable elimination algorithm. One way to improve it is to efficiently exploit constraints (zero values of the uncertainty and utility functions), building, for instance, on work by [8]. We also plan to investigate other formalisms for reasoning with imprecise information, such as interval-valued utilities and multi-\nattribute utility allowing trade-offs."}], "references": [{"title": "Qualitative MDPs and POMDPs: an order-of-magnitude approximation", "author": ["B. Bonet", "J. Pearl"], "venue": "UAI, pages 61\u201368", "citeRegEx": "1", "shortCiteRegEx": null, "year": 2002}, {"title": "On the relation between kappa calculus and probabilistic reasoning", "author": ["A. Darwiche", "M. Goldszmidt"], "venue": "UAI, pages 145\u2013153", "citeRegEx": "2", "shortCiteRegEx": null, "year": 1994}, {"title": "A new perspective on algorithms for optimizing policies under uncertainty", "author": ["R. Dechter"], "venue": "AIPS, pages 72\u201381", "citeRegEx": "3", "shortCiteRegEx": null, "year": 2000}, {"title": "Complexity results and algorithms for possibilistic influence diagrams", "author": ["L. Garcia", "R. Sabbadin"], "venue": "Artificial Intelligence, 172(1):1018\u20131044", "citeRegEx": "4", "shortCiteRegEx": null, "year": 2008}, {"title": "From influence diagrams to junction trees", "author": ["F. Jensen", "V. Jensen", "S. Dittmer"], "venue": "UAI, pages 367\u2013363", "citeRegEx": "5", "shortCiteRegEx": null, "year": 1994}, {"title": "Sequential decision making with partially ordered preferences", "author": ["D. Kikuti", "F. Cozman", "R. Filho"], "venue": "Artificial Intelligence, in press", "citeRegEx": "6", "shortCiteRegEx": null, "year": 2011}, {"title": "Influence diagrams with super value nodes involving imprecise information", "author": ["M. Lopez-Diaz", "L. Rodriquez-Muniz"], "venue": "European Journal of Operational Research, 179(1):203\u2013219", "citeRegEx": "7", "shortCiteRegEx": null, "year": 2007}, {"title": "Sequential decision making problems - representation and solution", "author": ["C. Pralet", "T. Schiex", "G. Verfaillie"], "venue": "Wiley", "citeRegEx": "8", "shortCiteRegEx": null, "year": 2009}, {"title": "Decision analysis", "author": ["H. Raiffa"], "venue": "Addison-Wesley, Reading, MA", "citeRegEx": "9", "shortCiteRegEx": null, "year": 1968}, {"title": "Evaluating influence diagrams", "author": ["R. Shachter"], "venue": "Operations Research, 34(6):871\u2013882", "citeRegEx": "10", "shortCiteRegEx": null, "year": 1986}, {"title": "Valuation-based systems for Bayesian decision analysis", "author": ["P. Shenoy"], "venue": "Operations Research, 40(1):463\u2013484", "citeRegEx": "11", "shortCiteRegEx": null, "year": 1992}, {"title": "Ordinal conditional functions: a dynamic theory of epistemic states", "author": ["W. Spohn"], "venue": "Causation in decision, belief change and statistics, 2:105\u2013134", "citeRegEx": "12", "shortCiteRegEx": null, "year": 1987}, {"title": "Dynamic programming and influence diagrams", "author": ["J. Tatman", "R. Shachter"], "venue": "IEEE Transactions on Systems, Man, and Cybernetics, 20(1):365\u2013379", "citeRegEx": "13", "shortCiteRegEx": null, "year": 1990}, {"title": "An order of magnitude calculus", "author": ["N. Wilson"], "venue": "UAI, pages 548\u2013555", "citeRegEx": "14", "shortCiteRegEx": null, "year": 1995}, {"title": "An axiomatic framework for influence diagram computation with partially ordered utilities", "author": ["N. Wilson", "R. Marinescu"], "venue": "Technical report, University College Cork, Ireland", "citeRegEx": "15", "shortCiteRegEx": null, "year": 2011}], "referenceMentions": [{"referenceID": 4, "context": "This induces a partial order \u227a over X \u222a D, as follows: I0 \u227a D1 \u227a I1 \u227a \u00b7 \u00b7 \u00b7 \u227a Dm \u227a Im [5].", "startOffset": 86, "endOffset": 89}, {"referenceID": 8, "context": "Example 1 For illustration, consider the influence diagram displayed in Figure 1 which is based on the classic oil wildcatter decision problem [9].", "startOffset": 143, "endOffset": 146}, {"referenceID": 9, "context": "Variable Elimination Several exact methods have been proposed over the past decades for solving influence diagrams using local computations [10, 13, 11, 5, 3, 8].", "startOffset": 140, "endOffset": 161}, {"referenceID": 12, "context": "Variable Elimination Several exact methods have been proposed over the past decades for solving influence diagrams using local computations [10, 13, 11, 5, 3, 8].", "startOffset": 140, "endOffset": 161}, {"referenceID": 10, "context": "Variable Elimination Several exact methods have been proposed over the past decades for solving influence diagrams using local computations [10, 13, 11, 5, 3, 8].", "startOffset": 140, "endOffset": 161}, {"referenceID": 4, "context": "Variable Elimination Several exact methods have been proposed over the past decades for solving influence diagrams using local computations [10, 13, 11, 5, 3, 8].", "startOffset": 140, "endOffset": 161}, {"referenceID": 2, "context": "Variable Elimination Several exact methods have been proposed over the past decades for solving influence diagrams using local computations [10, 13, 11, 5, 3, 8].", "startOffset": 140, "endOffset": 161}, {"referenceID": 7, "context": "Variable Elimination Several exact methods have been proposed over the past decades for solving influence diagrams using local computations [10, 13, 11, 5, 3, 8].", "startOffset": 140, "endOffset": 161}, {"referenceID": 4, "context": "1 must be performed along a legal elimination ordering that respects \u227a, namely the reverse of the elimination ordering is some extension of \u227a to a total order [5, 3].", "startOffset": 159, "endOffset": 165}, {"referenceID": 2, "context": "1 must be performed along a legal elimination ordering that respects \u227a, namely the reverse of the elimination ordering is some extension of \u227a to a total order [5, 3].", "startOffset": 159, "endOffset": 165}, {"referenceID": 13, "context": "Our approach towards a qualitative theory for influence diagrams is based on the qualitative decision theory proposed by Wilson [14].", "startOffset": 128, "endOffset": 132}, {"referenceID": 13, "context": "The resulting utilities are then compared among each other by means of a total order on R that is defined in [14].", "startOffset": 109, "endOffset": 113}, {"referenceID": 13, "context": "Rather than using extended reals explicitly, we adopt a simpler calculus that allows us to reason about the \u201corder of magnitude\u201d of the extended reals [14].", "startOffset": 151, "endOffset": 155}, {"referenceID": 13, "context": "Standard arithmetic operations such as multiplication (\u00d7) and addition (+) follow from the semantics of the order-ofmagnitude values [14] and are defined next.", "startOffset": 133, "endOffset": 137}, {"referenceID": 13, "context": "We will use the following ordering over the elements of O, which is slightly stronger than that defined in [14].", "startOffset": 107, "endOffset": 111}, {"referenceID": 11, "context": "For our purpose, we used an extension of Spohn\u2019s mapping from the original probability distributions and utility functions to their corresponding order-of-magnitude approximation [12, 2].", "startOffset": 179, "endOffset": 186}, {"referenceID": 1, "context": "For our purpose, we used an extension of Spohn\u2019s mapping from the original probability distributions and utility functions to their corresponding order-of-magnitude approximation [12, 2].", "startOffset": 179, "endOffset": 186}, {"referenceID": 2, "context": "The algorithm, called ELIM-OOM-ID, is based on Dechter\u2019s bucket elimination framework for standard influence diagrams [3] and uses a bucket structure constructed along a legal elimination ordering o = Y1, .", "startOffset": 118, "endOffset": 121}, {"referenceID": 4, "context": "In this case, the product of the probability components in the bucket is a constant when viewed as a function of the bucket\u2019s decision variable [5, 15] and therefore, the compiled \u03bb is a constant as well.", "startOffset": 144, "endOffset": 151}, {"referenceID": 14, "context": "In this case, the product of the probability components in the bucket is a constant when viewed as a function of the bucket\u2019s decision variable [5, 15] and therefore, the compiled \u03bb is a constant as well.", "startOffset": 144, "endOffset": 151}, {"referenceID": 3, "context": "Garcia and Sabbadin [4] introduced possibilistic influence diagrams to model and solve decision making problems under qualitative uncertainty in the framework of possibilistic theory.", "startOffset": 20, "endOffset": 23}, {"referenceID": 7, "context": "Pralet et al [8] considered a generalized influence diagram system", "startOffset": 13, "endOffset": 16}, {"referenceID": 6, "context": "Lopez and Rodriguez [7] proposed an influence diagram model based on random fuzzy variables to represent imprecise information.", "startOffset": 20, "endOffset": 23}, {"referenceID": 5, "context": "Kikuti et al [6] allow credal sets of probabilities to represent imprecise probabilistic information and focus on precise utility.", "startOffset": 13, "endOffset": 16}, {"referenceID": 0, "context": "The work that is closest to ours is that by Bonet and Pearl [1] who consider qualitative MDPs and POMDPs based also on an order-of-magnitude approximation of probabilities and totally ordered utilities.", "startOffset": 60, "endOffset": 63}, {"referenceID": 7, "context": "One way to improve it is to efficiently exploit constraints (zero values of the uncertainty and utility functions), building, for instance, on work by [8].", "startOffset": 151, "endOffset": 154}], "year": 2011, "abstractText": "In this paper, we develop a qualitative theory of influence diagrams that can be used to model and solve sequential decision making tasks when only qualitative (or imprecise) information is available. Our approach is based on an orderof-magnitude approximation of both probabilities and utilities and allows for specifying partially ordered preferences via sets of utility values. We also propose a dedicated variable elimination algorithm that can be applied for solving order-of-magnitude influence diagrams.", "creator": "dvips(k) 5.98 Copyright 2009 Radical Eye Software"}}}