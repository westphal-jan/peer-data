{"id": "1409.0314", "review": {"conference": "arxiv", "VERSION": "v1", "DATE_OF_SUBMISSION": "1-Sep-2014", "title": "Empirical Evaluation of Tree distances for Parser Evaluation", "abstract": "in this empirical study, i compare various tree distance measures - - originally developed in computational evolution biology ) for the purpose implementation of tree comparison - - for the purpose of parser evaluation. i will control for the parser setting by comparing the automatically generated parse trees from the state - of - the - art parser charniak, 2000 ) with the gold - standard parse trees. the article describes two different tree distance measures ( rf mean and qd ) along with its variants ( models grf and gqd ) for teaching the purpose of parser evaluation. the article will sometimes argue that rf measure captures similar information as standard the standard evalb metric ( sekine and collins, 1997 ) and the tree edit vertex distance ( zhang and shasha, 1989 ) applied by che tsarfaty et al. ( 2011 ). finally, the article also provides empirical evidence by reporting high correlations between the different tree distances and evalb metric's scores.", "histories": [["v1", "Mon, 1 Sep 2014 08:01:54 GMT  (12kb)", "https://arxiv.org/abs/1409.0314v1", "Submitted to satisfy partial requirements for Statistical Parsing course"], ["v2", "Tue, 2 Sep 2014 20:07:58 GMT  (12kb)", "http://arxiv.org/abs/1409.0314v2", "Submitted to satisfy partial requirements for Statistical Parsing course"]], "COMMENTS": "Submitted to satisfy partial requirements for Statistical Parsing course", "reviews": [], "SUBJECTS": "cs.CL", "authors": ["taraka rama"], "accepted": false, "id": "1409.0314"}, "pdf": {"name": "1409.0314.pdf", "metadata": {"source": "CRF", "title": null, "authors": [], "emails": [], "sections": [{"heading": null, "text": "ar X\niv :1\n40 9.\n03 14\nv2 [\ncs .C\nL ]\n2 S\nep 2\n01 4"}, {"heading": "1 Introduction", "text": "The tree, as a device, has been employed to depict the relationships both within languages as well as species. Both historical linguists and evolutionary biologists employ the tree device to capture language and biological evaluation. The computational subbranches of both the disciplines employ statistical and quantitative techniques to infer relationships based on sequence data: linguistic units such as lexemes, grammatical markers; and gene sequences (Levinson and Gray, 2012; Felsenstein, 2004). In the case of historical linguistics, inferred language trees are compared with trees inferred from application of the comparative method (Hoenigswald, 1973). Wichmann et al. (2011) and Pompei et al. (2011)\ncompare different tree distance measures for comparing different language relationship inference techniques.\nIn the related field of computational linguistics, the grammatical relationships between words in a sentence are captured through rooted, labeled trees. Moving along the spectrum, trees by themselves play a major role in computer science (Bille, 2005). Goodman (1996) formalizes the PARSEVAL metrics (Abney et al., 1991) in the context of constituency-based parsing. In any case, much research seems to be have gone into quantitative tree comparison in related disciplines.\nThe rest of the article is organized as followed: Section 2 describes tree distance measures. Section 3 describes the dataset used in our experiments. In section 4, I describe the results of the empirical study. Section 5 concludes and provides the future directions."}, {"heading": "2 Tree distances", "text": ""}, {"heading": "2.1 Basics", "text": "In this subsection, I define basic symbols and terms. A input string I is composed of words w1 \u00b7 \u00b7 \u00b7wn of length n. A parse tree, T defines the relationship between these words. Following Goodman (1996), a tree T is composed of triples (s, t,X) where, s to t are consecutive words dominated by an internal node labeled as X. Following Goodman (1996), the matching criteria for an automatic parse tree Ta with its gold standard tree Tg is defined in terms of unlabeled precision (P ) and recall (R). Let Ng be the number of internal nodes in Tg and Na be the number of internal nodes in Ta. Let B = |{(s, t,X) : (s, t,X) \u2208 Ta \u2227 (s, t, Y ) \u2208 Tg}|.\n\u2022 Precision (P ): B/Na\n\u2022 Recall (R): B/Ng\n\u2022 F-score: 2PR/(P +R)\nLet E be the set of edges, V be the set of internal nodes, IE be the set of internal edges and, n the number of leaves in a tree. Then the following conditions hold for any tree:\n\u2022 |E| = |V |+ n\u2212 1\n\u2022 |IE| = |V | \u2212 1\n\u2022 |V | = n\u2212 2\nThe rest of the article assumes that trees are both unlabeled and m-ary."}, {"heading": "2.2 RF (Robinson-Foulds) Distance", "text": "Robinson and Foulds (1981) defined two operations \u03b1 and \u03b1\u22121 for transforming a tree T to tree T \u2032 in a finite sequence of operations. The \u03b1 operation is a edge contraction operation whereas \u03b1\u22121 is an expansion operation. It takes a maximum of |E|+|E\u2032| operations and a minimum of ||E|\u2212|E\u2032|| operations to transform T to T \u2032. In essence, the RF distance is defined as the number of \u03b1\u22121 and \u03b1 operations needed to transform one tree to another. An internal edge divides a tree into two disjoint sets of leaf nodes known as bipartition. A tree with n leaves has n \u2212 3 bipartitions. Consequently, an internal edge defines a bipartition. In terms of bipartitions, RF distance, RFD between two trees T, T \u2032 is defined as:\n\u2022 |E\u2212E \u2032|+|E\u2032\u2212E|\n|E|+|E\u2032|\n\u2022 1\u2212 2|E\u2229E \u2032|\n|E|+|E\u2032|\nThus, the RF distance measures the dissimilarity in the topology between the inferred tree and the corresponding family tree. It should be noted that the RF distance does not take branch lengths into account. Also, the RF distance can be further modified to compute the distance between two trees by introducing a label substitution operation. It can be easily seen that RF distance is related to tree edit distance used in Tsarfaty et al. (2011). RF distance works in terms of internal edges whereas, tree edit distance works in terms of node insertion, deletion, and substitution. I also show that P and R are related to RFD.\n\u2022 P = |Ea \u2229 Eg|/|Ea|\n\u2022 R = |Ea \u2229 Eg|/|Eg|\n\u2022 Substituting, P and R into the formulas for RFD yields another formula: 1\u2212 2RP\nR+P .\nThis formulation suggests that the F-score, of each parse tree, obtained from the EvalB metric should correlate highly with the RF distance. The RF distance is zero when both the trees have no internal edges. Such trees have star topologies.\nRF distance is a harsh measure that penalizes Ta for small errors. For example, a triple (s, t\u22121,X) \u2013 assuming that position of s is not the same as t \u2013 in Ta will be counted as an error since it is not present as (s, t,X) in Tg . Such kind of harsh penalization can be smoothened by employing Generalized Robinson-Foulds distance (GRFD).\nGRFD, as introduced by Pompei et al. (2011), relaxes the strict equality condition of bipartitions with compatibility criterion. To start with, a bipartition k divides the leaf set into two disjoint sets k1, k2. In the authors\u2019 terms, a bipartition a in tree Ta is said to be compatible with i-th bipartition in Tg \u2013 consisting of gi1, g i 2 sets \u2013 if for each bipartition i in Tg, one of the following is true: a1 \u2286 g i 1, or a1 \u2286 g i 2, or a2 \u2286 g i 1, or a2 \u2286 g i 2. Finally, GRFD is defined as |Ea|\u2212|C(Ta,Tg)||Ea| where, C(T, T \u2032) yields a set of compatible bipartitions. The GRFD is not a metric whereas, RFD is shown to be a metric (Robinson and Foulds, 1981).1"}, {"heading": "2.3 Quartet distance", "text": "Both RFD and GRFD work with internal edges (or subtrees). Another possible distance is the quartet distance which measures the distance between two trees in terms of the number of different quartets between the two trees (Estabrook et al., 1985). A quartet is defined as a set of four leaves selected from a set of leaves without replacement. A tree with n leaves has (\nn 4\n)\nquartets in total. A quartet defined on four leaves a, b, c, d can have four different topologies: ab|cd, ac|bd, ad|bc, and ab\u00d7 cd. The first three topologies have an internal edge separating two pairs of leaves. Such quartets are called as butterflies. The fourth quartet has no internal edge and as such is known as star quartet. A parse tree can have an internal node that is a parent to at least four leaves. By definition, quartet distance is defined only for those sentences whose length is at least 4.\nFor a tree T with n leaves, the quartets can be partitioned into set of butterflies, B(T ), and set of stars, S(T ). Then, quartet distance (QD) between\n1I use my own implementation to compute both RFD and GRFD.\nT and T \u2032 is defined as:\n1\u2212 |S(T ) \u2229 S(T \u2032)|+ |B(T ) \u2229B(T \u2032)| (\nn 4\n) (1)\nChristiansen et al. (2006) reformulate QD as follows:\nB(T ) +B(T \u2032)\u2212 2|B(T ) \u2229B(T \u2032)| \u2212DB(T, T \u2032) (\nn 4\n)\n(2) where, DB(T, T \u2032) is the number of different butterflies between T, T \u2032. A different butterfly is based on the same leaf set but has different topologies in the two trees. Since the trees are m-ary, d is defined as the maximum degree of an internal node. Christiansen et al. (2006) developed a fast algorithm that runs in O(n2d2) in time, and needs O(n2) in terms of space.2\nThe QD formula in equation 2 counts the butterflies in Ta as errors. The tree Ta should not be penalized for the unresolvedness in the gold standard tree Tg. To this end, Pompei et al. (2011) defined a new measure known as GQD (Generalized QD) to discount the presence of star quartets in Tg. GQD is defined as DB(Ta, Tg)/B(Tg). We use both QD and GQD to evaluate the quality of the automatically generated parse trees. It can be easily seen that both QD and GQD are lenient in scoring a subtree when the parser misses or adds a leaf in comparison with the gold standard tree."}, {"heading": "3 Parser and dataset", "text": "For our experiments, I use the Charniak parser to parse the 2416 sentences in the section 23 of the Penn TreeBank. Out of these parses, I discarded all the parses which have sentence length less than 4. I was left with 2378 parses after this step. I also converted both the automatic and gold parses into the NEWICK format (Felsenstein, 2004). NEWICK format is a bracketing format to represent trees and uses \u201c,\u201d symbol to separate adjacent leaves; opening and closing parantheses. I also removed the POS tag for each word. This step removes all the nodes which have a degree of 2. Hence a final NEWICK format tree consists of brackets and words alone. I use the EvalB program to compute the sentencelevel precision and recall scores.\n2Available at http://birc.au.dk/software/qdist/."}, {"heading": "4 Results", "text": "In this paper, I only work with sentence-level parsing F-scores. Our first hypothesis is that RFD will correlate to a large extent with the F-scores. This hypothesis is formed from the similarity in the formulae shown in section 2.2. Accordingly, the pearson\u2019s r between RFDs and F-scores is \u22120.9. We attribute the difference to the handling of toplevel brackets. We ignore the top-level bracket enclosing the root symbol whereas EvalB includes it in the calculation. GRFDs and F-scores also show a correlation of \u22120.82. The correlation is expected to be negative since F-score is a measure of similarity whereas RFD is a distance metric.\nI also checked the correlation of QDs and GQDs with F-scores. The correlation is quite high: \u22120.73 and \u22120.68 respectively. I also computed the correlation between the four different distance measures. The correlation is shown in table 1.\nThe measures correlate highly but not completely. This is in line with the observation of Christiansen and Randers (2006) who observe \u2013 based on simulated trees and real world data \u2013 that RFD and QD correlate quite well but measure different aspects of the trees."}, {"heading": "5 Conclusion and future work", "text": "In this article, I described two popular tree distance measures from computational biology and applied them for the purpose of parser evaluation. I observe that the measures correlate with each other, to a large extent, for a single parser\u2019s output. I argued that QD and generalized tree distance measures are much suitable for parser evaluation task since the gold parses can have internal nodes with degrees greater than 2. I also argued that RF distance measures the same thing as the tree edit distance does for computing unlabeled accuracies. This hypothesis is corroborated in terms of a high pearson\u2019s r. In future, we plan to test the different measures on other off-the-shelf parsers."}, {"heading": "Acknowledgements", "text": "I thank Richard Johansson for providing the binaries of Charniak parser. I thank Prasanth Kolachina and Richard Johansson for interesting discussions. I thank Joakim Nivre for the patience and encouragement through the whole process of experiments and report writing."}], "references": [{"title": "Procedure for quantitatively comparing the syntactic coverage", "author": ["Abney et al.1991] Steven Abney", "S Flickenger", "Claudia Gdaniec", "C Grishman", "Philip Harrison", "Don Hindle", "Robert Ingria", "Fred Jelinek", "Judith Klavans", "Mark Liberman"], "venue": null, "citeRegEx": "Abney et al\\.,? \\Q1991\\E", "shortCiteRegEx": "Abney et al\\.", "year": 1991}, {"title": "A survey on tree edit distance and related problems", "author": ["Philip Bille"], "venue": "Theoretical computer science,", "citeRegEx": "Bille.,? \\Q2005\\E", "shortCiteRegEx": "Bille.", "year": 2005}, {"title": "A maximumentropy-inspired parser. In Proceedings of the Annual Meeting of the North American Chapter of the Association for Computational Linguistics (NAACL)", "author": ["Eugene Charniak"], "venue": null, "citeRegEx": "Charniak.,? \\Q2000\\E", "shortCiteRegEx": "Charniak.", "year": 2000}, {"title": "Computing the quartet distance between trees of arbitrary degrees. Master\u2019s thesis, University of Arhus, Arhus, Denmark", "author": ["Christiansen", "Randers2006] Chris Christiansen", "Martin Randers"], "venue": null, "citeRegEx": "Christiansen et al\\.,? \\Q2006\\E", "shortCiteRegEx": "Christiansen et al\\.", "year": 2006}, {"title": "Fast calculation of the quartet distance between trees of arbitrary degrees", "author": ["Thomas Mailund", "Christian NS Pedersen", "Martin Randers", "Martin Stig Stissing"], "venue": "Algorithms for Molecular Biology,", "citeRegEx": "Christiansen et al\\.,? \\Q2006\\E", "shortCiteRegEx": "Christiansen et al\\.", "year": 2006}, {"title": "Comparison of undirected phylogenetic trees based on subtrees of four evolutionary units", "author": ["FR McMorris", "Christopher A Meacham"], "venue": "Systematic Biology,", "citeRegEx": "Estabrook et al\\.,? \\Q1985\\E", "shortCiteRegEx": "Estabrook et al\\.", "year": 1985}, {"title": "Parsing algorithms and metrics", "author": ["Joshua Goodman"], "venue": "In Proceedings of the 34th annual meeting on Association for Computational Linguistics,", "citeRegEx": "Goodman.,? \\Q1996\\E", "shortCiteRegEx": "Goodman.", "year": 1996}, {"title": "The comparative method", "author": ["Henry M. Hoenigswald"], "venue": "In Sebeok, editor, Current Trends in Linguistics,", "citeRegEx": "Hoenigswald.,? \\Q1973\\E", "shortCiteRegEx": "Hoenigswald.", "year": 1973}, {"title": "Tools from evolutionary biology shed new light on the diversification of languages", "author": ["Levinson", "Gray2012] Stephen C Levinson", "Russell D Gray"], "venue": "Trends in cognitive sciences,", "citeRegEx": "Levinson et al\\.,? \\Q2012\\E", "shortCiteRegEx": "Levinson et al\\.", "year": 2012}, {"title": "On the accuracy of language trees", "author": ["Pompei et al.2011] Simone Pompei", "Vittorio Loreto", "Francesca Tria"], "venue": "PloS one,", "citeRegEx": "Pompei et al\\.,? \\Q2011\\E", "shortCiteRegEx": "Pompei et al\\.", "year": 2011}, {"title": "Comparison of phylogenetic trees", "author": ["Robinson", "Foulds1981] DF Robinson", "Leslie R Foulds"], "venue": "Mathematical Biosciences,", "citeRegEx": "Robinson et al\\.,? \\Q1981\\E", "shortCiteRegEx": "Robinson et al\\.", "year": 1981}, {"title": "Evalb bracket scoring program", "author": ["Sekine", "Collins1997] Satoshi Sekine", "Michael Collins"], "venue": "URL: http://www. cs. nyu. edu/cs/projects/proteus/evalb", "citeRegEx": "Sekine et al\\.,? \\Q1997\\E", "shortCiteRegEx": "Sekine et al\\.", "year": 1997}, {"title": "Evaluating dependency parsing: robust and heuristics-free cross-nnotation evaluation", "author": ["Joakim Nivre", "Evelina Andersson"], "venue": "In Proceedings of the Conference on Empirical Methods in Natural Language Process-", "citeRegEx": "Tsarfaty et al\\.,? \\Q2011\\E", "shortCiteRegEx": "Tsarfaty et al\\.", "year": 2011}, {"title": "Correlates of reticulation in linguistic phylogenies", "author": ["Eric W. Holman", "Taraka Rama", "Robert S. Walker"], "venue": "Language Dynamics and Change,", "citeRegEx": "Wichmann et al\\.,? \\Q2011\\E", "shortCiteRegEx": "Wichmann et al\\.", "year": 2011}, {"title": "Simple fast algorithms for the editing distance between trees and related problems", "author": ["Zhang", "Shasha1989] Kaizhong Zhang", "Dennis Shasha"], "venue": "SIAM journal on computing,", "citeRegEx": "Zhang et al\\.,? \\Q1989\\E", "shortCiteRegEx": "Zhang et al\\.", "year": 1989}], "referenceMentions": [{"referenceID": 2, "context": "I will control for the parser setting by comparing the automatically generated parse trees from the stateof-the-art parser (Charniak, 2000) with the gold-standard parse trees.", "startOffset": 123, "endOffset": 139}, {"referenceID": 2, "context": "I will control for the parser setting by comparing the automatically generated parse trees from the stateof-the-art parser (Charniak, 2000) with the gold-standard parse trees. The article describes two different tree distance measures (RF and QD) along with its variants (GRF and GQD) for the purpose of parser evaluation. The article will argue that RF measure captures similar information as the standard EvalB metric (Sekine and Collins, 1997) and the tree edit distance (Zhang and Shasha, 1989) applied by Tsarfaty et al. (2011). Finally, the article also provides empirical evidence by reporting high correlations between the different tree distances and EvalB metric\u2019s scores.", "startOffset": 124, "endOffset": 533}, {"referenceID": 7, "context": "In the case of historical linguistics, inferred language trees are compared with trees inferred from application of the comparative method (Hoenigswald, 1973).", "startOffset": 139, "endOffset": 158}, {"referenceID": 1, "context": "Moving along the spectrum, trees by themselves play a major role in computer science (Bille, 2005).", "startOffset": 85, "endOffset": 98}, {"referenceID": 0, "context": "Goodman (1996) formalizes the PARSEVAL metrics (Abney et al., 1991) in the context of constituency-based parsing.", "startOffset": 47, "endOffset": 67}, {"referenceID": 4, "context": "In the case of historical linguistics, inferred language trees are compared with trees inferred from application of the comparative method (Hoenigswald, 1973). Wichmann et al. (2011) and Pompei et al.", "startOffset": 140, "endOffset": 183}, {"referenceID": 4, "context": "In the case of historical linguistics, inferred language trees are compared with trees inferred from application of the comparative method (Hoenigswald, 1973). Wichmann et al. (2011) and Pompei et al. (2011) compare different tree distance measures for comparing different language relationship inference techniques.", "startOffset": 140, "endOffset": 208}, {"referenceID": 0, "context": "Moving along the spectrum, trees by themselves play a major role in computer science (Bille, 2005). Goodman (1996) formalizes the PARSEVAL metrics (Abney et al.", "startOffset": 86, "endOffset": 115}, {"referenceID": 6, "context": "Following Goodman (1996), a tree T is composed of triples (s, t,X) where, s to t are consecutive words dominated by an internal node labeled as X.", "startOffset": 10, "endOffset": 25}, {"referenceID": 6, "context": "Following Goodman (1996), a tree T is composed of triples (s, t,X) where, s to t are consecutive words dominated by an internal node labeled as X. Following Goodman (1996), the matching criteria for an automatic parse tree Ta with its gold standard tree Tg is defined in terms of unlabeled precision (P ) and recall (R).", "startOffset": 10, "endOffset": 172}, {"referenceID": 12, "context": "It can be easily seen that RF distance is related to tree edit distance used in Tsarfaty et al. (2011). RF distance works in terms of internal edges whereas, tree edit distance works in terms of node insertion, deletion, and substitution.", "startOffset": 80, "endOffset": 103}, {"referenceID": 9, "context": "GRFD, as introduced by Pompei et al. (2011), relaxes the strict equality condition of bipartitions with compatibility criterion.", "startOffset": 23, "endOffset": 44}, {"referenceID": 5, "context": "Another possible distance is the quartet distance which measures the distance between two trees in terms of the number of different quartets between the two trees (Estabrook et al., 1985).", "startOffset": 163, "endOffset": 187}, {"referenceID": 3, "context": "Christiansen et al. (2006) developed a fast algorithm that runs in O(n2d2) in time, and needs O(n2) in terms of space.", "startOffset": 0, "endOffset": 27}, {"referenceID": 9, "context": "To this end, Pompei et al. (2011) defined a new measure known as GQD (Generalized QD) to discount the presence of star quartets in Tg.", "startOffset": 13, "endOffset": 34}], "year": 2014, "abstractText": "In this empirical study, I compare various tree distance measures \u2013 originally developed in computational biology for the purpose of tree comparison \u2013 for the purpose of parser evaluation. I will control for the parser setting by comparing the automatically generated parse trees from the stateof-the-art parser (Charniak, 2000) with the gold-standard parse trees. The article describes two different tree distance measures (RF and QD) along with its variants (GRF and GQD) for the purpose of parser evaluation. The article will argue that RF measure captures similar information as the standard EvalB metric (Sekine and Collins, 1997) and the tree edit distance (Zhang and Shasha, 1989) applied by Tsarfaty et al. (2011). Finally, the article also provides empirical evidence by reporting high correlations between the different tree distances and EvalB metric\u2019s scores.", "creator": "LaTeX with hyperref package"}}}