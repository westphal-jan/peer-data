{"id": "1705.01681", "review": {"conference": "arxiv", "VERSION": "v1", "DATE_OF_SUBMISSION": "4-May-2017", "title": "Tramp Ship Scheduling Problem with Berth Allocation Considerations and Time-dependent Constraints", "abstract": "This work presents a model for the Tramp Ship Scheduling problem including berth allocation considerations, motivated by a real case of a shipping company. The aim is to determine the travel schedule for each vessel considering multiple docking and multiple time windows at the berths. This work is innovative due to the consideration of both spatial and temporal attributes during the scheduling process. The resulting model is formulated as a mixed-integer linear programming problem, and a heuristic method to deal with multiple vessel schedules is also presented. Numerical experimentation is performed to highlight the benefits of the proposed approach and the applicability of the heuristic. Conclusions and recommendations for further research are provided.", "histories": [["v1", "Thu, 4 May 2017 02:49:26 GMT  (351kb,D)", "http://arxiv.org/abs/1705.01681v1", "16 pages, 3 figures, 5 tables, proceedings paper of Mexican International Conference on Artificial Intelligence (MICAI) 2016"]], "COMMENTS": "16 pages, 3 figures, 5 tables, proceedings paper of Mexican International Conference on Artificial Intelligence (MICAI) 2016", "reviews": [], "SUBJECTS": "cs.AI", "authors": ["francisco l\\'opez-ramos", "armando guarnaschelli", "jos\\'e-fernando camacho-vallejo", "laura hervert-escobar", "rosa g gonz\\'alez-ram\\'irez"], "accepted": false, "id": "1705.01681"}, "pdf": {"name": "1705.01681.pdf", "metadata": {"source": "CRF", "title": "Tramp Ship Scheduling Problem with Berth Allocation Considerations and Time-dependent Constraints", "authors": ["Francisco L\u00f3pez-Ramos", "Armando Guarnaschelli", "Jos\u00e9-Fernando Camacho-Vallejo", "Laura Hervert-Escobar", "Rosa G. Gonz\u00e1lez-Ram\u0131\u0301rez"], "emails": ["laura.hervert}@itesm.mx", "armando.guarnaschelli}@pucv.cl", "jose.camachovl@uanl.edu.mx", "rgonzalez@uandes.cl"], "sections": [{"heading": null, "text": "Keywords: Tramp Ship Scheduling, Berth Allocation, Multiple Docking, Time-dependent constraints"}, {"heading": "1 Introduction", "text": "Maritime shipping accounts for more than 80% of foreign trade, positioning this mode of transport as the most relevant in world trade. The world fleet has experienced a continuous growth with an annual increase of 4.1 percent in 2013, reaching a total of 1.69 billion dwt (deadweight tonnages) in January 2014 [11]. Shipping companies are constantly seeking to achieve economies of scale in order to reduce transportation costs. These costs are highly influenced by fuel cost. Because of this, the planning and scheduling of routes is critical.\nThe ship scheduling problem considering berth assignment has been pointed out as a promising area of research in both operational and economic terms [1, 2].\n? Corresponding author Tel.: +52-181-22536444\nar X\niv :1\n70 5.\n01 68\n1v 1\n[ cs\n.A I]\n2 These issues have practical implications especially for the shipping companies that do not have control of berth assignment decisions at public port terminals.\nIn this paper, we address a tramp ship scheduling problem (TSSP) with berth allocation considerations and time-dependent constraints. The problem is motivated by a tramp shipping company that provides transport services to export palletized fruit. The aim of the decision problem is to determine the route for each vessel, the operations and travel schedule whilst satisfying berth access limitations which are explicitly modeled. Due to the access limitations to berths (availability and draft restrictions), the shipping company is allowed to assign a vessel to the same berth several times to overcome capacity and operational limitations. A mixed-integer linear programming model using an expanded berth-node network representation is proposed, as well as a heuristic decomposition method to deal with large-sized instances.\nThe remainder of the paper is organized as follows. Section 2 discusses the related works on TSSP and Berth allocation problems. Section 3 describes the problem under study. Section 4 presents the underlying network structure. Section 4 introduces the notation and the mathematical formulation of the optimization model. Section 6 provides the solution approach. Section 7 presents the numerical results. Finally, the conclusions and recommendations for further research are provided in Section 8."}, {"heading": "2 Related works", "text": "This work is related to two well-known problems, the Ship Scheduling Problem and the Berth Allocation Problem (BAP). The integration of these two intertwined problems has recently been pointed out as a promising area of research in both operational and economic terms [1, 2].\nIn this regard, the work in [9] proposes an integrated model for ship scheduling and berth allocation, motivated by the case of shipping lines with self-owned terminals. In a follow-up work [10], the authors incorporate transshipment. Both works present a case study of a feeder service company operating around the Pearl River Delta region. A discrete layout of each port terminal with time window constraints is considered. However, a vessel cannot visit the same terminal more than once during the planning horizon.\nThe problem addressed in this work is concerned with the transportation of palletized perishable cargo (fruits) during the fruit season. There is a wide variety of industrial applications (e.g. [5, 6]) related to the bulk size and break-bulk cargo. However, this work differs from other approaches by considering operational features such as decisions related to the number of contracts to be fulfilled, load splitting at berths instead of ships [4], [7, 8]. It also includes features from the BAP, such as spatial, temporal, handling time, and performance [1]. The spatial attribute describes the berth layout and water depth restrictions. Temporal attribute are constraints for providing the service at berths. The handling time attribute applies for vessel and berths. Finally, the performance attribute is associated with the objective function.\n3 Under these considerations, this work contributes to the state-of-art on TSSP by considering specific characteristics originated by a practical case study. Therefore, filling a gap in the literature taking into account real-world features of the problem [4]."}, {"heading": "3 Problem definition", "text": "Consider a set of contracts C with due date, destination and cargo to be fulfilled by the shipping company. There exists a number of port terminals for loading the cargo in the vessels. Each port terminal has a number of berths with different draft capacities limiting the amount of cargo that can be loaded in the vessels. Also, berths have a variety of time windows in which vessels can be moored.\nA consideration in the problem is that cargoes may not be fully loaded in a vessel if not profitable. If a cargo is not fully loaded, a compensation expense is paid to its customer. Also, the draft of the vessel should be evaluated during the definition of the schedule. The draft of a vessel is equivalent to the maximum displacement when fully loaded. A vessel-displacement takes place whenever there is a change in the vertical distance between the waterline and the bottom of the hull when loading pallets in the vessel. In this way, it is desired to find:\n\u2013 A route for each vessel, composed of the ordered set of berths to be visited. \u2013 A schedule for each route, considering the arrival and departure times at time\nwindows associated with the berths contained in the route and avoiding time clashes among vessels operating in the same time window. \u2013 Amount of pallets to be loaded in each vessel in each berth time window in which the vessel operates.\nThe problem is modeled as a mixed-integer linear programming model, with the following assumptions:\n\u2013 Cargoes are pre-assigned to one or more vessels. \u2013 Cargoes are loaded in vessels at a constant average rate. \u2013 Vessels origins are known beforehand. \u2013 Vessels destinations are associated with the destination ports of their pre-\nassigned cargoes. \u2013 Vessels have enough capacity to carry all their assigned cargoes. \u2013 Vessels sail with a specific constant speed on each leg. \u2013 Vessels have enough fuel in order to reach their destination."}, {"heading": "4 Network flow representation", "text": "Cargoes are divided into pallets that are represented as variable flows going through a directed graph G = (N,A). Nodes i \u2208 N contain the vessel origins, the berth time windows in which pallets can be loaded in the vessels, and the vessel destinations according to the pre-assigned cargoes; whereas, links (i, j) \u2208 A model possible sailing legs.\n4 An illustrative example consisting of two vessels, two contracts (one per vessel) and two berths, having each one two time windows (wi, wj), is shown on Fig. 1. In that example, vessels start their routes at the blue nodes representing the vessel origins, and sail to some yellow nodes reproducing the available time windows of berths where pallets from cargoes C1 and C2 can be loaded in vessels V1 and V2, respectively. Vessels may dock at the same berth twice (one in each time window) if necessary. Time windows of different berths can also be used by the same vessel. This practice is frequently used by the shipping company as it allows reducing operation costs significantly. Loaded pallets from cargoes are finally carried to the green nodes, representing their destinations established in the contract."}, {"heading": "5 Model formulation", "text": "This section presents the mathematical formulation of the optimization model for the tramp ship scheduling problem with berth allocation issues.\nDecision variables\ndvij Continuous non-negative variable denoting the draft variation of vessel v \u2208 V when sailing through link (i, j) \u2208 A\u0303(v). pcw Continuous non-negative variable denoting the number of pallets loaded in vessel v \u2208 V from contract c \u2208 Cv in berth time window w \u2208W v.\n5 sc Continuous non-negative variable denoting the number of pallets from contract c \u2208 C which are not transported by any vessel. tvi Continuous non-negative variable denoting the arrival time of vessel v \u2208 V at node i \u2208 N(v). xvij Binary variable with value 1 when vessel v \u2208 V sails through link (i, j) \u2208 A(v), value 0 otherwise. yv1,v2w Binary variable with value 1 when vessel v1 \u2208 V docks before vessel v2 \u2208 V in time window w \u2208W v1,v2 , value 0 otherwise.\nOptimization Model\nmax d,p,s,t,x,y\nf = \u2211\nv \u2208 V c \u2208 Cv w \u2208 Wv\n\u03c8cwp c w \u2212 \u2211 v \u2208 V\nw \u2208 Wv i \u2208 Nw\nj \u2208 N+i (v)\n\u03b8vwx v ji \u2212 \u2211 v \u2208 V\nj \u2208 D(v) i \u2208 O(v)\n\u03c1v ( tvj \u2212 tvi ) (1)\n\u2212 \u2211 v \u2208 V\n(i, j) \u2208 A(v)\n\u03c6v\u03c0vijx v ij \u2212 \u2211 v \u2208 V\n(i, j) \u2208 A\u0303(v)\n\u03c6v\u03c0vij dvij dv0 \u2212 \u2211 v \u2208 V c \u2208 Cv \u03c3vc s c\ns.t. :\n\u2211 w\u2208Wv pcw + s c = gc, \u2200v \u2208 V, c \u2208 Cv (2)\n\u2211 j\u2208N+i (v) xvji \u2212 \u2211 j\u2208N\u2212i (v) xvij = 1 if i \u2208 O(v)\u22121 if i \u2208 D(v) 0 otherwise , \u2200v \u2208 V, i \u2208 N(v) (3)\n\u2211 j\u2208N\u0303+i (v) dvji \u2212 \u2211 j\u2208N\u0303\u2212i (v) dvij =  \u2212\u2206p \u2211 c\u2208Cvw pcw if w \u2208W vi \u2206p \u2211 c\u2208Cv (gc \u2212 sc) otherwise \u2200v \u2208 V, i \u2208 N\u0303(v) (4)\ndvij \u2264M1 xvij , \u2200v \u2208 V, (i, j) \u2208 A\u0303(v) (5)\npcw \u2264M2 \u2211\nj\u2208N\u2212i (v)\nxvji, \u2200v \u2208 V, c \u2208 Cv, w \u2208W v, i \u2208 Nw (6)\ntvj \u2265 tvi + \u03c0vij \u2212M3(1\u2212 xvij), \u2200v \u2208 V, (i, j) \u2208 A(v) : i \u2208 O(v) (7)\ntvj \u2265 tvi + \u2211 c\u2208Cvw \u03b3pw p c w + \u03c0 v ij \u2212M4(1\u2212 xvij), \u2200v \u2208 V, (i, j) \u2208 A(v), w \u2208W vi (8)\n6 tv2i \u2265 t v1 i + \u2211 c\u2208Cv1w \u03b3pw p c w \u2212M5(1\u2212 yv1,v2w ), \u2200v1, v2 \u2208 V, w \u2208W v1,v2 , i \u2208 Nw (9)\n\u2211 j\u2208N+i (v1) xv1ji + \u2211 j\u2208N+i (v2) xv2ji \u2264 y v1,v2 w + y v2,v1 w + 1, \u2200v1, v2 \u2208 V, w \u2208W v1,v2 , i \u2208 Nw (10)\n\u2211 j\u2208N\u0303+i (v) dvji +\u2206 p \u2211 c\u2208Cvw pcw \u2264 \u2206vw, \u2200v \u2208 V, w \u2208W v, i \u2208 Nw (11)\ntvi \u2265 lw \u2211\nj\u2208N\u2212i (v)\nxvji, \u2200v \u2208 V, w \u2208W v, i \u2208 Nw (12)\ntvi + \u2211 c\u2208Cvw \u03b3pw p c w \u2264 uw, \u2200v \u2208 V, w \u2208W v, i \u2208 Nw (13)\ntvi \u2264 \u03bec, \u2200v \u2208 V, c \u2208 Cv, i \u2208 D(v) (14)\nThe objective function (1) maximizes the benefit of the tramp shipping company given the total income \u03c8cw from the pallets transported p w c (first term) and the costs incurred given by the fixed fares \u03b8vw associated with the berth time windows where vessels operate xvji (second term), the vessel renting cost \u03c1\nv (third term), the fuel consumption \u03c6v throughout the vessel route (fourth and fifth terms), and the compensation expenses \u03c3cw incurred due to pallets not carried (six term). The fourth term captures the minimum fuel consumption cost according to the light draft of vessels (without load) on each sailing leg (xvij = 1); whereas the fifth term considers the extra fuel cost when carrying some load according to the ratio between the vessel draft variation and the light draft of the vessel ( dvij dv0 ). Constraints (2) perform the balance of loaded pallets in each contract. This constraint allows partially fulfilling a contract, i.e., some pallets may not be loaded in any vessel sc. Constraints (3) represent the ship flow balance where the source node is associated with the origin of the vessel O(v) and the sink node corresponds to the destination of the vessel D(v). Thus, the rest of nodes are intermediate nodes N(v) where flow conservation is guaranteed. Constraints (4) perform the balance of the draft variation of vessels throughout a subnetwork where only links connecting pairs of expanded berth nodes, as well as those links connecting the expanded berth nodes with the destination nodes of the contracts are considered. When balancing the flow in a node, two situations may arise. If it is a berth time window (w \u2208 W vi ), a draft increment is done. This increment is proportional to the number of loaded pallets in the vessel at the time window, and is calculated using parameter \u2206p. Otherwise, it is a destination of some contracts and a draft decrement is performed. This decrement is also proportional to the number of transported pallets from the contracts having this destination. Constraints (5) - (6) link the ship routing variables (xvij) to draft variation flows (dvij), and to the amounts of loaded pallets in each berth time windows (pcw), respectively. Large constants M1 and M2 limit the maximum values that decision variables dvij and p c w can take. The former takes into account the maximum allowable draft of the berth associated with the time windows;\n7 whereas the latter considers the total amount of pallets to be loaded according to the established contract. Constraints (7)-(8) establish the schedule of two nodes (i, j) \u2208 A(v) when visited consecutively by the same vessel (i.e., xvij = 1). In both sets of constraints, the sailing time between these pair of nodes (\u03c0vij) is considered. In (8), the time spent for loading pallets in the vessel in node i is also considered if this node is related to a berth time windows w \u2208 W vi . Large constants M3-M4 disables these constraints when vessel v does not sail between nodes i, j (i.e., xvij = 0). Constraints (9) - (10) coordinate the scheduling of two vessels v1, v2 \u2208 V when operating in the same time window w \u2208W v1,v2 . If vessel v1 docks first (y v1,v2 w = 1) then (9) ensures that vessel v2 docks after all pallets of v1 have been loaded. Otherwise, y v1,v2 w = 0, and large constant M5 disables this constraint. The value of yv1,v2w is set by (10). Constraints (11) ensure that the vessels draft variation does not exceed the allowable maximum variation for each berth time window in which the vessel operates. The vessel\u2019s draft variation is measured according to the current transit draft variation through the incoming link plus the draft increment due to pallet loading in the berth time window. Constraints (12) - (13) guarantee that vessels operate within the available time windows of berths. Constraints (12) verify that vessels do not operate before than the lower bound of the time windows, whereas (13) do not allow vessels to stay longer than the upper bound of this time window. The latter also considers loading pallet time. Finally, constraints (14) make sure that vessels arrive at the destination ports of the cargoes not later than the due date established in their contracts.\nTime windows reduction rules\nInformation of berth time windows can be used to reduce problem size, thus enhancing solution efficiency. The narrower the time window the larger the number of binary variables and sequencing constraints that can be removed from the problem formulation. The time window-based elimination rules that consider the time windows as hard constraints are inspired on [3]. In this way, a vessel is prevented from using a time window if there is not enough time in for arriveing and loading pallets. In this case, binary variable xvij and constraints (5) and (8) can all be dropped from the problem formulation. Also, a time window is prevented from being used if the service time remaining at the berth when a vessel arrives from its origin node is not enough to load a minimum amount of pallets. Therefore, binary variable xvij and constraints (7) can be eliminated from the model."}, {"heading": "6 Solution Approach", "text": "The MILP model in this work becomes harder to solve as the number of vessels increases. All the decision variables and constraints of the model are indexed over the set of vessels. Moreover, constraints (9)-(10) link decisions between pairs of vessels and, thus, the schedules of the vessels cannot be determined\n8 separately. Therefore, a heuristic decomposition method has been developed for solving efficiently instances with several vessels. As shown in Fig. 2, the method is divided into two phases. Phase 1 determines quickly an initial schedule for each vessel, whereas phase 2 tries to improve/verify that these schedules are (near-)optimal while not spending too much time.\nThe algorithm for the first phase is described in table 1 and works as follows. Initially, constraints (9)-(10) are dropped from the model, and tentative schedules for each vessel are computed separately. Then, the schedule of the vessel with the highest benefit is fixed and constraints (9)-(10) related to this vessel are released. Next, the rest of schedules are again computed and the following vessel schedule with the highest benefit is fixed. This procedure is repeated as long as two or more vessel schedules have not been fixed. Finally, the schedule of the vessel with the lowest benefit is determined. The time spent in this phase can be dramatically decreased if the procedure is implemented in parallel, i.e.,\n9 in each iteration (IT), the computation of each vessel schedule can be done in a different CPU, so that the whole iteration time would be the highest time spent in solving one single vessel schedule.\nAn illustrative application of this phase is shown on the top of Fig. 2. In that application, the initial schedules of three vessels labeled as V1, V2 and V3 are determined. In the first iteration (IT 1.1), the schedules of each vessel are computed in parallel, having benefits (f1(V i)) of 2000, 3000 and 2500, respectively. As f1(V 2) is the highest one, then the schedule of V2 is fixed in iteration 2 (IT1.2), so the schedules of V1 and V3 are re-optimized, having new benefits of 2000 and 1800, respectively. f1(V 1) is now the highest benefit of the remaining vessels, so the schedule of V1 is fixed in iteration 3 (IT1.3), where only the new schedule of V3 is determined.\nPhase 2 tries to improve the initial vessel schedules determined in phase 1. In this phase, the schedules of pair of vessels are re-optimized in the hope that the two new schedules may lead to a better global solution, although the solution for the schedule of one vessel in the pair may be worse. The total number of pair evaluations increases dramatically with the number of vessels, therefore a mechanism for evaluating a reduced number of these has been developed. By comparing the solutions provided by the first phase and the resolution of the full model, a suitable selection of pair of vessels can be determined by using a ratio measure. This ratio evaluates the relationship between the remaining capacity of the vessel (\u2206Q) and the average remaining bandwidth of the berth time windows (\u2206B). \u2206Q is computed by reducing the vessel capacity (Q) according to the number of pallets loaded in the vessel in each time window; whereas \u2206B is obtained in three steps. First, the bandwidth of each time window w \u2208 W (Bw) is calculated as the difference between its upper and lower bounds (uw and lw, respectively). Then, each Bw in which the vessel has operated is reduced according to the time spent in loading pallets in the vessel in that time window. Finally, all Bw are averaged yielding to \u2206B. Experimentation practice on smallsized instances, where optimal schedules are achieved by solving directly the\n10\nmodel (1)-(14), shows that re-optimizing schedules of vessel pairs where one vessel has a high ratio and another a low one leads also to the optimal schedules.\nThe procedure of this phase is shown in table 2 and works as follows. Initially, the ratio measure of each vessel (R(v)) is first computed, and then two lists (L1 and L2) are built. In list L1, vessels are sorted in descending ratio, whereas in L2 vessels are ordered in an increasing fashion. Next, the algorithm goes into an iteration process working as follows. A vessel is picked up from each list conforming a pair that has not been previously evaluated (\u03c4(L1(p1), L2(p2)) = 0), and that the ratio of the vessel from L1 is greater than the one from L2 (R(L1(p1)) > R(L2(p2))). The schedules of each pair of vessels meeting these requirements are re-optimized as long as no improvements are found, and all valid pairs are not evaluated. Once the benefit of a pair (f(L1(p1), L2(p2))) is improved, the iteration process is terminated, and another iteration process is started by updating the ratios of the vessels associated with that pair as well as lists L1 and L2. The procedure is terminated when all pairs of valid vessels have been evaluated.\nAn illustrative application of phase 2 is shown on the bottom of Fig. 2. On this figure, improved schedules for the initial schedules obtained in the application example of phase 1 are sought after. Initially, the ratio measures of vessels V 1, V 2 and V 3 (R(V 1), R(V 2) and R(V 3), respectively) are computed. Then, lists L1 and L2 are built and valid pairs of vessels are evaluated in the first iteration process (IT 2.1.). Vessels V2 and V3 are in the top of each list and R(V 2) > R(V 3), so the schedules for this pair are re-optimized. As the benefit of the pair is not improved (i.e., f2(V 2, V 3) = f1(V 2, V 3)), the following pair\n11\nis evaluated. This corresponds to (V 2, V 1) since V 1 is next to V 3 in L2 and R(V 2) > R(V 1). Having re-optimized pair (V 2, V 1), an improved benefit of 200 is obtained. Therefore, ratios of R(V 2) and R(V 1) are updated, as well as lists L1 and L2, and the second iteration process(IT 2.2) is started. Now, the pair (V 3, V 1) is evaluated as vessels V 3 and V 1 are in the top of lists L1 and L2, and R(V 3) > R(V 1). The re-optimization of this pair does not improve the benefit (i.e., f2(V 3, V 1) = f1(V 3, V 1)), and as no further valid pairs are found (i.e., pairs (V 3, V 2) and (V 2, V 1) have already been evaluated in IT 2.1.), phase is terminated."}, {"heading": "7 Results", "text": "To evaluate the model as well as the performance of the heuristic, several experiments based on a real case have been conducted. The model and the heuristic have been coded in AMPL, and the Branch and Bound of CPLEX v12.5.0.0 is used for solving the model, as well as the reduced models constructed during the heuristic execution, under a workstation R5500 with processor Intel(R) Xeon(R) CPU E5645 2.40 GHz and 48 GBytes of RAM. 30 minutes of time limit for the full model and for the heuristic has been set since the availability of time windows may change afterwards, and thus the provided solution would be unrealistic.\nThe main components of each instance includes the number of vessels that can be used, the number of contracts willing to be carried, the number of berths where vessels can operate, the number of available time windows per berth, and the total number of pallets that can be loaded in the vessels. Observe that, the instance identifier contains all this information except for the amount of pallets provided in Table 3. For example, the group of instances containing the string S4B5W2C18 are made up of 4 vessels, 18 contracts, 5 berths and 2 time windows per berth. Detailed information on the planning process currently being used is not shown due to confidentiality issues.\nTable 4 shows the performance results for the tested experiments. From left to right of the table, it is given the best objective functions (f), the relative gaps in percentage (GAP(%)), and the computational times in seconds (TCPU )\n12\nfor the direct resolution of the model (FM), and each phase of the heuristic. H1 stands for the first phase of the heuristic, which is implemented in parallel, whereas H2 denotes the second phase. Finally, HT represents the whole time spent by the heuristic.\nResults show that the heuristic outperforms the resolution of the full model. For small-sized instances (4 vessels), the heuristic finds always the optimum having improved the initial solution. For medium-sized instances (8 vessels), the heuristic finds at least the same feasible solution (this solution is not guaranteed to be optimal since the resolution of the full model have been earlier stopped, having reached the time limit of 30 minutes). Moreover, the heuristic only spends a few minutes. Finally, for larger instances (12-20 vessels), the heuristic provides better solutions, and quite frequently in early phase 1. In some cases, phase 2 improves the initial solution but not substantially. This is because solving times reach the time limit and, thus, phase 2 is terminated earlier.\nNext figure 3 shows the workings of the heuristic for instance S4B5W2C18C, the instance with the highest improvement obtained in phase 2. It can be observed that in phase 1, there is no schedule determined for vessel 1 and that the rest of vessels only dock once and in a different time window. However, by\n13\ncoordinating arrivals at the same time window and by docking twice, phase 2 obtains better schedules (i.e., benefits are higher) and allows vessel 1 to operate.\nFinally, table 5 provides some details of the solution results. From left to right of the table, it is provided the average and maximum values for the number of docks (# Docks), the average used capacity of the vessels (Av. Used Cap.), and the percentage of cargo satisfaction (Cargo Satisfied (%)) for the direct resolution of the model and each phase of the heuristic.\nResults show that vessel capacities are underused, around 50% on average, and with minimum and maximum values of 26 % and 64%, respectively. Another\n14\nimportant aspect to highlight is that vessels do not dock more than 3 times, an issue that also happens in real practice. However, the average number of docks is around 1.5, meaning that in the schedule solution one half of the vessels docks once and the other half twice. Regarding to the amounts of carried pallets, they are low but the company has benefit as shown in the previous table. In reality, the company would have important losses during the fruit season if all cargoes were carried, so lower benefits are obtained since the time windows at berths are narrower and operational costs are difficult to absorb."}, {"heading": "8 Conclusions and Further Research", "text": "This work introduces an optimisation model that deals with the tramp ship scheduling problem considering berth allocation issues. The model is formulated as a mixed-integer linear problem and carries out the assignment of berth time windows to vessels where cargoes are loaded, the itineraries of the vessels with the possibility of docking several times at the same or different berth, and the coordination of vessels operating at the same berth time window. Moreover, the model takes into account berth limitations regarding to water depth or draft capacity. These limitations have not been previously addressed on the scant literature integrating the berth allocation to the tramp ship scheduling problem.\n15\nFrom a business practice perspective, the proposed approach provides a decision-support tool for the tramp shipping company. Current planning activities are done manually by operations planners, who find themselves with several difficulties in the search of a feasible plan. These difficulties arise when trying to match temporal availability, draft capacities and scheduling issues at the same time. These aspects need a precise coordination for a schedule to be feasible, and this is the cause for the success of this modeling approach when dealing with the tramp ship scheduling with berth allocation issues. Furthermore, this optimization approach allows operation planners to perform scenario analysis by varying different problem aspects such as cargo size, loading times, time window fare or draft, among others.\nFor further research, several extensions can be considered for the tramp ship scheduling problem. In this regard, we propose to incorporate as a decision variable the assignment of cargo to vessels, which is currently not considered in the mathematical model motivated by the fact that the shipping company assumes that this is a decision taken by the commercial department of the company. However, integrating this decision variable could lead to better solutions and reduce overall costs. Another potential extension is related to speed optimization, which currently is assumed as a fixed value. This can be done by incorporating an emission estimation model in order to account for environmental concerns. Another research avenue to extend the proposed model is to deal with risk and uncertainty as modelling elements and provide an optimization framework to deal with disruption events in the day-to-day operations. Finally, because of the interaction between berth allocation decisions of the stevedores and the shipping company, we propose to formulate the problem as a bi-level optimization model in which the port terminal managers can be the leader that determines the berth assignment and schedules, and the shipping company the follower that receives this information as berth availability time windows. Other integration approaches can be also considered such as a pre-processing or a feedback loop can be also explored."}, {"heading": "Acknowledgements", "text": "This work was supported by the Mexican National Council for Science and Technology (CONACYT), through research grant SEP-CONACYTCB-2014-01240814 (third author); and by the Vice Presidency of Research and Graduate Studies of Pontificia Universidad Cato\u0301lica de Valpara\u0301\u0131so, through research project 037.499/2015 (second author). Additionally, we acknowledge the determination and effort performed by the Mexican Logistics and Supply Chain Association (AML) and the Mexican Institute of Transportation (IMT) for providing us an internationally recognized collaboration platform. Last, but not least, special thanks to the undergraduate students, David Hirmas and Marco Sanhueza from the Pontificia Universidad Cato\u0301lica de Valpara\u0301\u0131so, for their help in developing computational experiments, and an anonymous planner of the shipping\n16\ncompany who allowed us to fully understand the complex planning process of the company."}], "references": [{"title": "A follow-up survey of berth allocation and quay crane scheduling problems in container terminals", "author": ["C Bierwirth", "F. Meisel"], "venue": "Eur J Oper Res,", "citeRegEx": "1", "shortCiteRegEx": "1", "year": 2015}, {"title": "Ship Routing and scheduling in the new milenium", "author": ["M Christiansen", "K Fagerholt", "B Nygreen", "D. Ronen"], "venue": "Eur J Oper Res,", "citeRegEx": "2", "shortCiteRegEx": "2", "year": 2013}, {"title": "A cluster-based optimization approach for the multidepot heterogeneous fleet vehicle routing problem with time windows", "author": ["R Dondo", "J. Cerd\u00e1"], "venue": "Eur J Oper Res,", "citeRegEx": "3", "shortCiteRegEx": "3", "year": 2007}, {"title": "Bulk ship routing and scheduling: Solving practical problems may provide better results", "author": ["K Fagerholt", "D. Ronen"], "venue": "Maritime Policy & Management,", "citeRegEx": "4", "shortCiteRegEx": "4", "year": 2013}, {"title": "Maritime crude oil transportation - a split pickup and split delivery problem", "author": ["F Hennig", "B Nygreen", "M Christiansen", "K Fagerholt", "KC Furman", "J Song", "GR Kocis", "PH. Warrick"], "venue": "Eur J Oper Res", "citeRegEx": "5", "shortCiteRegEx": "5", "year": 2012}, {"title": "Improving the logistics of multi-compartment chemical tankers", "author": ["Jetlund AS", "Karimi IA"], "venue": "Comput Chem Eng,", "citeRegEx": "6", "shortCiteRegEx": "6", "year": 2004}, {"title": "A tabu search heuristic for ship routing and scheduling with flexible cargo quantities", "author": ["JE Korsvik", "K. Fagerholt"], "venue": "J Heuristics", "citeRegEx": "7", "shortCiteRegEx": "7", "year": 2010}, {"title": "A large neighbourhood search heuristic for ship routing and scheduling with split loads", "author": ["JE Korsvik", "K Fagerholt", "G. Laporte"], "venue": "Comput Oper Res", "citeRegEx": "8", "shortCiteRegEx": "8", "year": 2011}, {"title": "An integrated model for ship routing and berth allocation", "author": ["Li C-L", "Pang K-W"], "venue": "Int J Shipp & Transp Logist,", "citeRegEx": "9", "shortCiteRegEx": "9", "year": 2011}, {"title": "An integrated model for ship routing with transshipment and berth allocation", "author": ["Pang K-W", "Liu J"], "venue": "IIE Trans,", "citeRegEx": "10", "shortCiteRegEx": "10", "year": 2014}], "referenceMentions": [{"referenceID": 0, "context": "The ship scheduling problem considering berth assignment has been pointed out as a promising area of research in both operational and economic terms [1, 2].", "startOffset": 149, "endOffset": 155}, {"referenceID": 1, "context": "The ship scheduling problem considering berth assignment has been pointed out as a promising area of research in both operational and economic terms [1, 2].", "startOffset": 149, "endOffset": 155}, {"referenceID": 0, "context": "The integration of these two intertwined problems has recently been pointed out as a promising area of research in both operational and economic terms [1, 2].", "startOffset": 151, "endOffset": 157}, {"referenceID": 1, "context": "The integration of these two intertwined problems has recently been pointed out as a promising area of research in both operational and economic terms [1, 2].", "startOffset": 151, "endOffset": 157}, {"referenceID": 8, "context": "In this regard, the work in [9] proposes an integrated model for ship scheduling and berth allocation, motivated by the case of shipping lines with self-owned terminals.", "startOffset": 28, "endOffset": 31}, {"referenceID": 9, "context": "In a follow-up work [10], the authors incorporate transshipment.", "startOffset": 20, "endOffset": 24}, {"referenceID": 4, "context": "[5, 6]) related to the bulk size and break-bulk cargo.", "startOffset": 0, "endOffset": 6}, {"referenceID": 5, "context": "[5, 6]) related to the bulk size and break-bulk cargo.", "startOffset": 0, "endOffset": 6}, {"referenceID": 3, "context": "However, this work differs from other approaches by considering operational features such as decisions related to the number of contracts to be fulfilled, load splitting at berths instead of ships [4], [7, 8].", "startOffset": 197, "endOffset": 200}, {"referenceID": 6, "context": "However, this work differs from other approaches by considering operational features such as decisions related to the number of contracts to be fulfilled, load splitting at berths instead of ships [4], [7, 8].", "startOffset": 202, "endOffset": 208}, {"referenceID": 7, "context": "However, this work differs from other approaches by considering operational features such as decisions related to the number of contracts to be fulfilled, load splitting at berths instead of ships [4], [7, 8].", "startOffset": 202, "endOffset": 208}, {"referenceID": 0, "context": "It also includes features from the BAP, such as spatial, temporal, handling time, and performance [1].", "startOffset": 98, "endOffset": 101}, {"referenceID": 3, "context": "Therefore, filling a gap in the literature taking into account real-world features of the problem [4].", "startOffset": 98, "endOffset": 101}, {"referenceID": 2, "context": "The time window-based elimination rules that consider the time windows as hard constraints are inspired on [3].", "startOffset": 107, "endOffset": 110}], "year": 2017, "abstractText": "This work presents a model for the Tramp Ship Scheduling problem including berth allocation considerations, motivated by a real case of a shipping company. The aim is to determine the travel schedule for each vessel considering multiple docking and multiple time windows at the berths. This work is innovative due to the consideration of both spatial and temporal attributes during the scheduling process. The resulting model is formulated as a mixed-integer linear programming problem, and a heuristic method to deal with multiple vessel schedules is also presented. Numerical experimentation is performed to highlight the benefits of the proposed approach and the applicability of the heuristic. Conclusions and recommendations for further research are provided.", "creator": "LaTeX with hyperref package"}}}