{"id": "1402.0581", "review": {"conference": "arxiv", "VERSION": "v1", "DATE_OF_SUBMISSION": "4-Feb-2014", "title": "Qualitative Order of Magnitude Energy-Flow-Based Failure Modes and Effects Analysis", "abstract": "This paper presents a structured power and energy-flow-based qualitative modelling approach that is applicable to a variety of system types including electrical and fluid flow. The modelling is split into two parts. Power flow is a global phenomenon and is therefore naturally represented and analysed by a network comprised of the relevant structural elements from the components of a system. The power flow analysis is a platform for higher-level behaviour prediction of energy related aspects using local component behaviour models to capture a state-based representation with a global time. The primary application is Failure Modes and Effects Analysis (FMEA) and a form of exaggeration reasoning is used, combined with an order of magnitude representation to derive the worst case failure modes. The novel aspects of the work are an order of magnitude(OM) qualitative network analyser to represent any power domain and topology, including multiple power sources, a feature that was not required for earlier specialised electrical versions of the approach. Secondly, the representation of generalised energy related behaviour as state-based local models is presented as a modelling strategy that can be more vivid and intuitive for a range of topologically complex applications than qualitative equation-based representations.The two-level modelling strategy allows the broad system behaviour coverage of qualitative simulation to be exploited for the FMEA task, while limiting the difficulties of qualitative ambiguity explanation that can arise from abstracted numerical models. We have used the method to support an automated FMEA system with examples of an aircraft fuel system and domestic a heating system discussed in this paper.", "histories": [["v1", "Tue, 4 Feb 2014 01:41:55 GMT  (1613kb)", "http://arxiv.org/abs/1402.0581v1", null]], "reviews": [], "SUBJECTS": "cs.AI", "authors": ["neal", "rew snooke", "mark h lee"], "accepted": false, "id": "1402.0581"}, "pdf": {"name": "1402.0581.pdf", "metadata": {"source": "CRF", "title": "Qualitative Order of Magnitude Energy-Flow-Based Failure Modes and Effects Analysis", "authors": ["Neal Snooke", "Mark Lee"], "emails": ["nns@aber.ac.uk", "mhl@aber.ac.uk"], "sections": [{"heading": null, "text": "The novel aspects of the work are an order of magnitude(OM) qualitative network analyser to represent any power domain and topology, including multiple power sources, a feature that was not required for earlier specialised electrical versions of the approach. Secondly, the representation of generalised energy related behaviour as state-based local models is presented as a modelling strategy that can be more vivid and intuitive for a range of topologically complex applications than qualitative equation-based representations. The two-level modelling strategy allows the broad system behaviour coverage of qualitative simulation to be exploited for the FMEA task, while limiting the difficulties of qualitative ambiguity explanation that can arise from abstracted numerical models. We have used the method to support an automated FMEA system with examples of an aircraft fuel system and domestic a heating system discussed in this paper."}, {"heading": "1. Introduction", "text": "Qualitative representations (QR) and reasoning have a number of well documented advantages for Failure Modes and Effects Analysis. Three of the most important are that analysis can be performed early in the design life cycle, that there is broad coverage of system behaviour and faults, and that the results are at a level of abstraction which readily maps to system functional states.\nQR has been widely applied to electrical systems (de Kleer, 1984; Mauss & Neumann, 1996; Price, Snooke, & Lewis, 2006; Flores & Farley, 1999) and used for a variety of design analysis applications including design concept analysis (gaining an overview of system behaviour), diagnosis, FMEA safety analysis, incremental and multiple fault FMEA analysis (Price & Taylor, 1997), fault tree analysis (FTA) (Price, Wilson, Timmis, & Cain, 1996), and sneak circuit analysis (Price, Snooke, & Landry, 1996; Savakoor, Bowles, & Bonnell,\n\u00a92013 AI Access Foundation. All rights reserved.\n1993). The qualitative information is an enabling technique allowing significant system nominal and failure states to be identified and distinguished easily and efficiently.\nThe qualitative results have limitations, the most significant being behavioural ambiguity where alternative behaviours are predicated by the simulation. While often seen as a problem of qualitative techniques, such ambiguity can be turned into an advantage, provided they predict real physical behaviours since they indicate where key design parameters exist. One of the benefits of the modelling structure developed in this paper is that many such ambiguities are constrained and therefore enhance design knowledge rather than being an analysis limitation.\nThe typical approaches to qualitative modelling and reasoning use qualitative versions of numerical equations derived from component models. While this forms a sound platform, it can be burdensome to extract the relevant from the unimportant with standard equations (e.g fluid flow), and deal with landmarks, integrals or deviations etc. Given the appeal of QR for abstracted explanation and its ability to provide broad analysis of system state, we propose a more specialised view that can be applied to a wide range of engineering domains based on the relationships between generalised physical variables shown in Figure 1.\nThis paper provides a consistent framework for several earlier implementations, and develops a supporting qualitative order of magnitude (OM) capability (Section 2.1) throughout the models and simulation. The OM representation is derived from a many valued resistance representation (Lee, 2000b) and although the many valued concept and its modelling and reasoning benefits are completely applicable to the OM representation, the actual technique for solving the circuits in that work was based on path labelling (Lee, 1999), and was not a general solution applicable to any network topology. The present paper provides a general solution and extends the technique from purely electrical systems into other domains. As a necessary part of this effort an energy-flow-based formalisation is adopted, comprising a global instantaneous power network (Section 2) and local component models that include the notions of energy and time (Section 3).\nPrevious work by the authors (Snooke, 2007) on the modelling of fluid flow systems was based on an electrical network analyser (Lee, 1999) but could only deal with series parallel reducible circuits, and this becomes a limitation for topologically complex systems. The incorporation of equivalent resistance reduction using star\u2013delta (Y-\u2206) transforms (Mauss & Neumann, 1996) into the OM representation (Section 2.2) allows effort and flow variables for resistive networks of any topology to be solved by reduction and flow assignment expansion (Section 2.3), and completes the work started by Lee. Complex network topologies are due in part to the need to represent concepts such as the \u2018atmosphere\u2019 in fluid flow systems, to allow failure modes such as leaks in closed systems, as well as vented elements in other systems. This unique \u2018zero\u2019 node is common to several domains and is generalised in the present work in Section 2.4.\nApplying the techniques derived by Lee (1999) to non electrical systems reveals two limitations. Firstly, the analysis supports only a single effort source in the network, and secondly there is no concept of the substance flowing in the network. Section 2.5 extends the analysis to include multiple power sources by applying the principle of superposition to allow any system to be decomposed into multiple resistive networks. Section 2.6 considers the representation of substances for networks where behaviour is dependent upon the substance carrying the effort and flow. The final part of section 2 deals with some common special cases that can simplify the analysis and maintain vividness of the representation by avoiding unnecessary (Y-\u2206) transforms.\nSection 3 of the paper is devoted to the local component concept that captures temporal information and thus models the displacement and momentum aspects of Figure 1. The OM modelling of time is the subject of section 3.1 and underlies a Finite State Machine (FSM) based modelling approach. This representation is an improvement on a more restricted predecessor used for electrical component behaviour (Snooke, 1999), which was the foundation for a variety of automated electrical design analysis techniques. Sections 3.2 and 3.3 provide concrete examples of component modelling and system modelling respectively.\nSection 4 considers the use of the OM representation to perform exaggeration reasoning for failure analysis and section 5 provides a brief overview of the strategy (Price, 1998; Lee, Bell, & Coghill, 2001) used to process multiple simulation results into an FMEA output. We provide two case study examples in sections 6 and 7. The first case study illustrates the behaviour simulation for a fluid flow system with interesting characteristics, and the second outlines the use of the simulation results to automatically produce a completed FMEA report for an industrial system supplied by the sponsors of the work.\nIn this paper we utilise a two-level modelling strategy. The lower level (centre section of Figure 1) provides a network-based global qualitative solver for linear resistive networks using graph-based methods that determine instantaneous power (effort and flow) in a network. The higher level utilises the results of the lower level network analysis to decide localized component behaviour from state-based models with a qualitative representation of time as the only global parameter.\nThis two-level strategy gives significant benefits over other approaches to modelling the kinds of electrical and hydraulic systems dealt with here. The two-level modelling allows separation of the inherently global, instantaneous (single state) power variables, and the local energy-based behaviour of components. This separation is particularly suitable for qualitative representation because qualitative behaviour is fundamentally state-based; any\nqualitative simulation will produce a sequence of states of the power flows in a system\u2019s components. Power flow is a global phenomenon where cause and effect is undetermined and can be very efficiently analysed as a network, avoiding problems of causal instability and ambiguity arising from systems of equations generated from interacting components with local behaviours (Skorstad, 1992a). Many QR approaches use a local propagation method connecting the behaviours of components and have the appeal of generality, however, they often require some way of including additional global information such as equivalent circuits (Sussman & Steele Jr, 1980), or mechanisms for propagating connectivity information (Struss, Malik, & Sachenbacher, 1995). Our approach allows users to build reusable models of components that can be placed in a library and used just by describing how components are linked together.\nBond graphs share the same underlying energy-flow-based concept as the lower level of our approach, and are a popular domain-independent graphical method for describing a system first described by Paynter (1961) and developed by numerous others. They are an excellent way of generating the systems of differential equations that describe system behaviour. Qualitative versions of bond graphs can be produced (Ghiaus, 1999), however these are qualitative versions of the standard numerical equations and therefore suffer the same difficulties as any of the general equation-based constraint methods. A qualitative version of bond graphs is successfully used to model energy flows associated with people in a building (Tsai & Gero, 2010), where the movement of people is not determined by any specific physical laws and thus there is no choice but to provide an ad-hoc model based on high-level knowledge about the building use. It has been observed that qualitative models often result in too many fault candidates, and a reasoning scheme based on past experience and ad-hoc system dynamics where it can be difficult to obtain the proper models for quantitative methods (Samantaray & Ould, 2011). The most widely-used qualitative equation-based constraint method has been QSIM (Kuipers, 1986). Kuipers has acknowledged the problems with QSIM for many applications - chattering, uncontrolled branching of possibilities, asymptotic behaviours (Fouche\u0301 & Kuipers, 1990). While some techniques have been developed for minimising the problems (Clancy & Kuipers, 1997), the problems with the approach remain for practical systems. As observed (Mosterman & Biswas, 2000), reducing model complexity by eliminating higher-order derivatives and non-linear effects leads to discontinuities in the system (i.e. state changes) and careful analysis of the underlying physical nature of the system is required when constructing models in order to ensure that the simplified models correspond to real behaviour. That kind of careful analysis is not possible when linking QSIM-style qualitative equation-based constraint methods to physical components, and certainly not when wanting to be able to simulate faulty components.\nOur two-level approach has achieved practical success even in less sophisticated versions than the present approach (Price & Struss, 2004) by avoiding direct translation of differential equations to their qualitative versions, and rather representing phenomena explicitly as state-based representations at the local component behaviour level and providing a constrained global representation. This does not limit the applicability because it is the property of the model that is discrete or continuous rather than any inherent property of the system (Struss, 2003), and the real question is what kind of model is appropriate for the reasoning task at hand. The modelling in this paper requires minimal algebraic effort, by representing component behaviour at an abstract level such that qualitative behaviour can\nbe predicted for nominal and failure modes for topologically complex systems with many component states."}, {"heading": "2. The Qualitative Power Network", "text": "The power network (system circuit) is represented using resistances, R, as the structural component. The simulation task is to derive the effort across each resistance and the flow through each resistance given a power (effort or flow) source in the network. A minimal useful qualitative quantity space uses [0, r,\u221e] to represent resistance and [0,u] to represent effort, E , at the supply terminals (Lee, 1999). A linear network uses the generalised version of Ohm\u2019s Law for effort, flow, and resistance, E = F \u00d7 R, and provides the current assignment in Table 1. The first row is qualitatively ambiguous because any flow through a zero resistance produces no effort loss. It is not physically possible to have an effort drop across a zero resistance and hence the flow in the fourth row is shown as t to indicate an impossible case.\nA power network is considered as a graph G(T,A) containing nodes T and edges A that connect exactly two nodes, and represent the circuit resistances. Each edge e \u2208 A has a resistance value R(e) and connects a pair of nodes e = \u3008t1 \u2208 T, t2 \u2208 T \u3009. Effort is measured between two nodes E(t1, t2) and flow is measured through an edge F (e). The degree of a node is the number of connections to that node. Looped edges with both ends connected to the same node therefore increase the degree of the node by two."}, {"heading": "2.1 Order of Magnitude Representation", "text": "An order of magnitude representation for R allows more detailed modelling without introducing qualitative ambiguity by separating artefacts with significantly different characteristics (Raiman, 1991; Lee, 2000a). This enhancement improves the ability to represent nominal behaviour such as distinguishing signal level power from actuator power in electrical circuits, and gravitational \u2018head\u2019 pressure from the system pump in selected fluid transfer systems. The modelling of faults is also improved by allowing exaggerated faults to be modelled, thus producing effects for faults where effects would otherwise be qualitatively indistinguishable from nominal operation.\nWe define O(M) qualitative resistance values R = [r1 = 0, r2, . . . , ri\u22121, rm = \u221e] such that ri+1 ri for any i. In addition ri/ri+1 = rj/rj+1 for any i, j \u2208 N. Physically we interpret this to mean that any number of rm valued resistors in series will be dominated\nby a single rm+1 valued resistor in the same series segment, and that in addition, the magnitudes of the resistances are qualitatively of equal spacing. The OM representation proposed has the benefit that it does not generate additional qualitative landmarks that lead to potential ambiguity in the model, indeed its purpose is to allow qualitative distinctions for characteristics that are known to be of a significantly different magnitude. The qualitative OM approach is somewhat analogous to the base 10 logarithmic scale used for magnitude approximation in numerical reasoning, with two differences. For the qualitative assumption above to hold generally when mapping from numerical specifications to qualitative ones in practical systems, a coarser magnitude scale than 10 is required. Therefore, models that distinguish values based on the numerical equivalent of three order of magnitude prefix ranges, such as A, mA, \u00b5A for electrical current, work well. Secondly, may be interpreted for a specific application type or domain. For example if we can assume in some fluid system that the pressure in a system created by gravitational \u2018head\u2019 in a vertical pipe is always dominated by the pump(s) working against it, regardless of the number of pipe sections in the system, we can consider these at different qualitative magnitudes, even though numerically this clearly is not the case. In this case a consistent set of qualitative magnitudes, models, and interpretations is required for each application or domain that separates phenomena considered to satisfy for target systems.\nThe qualitative magnitude notation for q3n is introduced as a convenience for lower magnitudes to indicate a quantity n orders of magnitude below q. Similarly, for convienience, q2n indicates a quantity n orders of magnitude above q and therefore q3n = q2(\u2212n). The OM calculations follow the usual rules of sign algebra (Trave\u0301-Massuye\u0300s, Ironi, & Dague, 2004) but allows the domination of one magnitude by another as shown in Tables 2 and 3 for positive multiplication and addition respectively. Table 1 can now have u replaced by u3n and r replaced by r 3m resulting in f 3(n\u2212m) for the flow result in row 5."}, {"heading": "2.2 Network Reduction", "text": "The OM representation is utilised for each of the resistance, effort, and flow variables of a power network. The aim is to derive flow and effort values throughout the entire circuit, and this is achieved by reducing the circuit to a single equivalent resistance, assigning the flow value and expanding the network assigning effort and flow values at each level of expansion according to the qualitative structures present. The network reduction is performed by series and parallel (SP) circuit simplification with an OM version of the qualitative star\u2013 delta (Y-\u2206) transformation (Mauss & Neumann, 1996) for non SP cases as follows.\nWithin a network graph G, any nodes of degree two can be removed and have both connected edges e1, e2 replaced with an equivalent series edge of resistance:\nR(e1 \u00a6 e2) = max(R(e1), R(e2)) (1)\nAny edges e1, e2, . . . , en that share the same pair of nodes can be replaced by a single equivalent parallel edge with the resistance:\nR(e1||e2|| . . . ||en) = min(R(e1), R(e2), . . . , R(ei)) (2)\nTo facilitate vividness of the derived model we use the convention e1||e2 to label edges representing a parallel combination of edges and e1 \u00a6 e2 to indicate a series combination. Iterative application will produce a tree of equivalent resistances and will result either in a single resistance R\u2032 between the supply nodes t\u2295 and t or a non-SP reducible circuit fragment.\nThe majority of circuits are SP reducible, particularly if we consider that zero resistance edges can be removed from the network to simplify the topology (Section 2.7). For the remainder a Y-\u2206 transformation can be applied as shown in Figure 2. The introduction of Y-\u2206 resistances unfortunately reduces the vividness of the representation since they are not directly related to the original component structure; however, it provides a general solution and can assign flow direction for any network, unlike earlier work (Lee, 2000a). A qualitative signs version of this transformation was utilised before (Mauss & Neumann, 1996), however, an OM representation introduces the possibility of additional levels of resistance for the transformed node and requires a more detailed analysis.\nEdges e1 . . . en connected to a non SP reducible degree n star node are replaced by new edges ejk that form an equivalent network where 1 \u2264 j \u2264 n, 1 \u2264 k \u2264 n, k > j. Using RR(e) to notate the numerical resistance of edge e, a 3 node Y-\u2206 transformation is defined (symmetrically for other edges) as:\nRR(e12) = RR(e1)RR(e2) +RR(e1)R(e3) +RR(e2)RR(e3)\nRR(e3) (3)\nEquation 3 is generalised as a star mesh transform defined for star nodes of any order as:\nRR(ejk) = RR(ej)RR(ek) n\u2211\nm=1\n1/RR(em) (4)\nNoting that for the OM qualitative values:\nmax (\n1 a , 1 b , ...\n) =\n1 min(a, b, ...)\n(5)\nthe qualitative version of equation 4 for 1 \u2264 m \u2264 n is:\nR(ejk) = R(ej)R(ek) min(R(em))\n(6)\nIf the denominator is \u221e, then all of the resistances must be \u221e and R(ejk) = \u221e. If any of the star resistances, R(em) = 0, then the result is undefined. Hence, for efficiency, zero resistance edges are removed by combining the associated nodes into a super node which will be discussed in the next subsection. If the numerator contains 0 or\u221e, that value is the result. For all other cases the result is determined by the magnitude indices of the values. If min(R(em)) = r2cm and R(ej) = r 2a j and R(ek) = r 2b j ,"}, {"heading": "2.3 Flow and Effort Assignment", "text": "The reduced network can have a flow (or effort for flow sources) assigned for its source directly from the OM extended version of Table 1. The R = 0 case t is reported immediately since it has a specific physical interpretation in most circumstances, such as an electrical short circuit. When R = 0 contains another source (Section 2.5) not presently under consideration, that edge is ignored. To determine the flow in a specific circuit component, the edge hierarchy is expanded for the required edge. The sign of a flow determines its\ndirection relative to an arbitrary terminal order for each resistor, using a convention t1 t2 is f and t2 t1 is -f.\nFor edges e1, e2 that are part of a series pair the flow through each is simply the flow through the pair: F (e1) = F (e2) = F (e1 \u00a6 e2) and the effort across the edge is E(e1) = F (e1)R(e1) (noting that f 3nr 3m = u3(m+n)). If R(e) = \u221e, then F (e) = 0 and E(e) is undetermined from the effort equation (see rows 3 and 6 in Table 1); however, unless R(e1) = R(e2) = 0, E(e) = E(e1 \u00a6 e2).\nFor edges in parallel, E(e1) = E(e2) = E(e1||e2) and the flow is F (e) = E(e)/R(e). When R = 0 it is physically impossible that E 6= 0, unless there is a short circuit at the supply, which is treated as a special situation. If R =\u221e then F = 0 as in Table 1.\nFor Y-\u2206 edges we have a sum of flows,\nFek = k\u22121\u2211 m=1 F (emk)\u2212 n\u2211 m=k+1 F (ekm) (8)\nThe addition of mixed signs leads to the possibility of an ambiguous flow (Table 3), as would be caused by a balanced bridge configuration. This indicates that the qualitative behaviour, and possibly, future state of the system depends on the numerical values of the resistances within one order of magnitude, signalling the analysis to try and obtain more detailed information. At the level of resistances, an ambiguous flow value does not necessarily lead to a reasoning impasse at the higher-level tasks such as FMEA if a higher-level behaviour is not dependent on the value and the analysis tool reporting does not require it. Finally, E(eek) = F (eek)R(eek).\nFigure 3 exemplifies a number of the concepts in the preceding subsections. The notation \u2295 and is used to identify positive and negative supply nodes, using a subscript to identify the source when necessary for systems with multiple power sources. Working from left to right in the Figure, a sequence of circuit reductions is performed to obtain a final single equivalent resistance value. An overall flow value is then computed and distributed amongst the circuit elements from right to left in the Figure as described above. Finally the flows in the Y are calculated from the \u2206 flows using equation 8, noting that the positive flow directions are defined as away from the star centre node.\nF (e1) = \u2212F (e14)\u2212 F (e13) = \u2212f 31 \u2212 f 34 = \u2212f 31 F (e4) = \u2212F (e14)\u2212 F (e43) = f 31 \u2212 f 33 = f 31 F (e3) = \u2212F (e13)\u2212 F (e43) = f 34 + f 33 = f 33"}, {"heading": "2.4 Distinguished Node", "text": "Effort values are measured between two nodes and for convenience it is common practice to identify one distinguished node in a network and make measurements relative to that node. This then allows effort to be measured \u2018at\u2019 a node with the implicit assumption that the second node is the distinguished node. This is commonly the case in electrical systems where the distinguished node is called ground or earth and provides a reference node for voltage measurement and is often defined to be the negative supply terminal in a single source system.\nFor generality we define the symbol Z as the distinguished zero node for a network of any type with specific instances, such as A to represent \u2018atmosphere\u2019 for fluid flow systems. Notice that Z does not provide another landmark value in the qualitative effort space; it provides a structural reference point in the resistive network.\nThe identification of Z allows the definition of \u2018absolute\u2019 effort relative to this point. The qualitative effort levels [0, u] are supplemented \u2013 as for voltage (Lee, 1999) \u2013 with two additional symbols that represent structural features of the circuit that emerge during simulation. These additions are useful for interpretation of the simulation, but do not change the quantity space itself. \u2205 is used to indicate a floating effort present in circuit fragments disconnected from any source and \u223c is used to indicate an effort that is between the supply terminal\u2019s voltage, i.e. E(\u2295,\u223c) = E(\u223c, ) within the same magnitude. \u223c is associated to each source and is less useful for systems with multiple active effort sources. It is always useful to distinguish \u2205 from 0 and ? because \u2205 is generally undefined and would not provide a meaningful measurement, although it may read 0 if measured. The qualitative value ? is different from \u2205 because ? is qualitatively undetermined but has a value within the scope of the modelled system, whereas \u2205 has no value within the modelled system."}, {"heading": "2.5 Multiple Effort Sources", "text": "The network solver calculates power consumed (P = E\u00d7F ) for a single source. For a linear resistive network we can use a qualitative version of the principle of superposition where more than one source is connected to a single network (noting a single system schematic may, at any instant, actually comprise many isolated networks, possibly in different domains, even though all components on the schematic appear connected). Each network is analysed separately for each source by inhibiting all other effort sources and summing the results.\nFor sources s1 . . . sn, the qualitative flow through an edge e is given by \u2211sn\ns1 F (e) =\nmax(Fs1(e) . . . Fsn(e)). Clearly where two opposing flows of the same magnitude exist, the\nedge suffers from qualitative ambiguity. For failure configurations, the ambiguous result is useful in highlighting to an engineer that a range of possible failure behaviour can occur. Simple relational constraints may be used to resolve an ambiguity for the common special case when there is a zero resistance between one of the supply nodes \u2295s1, s1 and one of \u2295s2, s2. For example a statement of the relative power of two pumps will allow the direction of flow in the reduced circuit to be derived, thereby allowing flows in the expanded network resistances to be calculated.\nFigure 4 illustrates a circuit schematic for an electrical system with two effort sources and resistances of magnitude r31 and r. The individual flow contributions calculated for source s1 are shown with a coarse broken line, and the flows for s2 with a fine broken line and are annotated with the flow magnitudes. The flow sum is shown for each resistor. There is partial flow ambiguity in the circuit, shown by the double-headed arrows next to resistors in the centre section where opposing flow contributions occur at the same magnitude. If the state-based or functional simulation requires the flow (direction), power or effort at these resistors, then it is necessary to know the values of the resistors."}, {"heading": "2.6 Representation of Substance Within the System", "text": "The discussion so far has not considered the nature of the flow. For some domains the flow, such as electrical current, is implicit in the component models. In the thermal domain E is a temperature difference and entropy flow is F . The product of these is \u2018heat\u2019 or thermal power, P , and the resistance of each component is selected to represent the reciprocal of thermal conductivity. Fluid transfer and hydraulic systems include the possibility that more than one substance can be associated with a network, particularly when faults are present. A concrete example is given by a fuel distribution system. If the supply tank becomes empty, air will enter the system and the behaviour of pumps and other component may change.\nThe substance-dependent behaviour is represented at the component level. The power network provides an instantaneous view of effort and flow, so it cannot participate in propa-\ngation of flowing substance, it is, however, necessary for the components to be able to obtain knowledge of the substance at the interface with other components. The network nodes are considered as zero volume points of connection that instantly propagate substances from component outflows to inflows. The local component behaviour provides substance information to the nodes in an appropriate qualitative timeframe according to the substance present at inflows, capacitance and other behaviour. There can be several connections to a node and flow direction may change during simulation. For these reasons a new concept is included in the circuit solver; a list of substances is maintained at each node that contains the output substances of each resistance connected to it at any instant of the simulation. Figure 5 depicts a node connected to three resistances. The flow directions are likely to cause e1 and e2 to modify the associated SUBSTANCE lists in t1. If e3 then requests the substance from t1 using S(t1), then {S0, S1, S3} will be obtained.\nThe presence of more than one substance at a node will result in substance \u2018mixing\u2019 by virtue that all substances present are provided to any component that uses the node as an input. We might consider using the flow magnitude information to indicate the ratio of substance present, however, the reality will usually be that many other factors are involved, leading to a process of diminishing returns for the modelling effort required.\nThe modelling of substance in this work is deliberately simple and provides qualitative capabilities to match conventional bond graphs which address systems with free energy (mechanical, electrical, magnetic, incompressible fluid) in which all elements are conservative except the resistance, where energy is dissipated. Sophisticated techniques have been added to the Bond graph methodology (Brown, 2010), which allow numerical models of thermofluidic phenomena to be constructed; however, the complexity required of these models is such that the benefits of the broad-based qualitative modelling for system engineering analysis such as FMEA is lost. Some alternative approaches to qualitative reasoning have considered changes of material state for example a \u2018plug-based\u2019 ontology (Skorstad, 1992b) which is able to model the phase transitions in a steam boiler tube, however, the modelling required is necessarily detailed and the 13 state envisionment produced illustrates the complexity of the phenomena. Another approach to avoid complexity is used by Ghiaus who provides a qualitative model for the Carnot refrigeration cycle (Ghiaus, 1999) based on equations derived from a thermal bond graph and thus does not include substance properties as the system is assumed to be in equilibrium, precluding analysis of many failure modes.\nWithin our proposed ontology, compressible fluids require representation of the state of the substance and would require that the substance state is parameterised in the models.\nEnthalpy flow could potentially be modelled by providing multiple forms of a substance (including phase changes) which are related to changes in containing volumes and pressures, providing effort to a thermal circuit. In any modelling enterprise, a choice has to be made as to the range of phenomena that are worth modelling, based on the required analysis. Complex thermodynamic aspects are one area where we have not considered automated analysis \u2013 at the overall system engineering level \u2013 to be worth the modelling effort because it is not clear that there is sufficient range of faults supported by models that can provide qualitatively distinct useful behaviour predictions. This is possibly an area for future research and may indeed provide fruitful results, but we make no claims at the current time."}, {"heading": "2.7 Computational Enhancements", "text": "The network reduction and flow assignment detailed in the previous sections is sufficient to solve the OM effort and flow parameters for any network topology. There are, however, several additional concepts (Lee, 1999; Lee et al., 2001) that remain applicable using the SPS technique, and can provide additional vividness in the representation as well as computational benefit. These enhancements deal with very common special cases to avoid the need to use the Y-\u2206 transformation, which produces resistances that are not associated with the original circuit components in a straightforward way.\nAny nodes connected by 0 valued resistances can be aggregated as a single supernode, with E(e) = 0 across any edges subsumed by the supernode. For an edge e = \u3008ti, tj\u3009, where ti, tj \u2208 T , and R(e) = 0 a supernode tij is created with the label ti.tj , and the edge is removed from the active graph. Once generated a supernode can participate in further SP Star (SPS) reduction, however, upon expansion of the circuit it is not possible to directly allocate flow to the edges represented by the subsumed edges as is done with SPS expansions.\nThe flow within supernode edges can be deduced for unambiguous (non-ladder network) cases using a qualitative version of the Kirchoff\u2019s current law. With the exception of the source nodes, for a node t and connected edges with flow F (e):\u2211\n{e\u2208A:e=\u3008t,x\u3009 \u2228 e=\u3008x,t\u3009}\nF (e) = 0\nFor supernode edge flow values, f1 3m1 ... fn 3mn , flows F \u2032 = {fx 3mx : mx = max (m1...m2)} dominate. For a node with |F | \u2212 1 edges flowing into the node the unassigned flow edge must be out of the node with a flow equal to the flow magnitude in F \u2032 towards the node. The dual exists for flows in the other direction.\nTwo additional enhancements may be used to improve implementation performance of the network analyser. Edges e = \u3008ti, ti\u3009, ti \u2208 T are a loop and can be removed from the active graph since the loop is by-passed by a zero resistance path, hence is assigned zero flow upon expansion. Loops typically represent shorted out parts of an electrical circuit for example.\nDegree one nodes, e \u2208 {\u3008t, \u2205\u3009, \u3008\u2205, t\u3009}, t \u2208 T , are known as dangling edges and are also removed from the graph together with the connected edge as and when they occur as a result of other reductions."}, {"heading": "3. Local Component Models and OM Time", "text": "The resistive network calculates power consumption, P , but cannot model any component that stores energy, En, since En = P \u00d7T for time T . Displacement and momentum are the two domain independent characteristics resulting from the inclusion of time into the model (Figure 1). Energy, displacement and momentum are fundamentally local characteristics of components derived from the power variables and time. The representation of time follows the OM approach described in Section 2.1. For a time t3n and flow f3n, d3(n+m) = f3nt3n defines a displacement d such as quantity of substance. A FSM representation of local component behaviour has proved sufficient for abstract behaviours for the failure analysis task. Time is represented by state changes and is explicitly represented by state transitions that capture the qualitative integration of effort or flow variables. The state of the power network is used to trigger transitions, as are input events from outside the system (external interactions). The change of state of a component may cause the structure or resistive parameters of the power network to change, thus triggering a power network simulation and a sequence of events in other components. This results in a system of interacting state machines, sharing time as a common variable that sequences events.\nWe use a specialised subset of the UML language state chart notation (OMG, 2012) to describe the FSM models. The model is comprised of a set of states S, events \u03a3, and transitions \u03b4 = S \u00d7 \u03a3 \u2192 S. In addition s0 \u2208 S defines the initial (default) state of the component. Output actions A may be associated both with e \u2208 \u03a3 and also as entry actions associated with s \u2208 S. The UML provides for guard conditions on events and we refine these conditions to produce e = (t, Tc, Dc, Fc, A). t represents a temporal condition for the transition as a qualitative OM duration after which the transition can occur once Tc is satisfied, provided Fc is true after this time. i.e. Tc triggers a transition and Fc and allows it to complete (fire). Dc is a condition that must be satisfied during the transition, between the satisfaction of Tc and Fc. All conditions may appeal to values from the network model, and A may change the resistance values of the network model. States are used to represent the qualitatively significant values of variables that are derived from the integration of efforts and flows over time or higher-level states of components. For example capacitor charged/discharged, or relay activated/deactivated. The following sections describe the component level simulation and the component model syntax."}, {"heading": "3.1 Component Level Simulation", "text": "The presence of multiple components in a system results in a set of independent interacting FSMs. The only global variable at this level is time, and the OM representation provides for sequencing of component behaviour at different timescales. The definition of OM applied to time requires that a sequence of (non-cyclic) events in t3(n\u22121) occur before an event in t3n.\nThe processing of events is carried out by maintaining a time-ordered priority list of all component events with satisfied conditions. All events are ranked by their order of magnitude time delay periods (referred to as time-slots subsequently) in the following way:\n\u2022 All events e where Tc is satisfied are added to the end of Q for the priority specified by t in the event or 0 if unspecified.\n\u2022 Candidate events to fire are n \u2208 N where N \u2286 Q and t(n) = t3x such that min(x) \u2227 N 6= \u2205, i.e all the events in the lowest order non-empty timeslot.\n\u2022 All events n where Fc(n) is satisfied are fired, and events where \u00acFc(n) are removed from the queue.\n\u2022 Any events where Dc if not satisfied are removed from the queue.\nWhen |n| = 0 the system has reached a steady state and there are no further changes of state. When |n| > 1 there is non-determinism in the system. The important question for FMEA is the longer term impact of the alternative behaviours on the potential worst case faults and this usually depends on whether the alternative behaviours diverge to significantly different functional (external) effects or are alternate paths through internal states that converge on a common state. Very often it is the latter case. For example two relays wired in parallel may not switch at exactly the same moment, resulting in two possible behaviour paths and two intermediate states, neither of which is significant in most cases.\nIn some systems it is possible to make a concurrency assumption that specifies that the final state reached at the end of time period t3x is independent of the ordering of the events in the time period. The presence of race conditions or feedback loops between mutually interacting components does not allow the concurrency assumption, allowing the system to reach a qualitatively distinct state dependent on the detailed numerical timing of the events. This is a case where the qualitative representation of time lacks enough detail, and this qualitative ambiguity will not be detected if the concurrency assumption is falsely applied. In most systems it is certainly reasonable to assume that all t = 0 events are concurrent, provided only events associated with the power network have t = 0 because these rarely have causal cycles, unless specific examples such as bistable logic gate configurations are created. Usually such \u2018memory\u2019 features would be represented at a higher-level as the state variables (e.g. electronic control unit), leaving the domain-based modelling with non cyclic causality.\nGenerally, each possible ordering of the events in each time-slot must be considered to determine if all branches (eventually) reach the same state and, if this is not the case, generate a number of alternative behaviour paths. This is achieved by a breadth-first search to determine converging or cyclic behaviours when the system reaches a state that is identical to a previously encountered state. There is no assumption made about such behaviour; it is necessary for the simulation to detect cyclic behaviour to allow termination and appropriate reporting. Alternatively the simulation must seek additional information or advice from the engineer, if, for example, no converging state is found within a reasonable length behaviour path."}, {"heading": "3.2 Component Modelling Examples", "text": "A graphical notation is used to describe component models, for example Figure 6. State entry actions are placed inside the rectangle representing the state, and an event syntax \u2018[if Tc [during]] event name [after t [Fc]][/A]\u2019 is used where [x] represents an optional element x. The keyword during is used to specify that Dc = Tc, and also that Fc = Tc if Fc is unspecified. If during is omitted then Dc = >. If Fc is omitted then Fc = >. The keyword\nafter is used to specify t. If no after is specified, then the event is at t = 0, i.e. immediate occurrence.\nAs an example assume we have the following OM time values F = {mS, Sec, hour, day} and flow levels T = {low, normal, high}, where Sec and normal are given the OM index of zero. A tank of a given volume may be defined by an event that changes from the \u2018empty\u2019 to \u2018full\u2019 state in a given time, e.g. \u2018if F (tank inlet)==normal during filling after hour\u2019 provides an implicit volume of 21, or one order of magnitude bigger than a nominal volume, given the chosen flow and time qualitative space. By explicitly including the volume in the event conditions it can be made to represent a number of possible transitions after different durations, for example, \u2018if F (tank inlet)>0 during filling after tank volume/F (tank inlet)\u2019, where tank volume is defined by the component to have the qualitative volume value with magnitude 21. The flow condition prevents an event that requires an infinite amount of time to fill the tank (0 is effectively normal2\u221e)\nFigure 6 shows the two-part model for a tank. The two levels of the model are shown on the left, with graphic icons on the right that can be used to display simulation results on any schematic containing an instance of this component. The structure is a single zero resistance because the tank dissipates no energy during filling. The capacity of the tank is defined by a local component variable volume, used in combination with the flow, F(tk), to control the change of state, allowing several different capacity instances of the tank to be created by parameterising the model.\nThe tank in Figure 6 does not store any energy because the effects of gravity are ignored and hence there is no increase in potential energy as the tank fills. This aspect could be included in the modelling by making the tank into a small magnitude effort source when its level is non-zero. It will then include capacitance as well as displacement (zero stored energy volume) provided by the duration the flow continues prior to change of state. Atmospheric pressure is often a significant qualitative value in fluid flow systems and the behaviour of a system may depend upon the pressure difference between atmospheric pressure and some\nother point. A is defined as the fluid flow domain specialisation of Z and provides a global node accessible from any component model that represents a connection to the atmosphere. Examples include a vented tank or leaking pipe.\nA different component is used to illustrate a component containing a dependent effort source. Figure 7 shows a model for a (non-horizontal) pipe that contains either liquid or a gas (air). A resistance of R(pipe) limits the flow in the pipe and represents a combined measure of smoothness, length, Reynolds number etc. The pipe model is parameterised; an ideal pipe is produced if length = 0. A pipe blockage fault model could set R(pipe) =\u221e.\nThe filled pipe represents a small magnitude effort source. The pipe has an additional resistance to represent the \u2018pipe wall\u2019 to facilitate fault modelling by providing a possible connection to A. The event conditions cause the pipe to fill at a rate inversely proportional to the flow through it. The rightmost event specifies that the pipe can prime itself, ie. if fluid is present at the top inlet (only), it will fill without externally imposed flow.\nFigure 8 illustrates some general ways a component local behaviour may interact with the structure for several common component types. Real component models will have additional relationships and constraints associated with qualitative values and device states, dependent on the details of the behaviour required."}, {"heading": "3.3 System Modelling and Circuit Topology", "text": "Figure 9 is an artificial system of components similar to those described in the previous section and will be used to illustrate topological aspects of the modelling and simulation. In addition a valve with closed (R = \u221e) and open (R = 0) states related to an external position input is included, together with a simple pump that may be activated via \u2018activate\u2019 and \u2018deactivate\u2019 external events. If the electrical aspects of the system were included then\nthe pump model would include an electrical resistance and the events would be triggered by the level of power (or current flow) in the electrical resistance, thus setting the effort level of the pump appropriately.\nOther qualitative aspects of the pump can easily be included in the model to create different types of pump. The details of the design of the pump may allow flow when it is inactive as is the case here, however, it is easy to include a state-controlled resistance set to \u221e for a pump that does not allow flow when inactive. Similarly, with an additional condition on the events, the pump can be made non-self priming if no fluid is present at the input. A bi-directional pump type requires an additional state and selection of the correct substance input.\nConsider the simulation of the system in Figure 9 from the state at the top of Table 4 with the pump off. The table summarises the changes of state of each component with\nhorizontal lines at the points where the network simulation takes place. The Pump Valve Pipe D, do not change state maintaining the states off, closed and empty respectively. In this example there are no resistance changes, only changes to effort sources. Initially the vertical pipes prime and fill in sequence as fluid is propagated from inflow nodes to outflow nodes, creating two pressure sources that cause a flow from the upper to lower tank and a flow of air out of the vent of the lower tank and into the upper tank.\nA qualitative ambiguity then results between two events of the same duration, raising a question which could not be answered without knowing the numerical sizes of the tanks (and the quantity in each if not full and empty at the start). In this case the simulation was allowed to try the alternative behaviours. The first is that Tank A becomes empty before Tank B fills and a steady state is reached with Tank A empty and Tank B is part filled. The second possibility is that the lower tank becomes filled before the upper one empties. This causes fluid to reach the A node, and this is built into a model of the atmosphere that reports an abnormal condition because a substance other than \u2018air\u2019 is present. Finally a steady state is reached where Tank A is empty and Tank B is full.\nIf the pump is switched on and the valve opened, the pump effort source causes flow up to both top tanks because the pump is a larger magnitude of effort than gravity in the pipes, however Tank C is an order of size larger and the simulation is essentially the reverse of previous example. Tank A overfilling is a spurious prediction because the simulation is not able to reason that all of the fluid originally came from Tank A.\nAn illustration of flow ambiguity occurs if only Tank A is full and the valve is open and pump off. The simulation starts as before until Pipe B is filled, then Pipe D becomes filled from the bottom due to the effort from Pipe A. Pipe D then becomes a pressure source and is ambiguous with the opposing effort from Pipe A. The \u2295PipeA and \u2295PipeB supply nodes are both connected to a supernode allowing specification that E(Pipe D.gravity) < E(Pipe A.gravity) to establish flow direction; Pipe D will fill and there will be a flow into Tank C, as would occur if Tank C was lower than Tank A. It is large so never becomes full, and subsequently drains through PipeD.\nIf E(Pipe D.gravity) > E(Pipe A.gravity), then Pipe D drains itself (producing air at the valve) whereupon the cycle repeats. The simulation concludes that the pipe is oscillating between the full and the empty state and its state is undetermined at this modelling resolution. There may be physical oscillation, however, usually this indicates that the system is in a state that cannot be represented at the level of abstraction being used.\nThe final possibility is that E(Pipe D.gravity) = E(Pipe A.gravity), (it has filled to the same height as Tank A) then there is no flow in Pipe D. In all cases there is flow to Tank C which is either full or part filled at steady state.\nThese last examples were deliberately chosen to be at the limit of the representation, if they occur during an FMEA during nominal operation, there is a clear indication that a more detailed numerical model is required for the state or behaviour; if they occur during a component fault then there is a signal that a failure mode has been encountered that requires further detailed investigation.\nAn equation-based qualitative model of a system of tanks (Dressler, Bo\u0308ttcher, Montag, & Brinkop, 1993) allows some comparisons to be drawn with our approach. Firstly, the authors note an important feature also relevant to our approach; for diagnosis (and also FMEA) a complete behaviour description is not necessary. In fact, a model containing too much detail is likely to produce many qualitative ambiguities (or branching behaviour) on unimportant behaviour aspects. These problems have been described in detail (Clancy, Brajnik, & Kay, 1997) and strategies to avoid the problem such as model revision proposed, with various tools used to support the revision of (QSIM) models. While this may eventually result is a desired simulation result, such strategies prove problematic for FMEA due to the range of behaviour likely to be encountered by the automatic insertion of component failure models into the system; we need abstracted models that are nevertheless grounded in the basic physics and are fully compositional.\nTo avoid such difficulties a simplified numerical model containing the relevant behavioural phenomena, can be used (Dressler et al., 1993) and subsequently refined this into a qualitative one. During this refinement process, variables and values were mapped onto qualitative values (0,+,\u221e); however, some values were required to be treated differently with various landmarks being identified \u2013namely the height of liquid in the tanks and the atmospheric pressure. This illustrates the problem using the general equations, since a numerical equation does not provide landmarks that represent states such as the\nvolume of a tank, and global features such as A. We suggest that explicit state identification, with temporal state changes, provides a more vivid qualitative model, within a broadly applicable domain-independent generalised framework. Other components used by Dressler, such as a valve, require mappings between an input command and the flow in the valve, using an expression to set the valve flows (denoted i) at input and output as follows: valve.status = :close\u2192 valve.i1 = valve.i2 = 0. We also note from the model that an open valve is defined as valve.i1 = \u2212valve.i2 and therefore propagates the flow locally when the valve is open. This requires a predetermination of cause and effect in the power network, unlike our global network model. In our approach a state description of the valve (relay in Figure 8 is analogous to an electric valve) that controls the qualitative resistance is more vivid (and physically correct) than controlling the flow, since the flow depends on pressure, and pressure cannot be determined locally. If an OM model is used, a partly blocked valve can be represented by an OM higher resistance than normal. In this situation it is not feasible to set the flow value based on valve control state, because it depends on the external system.\nThe A node is important to the circuit-based representation in the pumped system example, however in general the Z node may also lead to power network ambiguity unless the following condition is satisfied. The zero node must partition the graph into two disjoint sets of edges sharing only Z and supply nodes. This topology naturally exists in many practical fluid flow circuits, because the only connection between the negative (suction) and positive (pressure) parts of the system are the pump itself and the atmosphere. For others such as the contrived example in Figure 10, analysis is inherently limited since it is impossible to determine qualitatively that a leak in Pipe E would cause liquid egress or air ingress. The ambiguity is indicated because the direction of flow through the leak (represented by the dashed resistances on the right of the figure) at either end of the pipe is different with respect to the atmosphere, as shown by the arrows.\nThe example also illustrates two additional resistances used to represent a \u2018leak\u2019 failure mode because of the qualitative difference in behaviour dependent upon leak position. The resistance magnitude is used to indicate the severity of the leak where zero would produce a complete fracture. The arrows on the leaks from PipeC and PipeD demonstrate an unambiguous qualitative behaviour, however PipeE shows conflicting leak flows with respect to A. This qualitative result is exactly what we would expect in the absence of numerical information, and explicitly signals the limit of the behaviour predictions possible with limited information about the system. Circuits that have resistances that bridge the Z node also cannot have effort values assigned relative to Z."}, {"heading": "4. Faults and Exaggeration Reasoning", "text": "Exaggeration reasoning (Weld, 1988b, 1990, 1988a) provides an alternative qualitative technique for explanation of the worst case effects without the need for differential qualitative calculus. This form of reasoning is therefore suitable when we do not have detailed system equations, or, as for the global power network, reasoning about the causality is not performed. A secondary advantage for our purpose is that exaggeration reasoning often produces more concise explanations. The drawback, however, is that qualitative deviation analysis is guaranteed sound, whereas exaggeration reasoning can lead to false predictions.\nFor the purpose of FMEA there are two reasons why exaggerating faults is a reasonable strategy: firstly, the worst case effects are required, which results in fault models at the extremes of behaviour; secondly, the FMEA is intended as an aid to the engineer and is therefore externally verified.\nUsing a simple electrical torch as an example, a corroded battery contact fault may raise the contact resistance and the torch may dim, however, this resistance increase does not change the qualitative behaviour. An exaggerated fault would be an OM increase in the battery contact and the simulation predicts an OM reduction in light output. Of course a OM reduction of light would likely not be visible, but for the FMEA the effect that corrosion leads to a reduction in light is reasonable and provides a significant distinction from a fracture effect where no light or circuit activity is present.\nThe OM representation provides for exaggerated forms of faults that model significant differences in behaviour. For example a small leak in a fluid system pipe may allow air to be sucked in, causing a mixture of fluid and air at the output; a fracture in the same position may result in no output because the pump fails to operate with only air.\nA common approach to reasoning about this qualitatively is to use a qualitative constraint-based deviation model and propagate the deviation through the system. Reasoning about deviation works well for parameter value changes, but is less good where structure or state changes occur, such as the air ingress example above where a new system state occurs due to air in the pump. Each approach has its strengths, and so we might use absolute/exaggeration reasoning to determine the impact of faults on major states and operating modes (or regions of linear behaviour), followed by deviations to isolate finer grained effects such as expected direction of value drift due to a fault."}, {"heading": "5. Generating an FMEA", "text": "An automated FMEA is typically based on behaviour simulation for many component faults and operational scenarios. Producing the FMEA has been previously described in detail elsewhere (Price, 1998), however, since it is the end goal of the modelling and simulation effort, we summarise the main steps as follows:\n\u2022 The system is simulated with no failed components over the expected operating conditions.\n\u2022 The system is simulated for each of the component failure modes contained in the component type models for every component instance, over the same operating conditions. Multiple faults may also be considered for high failure rate component combinations.\n\u2022 The output of the simulation is the qualitative value of all system variables for each step (state) of the simulation. These are used by a completely separate functional model that identifies specific (output) behaviour with the state of identified system functions. Functions can be in one of four states (Achieved, Failed, Unexpected Behaviour, Inoperative) based on the truth of Boolean trigger and effect expressions that evaluate simulation output variables. The functional model is lightweight, but can capture a hierarchy of system functions, including temporal aspects. Full details of the functional model have been previously presented (Bell, Snooke, & Price, 2007).\n\u2022 The nominal and failure functional states are compared, and used to indicate at a high level of abstraction, the highest risk failed system functions and unexpected function effects associated with each component fault.\n\u2022 Further presentation, selection, ranking of the function states and risk factors computed from information associated with the function states and component reliability allows an FMEA to be produced. The structure of a typical automatically generated FMEA is shown in Figure 17 for our second example, discussed in Section 7.\nIt is the simulation step of this process that is of interest in this paper and the following sections provide two example systems as illustrations."}, {"heading": "6. Case Study Example: Domestic Heating System", "text": "Figure 12 shows a schematic for part of a simple domestic central heating system. The complete model includes an electrical microcontroller that controls voltage to the pumps and activators, in addition to a thermal system, we however focus on the fluid flow aspect. The gas boiler and three way valve had been retrofitted some years after initial installation. Either the gas boiler or wood burning stove can supply hot water. The radiators are modelled as R = r, the pipes are ideal (length=0) and the boilers and hot water cylinder as R = r31 because they are much larger diameter than the radiators. The components also include a thermal element where flow is considered as the entropy flow rate and temperature as effort. The connection between these components is a compound connection including the fluid and thermal circuits. There is not space to detail the complete set of models, however, Figure 13 shows the horizontal pipe model that includes both the fluid and thermal aspects.\nThe fluid flow element is resistive and propagates the fluid based on flow direction. The thermal element is represented by a further resistance. The length of the pipe determines the thermal resistance of the pipe by conduction when there is no flow, and when there is flow, there is no thermal resistance because the heated substance is transported. Thermal power is provided by the boiler (by combustion) to create a temperature difference (effort) between inlet and outlet. This thermal effort is then applied across the radiators which provide power (heat) to the surrounding air.\nA further aspect of the heating system is the interaction between the fluid flow and temperature networks. For a flow rate such that the returning temperature of the fluid is substantially higher than the ambient air, series connected radiators each consume a ratio of the thermal power based on their dimensions. For low flow rates this assumption may not hold. For example, to represent the situation that a low fluid flow will allow more thermal power to dissipate, an additional resistance is included in the thermal radiator and pipe models that allows direct specification based on the low flow rate, such that the outlet temperature is at or close to the inlet temperature of the boiler (or atmosphere). In Figure 13 this is the low flow resistance, controlled by the flow. Figure 11 shows the effect of a low fluid flow rate, on a series of radiators. The low flow elements have changed from \u221e to r31. The power decreases by OM from the source. The first radiator is hot (if the effort source is higher because the flow is lower), the next one is an OM cooler, and so on.\nConsider a small leak in vpipe0 directly below the pump + output. In Figure 12 during operation of the gas boiler with the valve in the heating position, fluid flows through the radiators and heat is transferred to the radiators. A small amount of fluid enters the atmosphere, causing a small flow of fluid from the header tank which is replaced by water from the external water supply.\nNow we try a holiday scenario with the simulation results summarised in Table 5. The external water supply is isolated (in case of freezing). The flow model with the pump off, derived from the component models and their connections, is in Figure 14. There is an ambiguity concerning the gravity sources in the pipes p1, p7, p11(names abbreviated) which oppose p0, p3, p6, p12, p13 at the same flow magnitude. The user can provide that the\nrelationship between E(vpipe3.gravity) and E(vpipe11.gravity), is \u201c=\u201d and similarly for the other two sets (p6=p7, p3=p11, p1=p0+p13+p12). The result is a flow from the header tank to the leak via p16, p12 and p13. Air then enters p16 and it is no longer an effort source (Table 5, row 3). In addition a secondary low flow exists via p1 and p0, these flows are in opposition to each other, however the constraint above allows the p1 source to predominate.\nNow there are four sources (p0, p1, p12, p13) and it turns out there are three flow patterns. Figure 15 shows the flow system with all zero resistances and all dead branches removed, using a different style arrow to show the contributing flow patterns. The radiator section has higher resistance and therefore the main flow is due to effort from p12 and p13, drawing air from A through the boiler, p13, and pump to the leak until air reaches p12 and its effort becomes zero. The secondary flow pulls air toward the radiators until the cold side pipe (p11) becomes empty, whereupon there is an ambiguity between effort from p3 and p0. By specifying that the gravity sources p3>p1, the flow direction reverses and p0 and p1 fill with air, p11 fills with fluid from p3. Since the pipes all have the same length and diameter there are several possible behaviours; in the table we provide additional information rather than generate the alternative behaviours \u2013 which would lead to uncertainty as to the fill state of p0, p1, p2. Now p0, p1, p2, p12, p13 contain air. p3, p11, p6, p7 contain fluid and are opposing equal sources and the system is stable.\nReturning home and turning on the water causes the header tank to refill, however, the pump does not produce flow because it does not self prime. p16 will prime and create a low flow from the header tank but will take t31 to propagate to the pump. Hopefully it is not winter.\nIn a subsequent step in the FMEA scenario the wood burning stove pump is started and valve opened. A large flow of water is pulled from the header tank through the three way valve the \u2018wrong way\u2019, air and water mix in the return pipe and are pumped past the air bleed valve, where the air is removed. The gas boiler and pump can be restarted and the heating system works correctly - other than a small flow from the header tank to the leak.\nThe resulting FMEA report will highlight the effect of the failure \u2013 no heat output at any radiator after the holiday scenario step and that this is not as severe as other faults (a burner fault for example) because it is not permanent."}, {"heading": "7. Case Study Example: Aircraft Fuel System", "text": "This section describes a fuel system provided by the sponsor of the work. The modelling and simulation described forms part of a wider objective to automate manually created FMEA reports used to generate fault effect relationships as input to a Bayesian network based diagnostic system. This effort is, in turn, part of a recent 32m UK government sponsored programme seeking to research, develop and validate the necessary technologies for use in unmanned aerial systems (ASTRAEA, 2009).\nThe system considered is a fuel system for a twin engine light aircraft shown in Figure 16 and was also available as a physical laboratory simulation on a configurable rig that allowed validation of the results using fault insertion via additional components such as valves to represent leaks. The requirements for this system did not include any thermal aspects and due to the orientation changes of the system only pressure created by the pumps was required, resulting in very little qualitative ambiguity, other than when valves are placed in\nvery abnormal configurations. We created the qualitative simulation to model the physical laboratory model, resulting in the aircraft engines being represented as tanks for example. The system involves a number of tanks, valves and pumps that allow fuel to be stored and transferred around the aircraft both to supply engines and to maintain aircraft trim during flight.\nThe system is comprised of left and right fuel tanks situated in the aircraft wings (e.g. OC WT LH) and left and right auxiliary tanks (e.g. TK AT LH). The engines were represented in the physical test rig that was used for convenience, as tanks EH LH and EH RH. The wing tanks are connected to the engines via pumps (e.g. CP FL LH) and pressure sensors (e.g.\nPT FL LH) and flow metres (e.g. FT FL LH), which are also modelled as a tank to mimic the hardware test rig that was used, with excess fuel being returned to the tank from which it was drawn. Control of the fuel distribution is provided by four three-position valves (e.g. TVL FL...), which are slaved in pairs for the left and right subsystems. The basic operation of the system is to supply fuel from the wing tanks to the corresponding engine by setting all the valves in the normal position. These valves also allow fuel to be supplied from the left tank to the right engine allowing both engines to be fed from one tank (crossover operation). It is possible to feed both engines from opposite tanks if desired, although this is not a normal operating mode. In addition fuel can be transferred between the wing tanks and from the auxiliary tanks to the wing tanks, although it is not possible to return fuel to the auxiliary tanks. Failure modes were provided for most component categories including pipe and tank leaks, pump failures and stuck or leaking valve failures for every component instance.\nA portion of the resulting FMEA output is shown in Figure 17. The textual descriptions are derived from the functional model (Bell et al., 2007; Price, 1998) and provide an easily understood explanation of the fault effects and risk priority. Functions also interpret exaggerated behaviours into human-friendly phrases, for example if the return line to a tank has OM lower flow than nominal and the outflow is nominal, the virtual \u2018relative level sensor\u2019 has a value lower than expected. Of course other faults may provide an absolute qualitative value to the tank level sensor if it for example becomes empty (0) when part filled (l 30) was expected. The consistency of the fully automated FMEA analysis allows other automated tasks to be performed such as a diagnosability analysis (Snooke, 2009; Snooke & Price, 2012). The qualitative analysis allows the entire FMEA to be regenerated following system modification in a matter of seconds and only the differences to the system effects are presented to the engineer as an incremental FMEA. This allows any unforeseen implications of design changes to be easily detected.\nThe first row of Figure 17 describes the effects of a blocked fuel return pipe near the RH engine in different operating modes of the system called \u2018steps\u2019 in the output. The main\nfunctional effect is a RH engine supply malfunction (too much fuel), and the effect that excess fuel is not returned to the tank. There is also an indication that the RH wing tank level might be lower than expected; of course this is a theoretical qualitative worst case.\nThe second row deals with a fracture in the pipe just above the RH pump. The function effect is again that the engine supply failes in normal operating mode, but additionally we see that there is no flow at the flow transducer, and the RH wing tank level is higher than expected, although this is probably not the primary consideration, but could be used to indicate that fuel could be diverted to the remaining engine. This fault has a different effect in cross feed mode (fuel taken from the opposite wing tank), as in this case it is the LH tank level that is higher than expected due to the potential lack of returned fuel. Part of a RH valve fault is shown and we see that fuel is returned to the wrong tank when the LH engine is run.\nThe qualitative simulation has also been used to generate sets of symptoms that relate qualitative measurements, symptoms and failures (Snooke, 2009) in order to allow a diagnosability analysis to be performed with the aim of assisting sensor selection. The structure of the system has the greatest influence in these tasks and is exploited in a purely structural\napproach in related work (Rosich, 2012; Krysander & Frisk, 2008). For complex models using high order differential equations, dealing with sensing of individual components such as the valve example (Krysander & Frisk, 2008) the structure approach provides tractability. The system or product wide sensor placement analysis in early design investigation benefits in addition from the (abnormal) behaviour response between multiple interacting components in the presence of a fault, and is especially pertinent when only indirect sensing is possible. The less detailed qualitative approach allows both aspects to be used, while maintaining tractability. The comprehensive coverage of the system behaviour when linked with the functional states of the system allows automated fault isolation activities and this is the subject of another paper by one of the authors (Snooke & Price, 2012). The qualitative analysis is important for such tasks because it captures broad regions of similar system behaviour at a meaningful level of abstraction.\nMultiple faults can be used in the simulation noting that some combinations of fault may produce qualitative ambiguity, representing critical tipping points of the system. For example in the fuel system each pump normally operates segments of the system partitioned by the valves. Multiple valve faults can result in the pumps working in opposition through a complex pipe topology and it is almost certain that numerical information is required to determine the actual flows because of the non-linearity abstracted into the qualitative component states. For an FMEA the resulting answer predicting several possible behaviours is reasonable, since if the highest risk effects are significant enough, they will be highlighted to the engineer for detailed analysis.\nSingle fault FMEA is the norm because of the effort involved in multiple fault effect determination. For the automated FMEA combinations of faults are feasible, although some selection of fault combinations is still usually necessary to alleviate the computational complexity O(Nm) associated with exploring m concurrent faults as has been previously discussed (Price & Taylor, 1997)."}, {"heading": "8. Conclusions", "text": "Qualitative simulation is a powerful modelling concept that can support a wide range of reasoning tasks. A range of electrical circuit design analysis tools have been based on this approach and the authors\u2019 electrical qualitative simulator known as mcirq is now in regular industrial use.\nThe structural and behavioural models are compositional and do not encode system functional information or make assumptions about their use. It is of course necessary to decide on the range and phenomena to be included in the modelling, and so a library of models is typically created for a specific application area (e.g. automotive electrical, aircraft fuel system, general plumbing etc), and this will include the set of qualitative variables of interest, their (suitably labelled) magnitudes and relevant component failure modes. The models are then reusable components available for other systems within the application area. The qualitative nature of the components makes them far less complex than numerical equivalents and this also makes them reusable within an application area \u2013 and possibly also to other application areas. The models should provide the major behaviours relevant to the objective of high-level reasoning about potential effects, and not detailed analysis of system performance, as has been demonstrated in the examples.\nThis paper makes two notable contributions. Firstly, it provides an improved circuit reasoning algorithm that gives a complete solution for all possible circuit topologies. This is achieved by solving the problem of non series/parallel reducible circuits. Also the restriction on single sources is removed and the resultant simulator is called (m2cirq), for Multiple source mcirq.\nSecondly, the qualitative network modelling method is placed in the context of a modelling ontology based on separating global and local behaviour based on power flow. The component models for fluid systems involve more aspects than electrical circuits and the paper introduces several additional fundamental concepts necessary at the global level for fluid flow modelling, including a distinguished zero node and propagation of substances through a network. These techniques are illustrated by modelling a range of common fluid flow components for simulation.\nThe ability of the QR to make predictions across multiple system states and operating modes is complementary to other techniques. For example fault tree analysis for diagnosis of a very similar fuel system to the example presented in Section 7 has been performed (Hurdle, Bartletta, & Andrews, 2009) and uses pattern recognition to deal with multiple states. The production of the fault trees and scenario (state) identification is a labour intensive manually performed process and is described in exactly the same qualitative terms as produced by QR behaviour prediction such as \u2018high flow\u2019. It is therefore likely that accuracy and coverage of the FTA might be improved with a reduction in effort by using the QR behaviour predictions instead of manual effort.\nMany software tools have been developed to perform a variety of design analysis for electrical systems, as mentioned in the introduction to this paper. By substituting the enhanced simulator into these tools the same analyses can now be performed on other types of complex topology systems and multiple domain systems where qualitative behaviours can be used to answer failure mode questions."}, {"heading": "8.1 Acknowledgments", "text": "This work was supported by Aberystwyth University, the Welsh Assembly Government, BAE Systems and the DTI ASTRAEA Programme. We also thank the anonymous reviewers for their helpful comments."}], "references": [{"title": "A language for functional interpretation of model based simulation", "author": ["J. Bell", "N.A. Snooke", "C.J. Price"], "venue": "Advanced Engineering Informatics,", "citeRegEx": "Bell et al\\.,? \\Q2007\\E", "shortCiteRegEx": "Bell et al\\.", "year": 2007}, {"title": "Bond-graph based simulation of thermodynamic models", "author": ["F.T. Brown"], "venue": "Journal of Dynamic Systems, Measurement, and Control, 132 (6), 064501.", "citeRegEx": "Brown,? 2010", "shortCiteRegEx": "Brown", "year": 2010}, {"title": "Model revision: Techniques and tools for analyzing simulation results and revising qualitative models", "author": ["D.J. Clancy", "G. Brajnik", "H. Kay"], "venue": "In In 11th International Workshop on Qualitative Reasoning,", "citeRegEx": "Clancy et al\\.,? \\Q1997\\E", "shortCiteRegEx": "Clancy et al\\.", "year": 1997}, {"title": "Dynamic chatter abstraction: A scalable technique for avoiding irrelevant distinctions during qualitative simulation", "author": ["D.J. Clancy", "B. Kuipers"], "venue": "In 11th International Workshop on Qualitative Reasoning about Physical Systems (QR", "citeRegEx": "Clancy and Kuipers,? \\Q1997\\E", "shortCiteRegEx": "Clancy and Kuipers", "year": 1997}, {"title": "How circuits work", "author": ["J. de Kleer"], "venue": "Artificial Intelligence,", "citeRegEx": "Kleer,? \\Q1984\\E", "shortCiteRegEx": "Kleer", "year": 1984}, {"title": "Qualitative and quantitative models in a model-based diagnosis system for ballast tank systems", "author": ["O. Dressler", "C. B\u00f6ttcher", "M. Montag", "A. Brinkop"], "venue": "In International Conference on Fault Diagnosis (TOOLDIAG),", "citeRegEx": "Dressler et al\\.,? \\Q1993\\E", "shortCiteRegEx": "Dressler et al\\.", "year": 1993}, {"title": "Reasoning about linear circuits: A model-based approach", "author": ["J.J. Flores", "A.M. Farley"], "venue": "Artificial Intelligence Communications,", "citeRegEx": "Flores and Farley,? \\Q1999\\E", "shortCiteRegEx": "Flores and Farley", "year": 1999}, {"title": "An assessment of current qualitative simulation techniques", "author": ["P. Fouch\u00e9", "B. Kuipers"], "venue": "In 4th International Workshop on Qualitative Reasoning about Physical Systems", "citeRegEx": "Fouch\u00e9 and Kuipers,? \\Q1990\\E", "shortCiteRegEx": "Fouch\u00e9 and Kuipers", "year": 1990}, {"title": "Fault diagnosis of air conditioning systems based on qualitative bond graph", "author": ["C. Ghiaus"], "venue": "Energy and Buildings, 30 (3), 221 \u2013 232.", "citeRegEx": "Ghiaus,? 1999", "shortCiteRegEx": "Ghiaus", "year": 1999}, {"title": "Fault diagnostics of dynamic system operation using a fault tree based method", "author": ["E. Hurdle", "L. Bartletta", "J. Andrews"], "venue": "Reliability Engineering and System Safety,", "citeRegEx": "Hurdle et al\\.,? \\Q2009\\E", "shortCiteRegEx": "Hurdle et al\\.", "year": 2009}, {"title": "Sensor placement for fault diagnosis. Systems, Man and Cybernetics, Part A: Systems and Humans", "author": ["M. Krysander", "E. Frisk"], "venue": "IEEE Transactions on,", "citeRegEx": "Krysander and Frisk,? \\Q2008\\E", "shortCiteRegEx": "Krysander and Frisk", "year": 2008}, {"title": "Qualitative simulation", "author": ["B.J. Kuipers"], "venue": "Artificial Intelligence, 29, 289\u2013338.", "citeRegEx": "Kuipers,? 1986", "shortCiteRegEx": "Kuipers", "year": 1986}, {"title": "Qualitative circuit models in failure analysis reasoning", "author": ["M.H. Lee"], "venue": "Artificial Intellligence, 111, 239\u2013276.", "citeRegEx": "Lee,? 1999", "shortCiteRegEx": "Lee", "year": 1999}, {"title": "Many-valued logic and qualitative modelling of electrical circuits", "author": ["M.H. Lee"], "venue": "Proceedings 14th International Workshop on Qualitative Reasoning, (QR-2000).", "citeRegEx": "Lee,? 2000a", "shortCiteRegEx": "Lee", "year": 2000}, {"title": "Qualitative modelling of linear networks in engineering applications", "author": ["M.H. Lee"], "venue": "Proceedings 14th European Conference on Artificial Intelligence ECAI 2000, pp. 161\u2013165, Berlin.", "citeRegEx": "Lee,? 2000b", "shortCiteRegEx": "Lee", "year": 2000}, {"title": "Ambiguities and deviations in qualitative circuit analysis", "author": ["M.H. Lee", "J. Bell", "G.M. Coghill"], "venue": "In Proceedings 15th International Workshop on Qualitative Reasoning,", "citeRegEx": "Lee et al\\.,? \\Q2001\\E", "shortCiteRegEx": "Lee et al\\.", "year": 2001}, {"title": "Qualitative reasoning about electrical circuits using series-parallel-star trees", "author": ["J. Mauss", "B. Neumann"], "venue": "In Proceedings 10th International Workshop on Qualitative Reasoning,", "citeRegEx": "Mauss and Neumann,? \\Q1996\\E", "shortCiteRegEx": "Mauss and Neumann", "year": 1996}, {"title": "A comprehensive methodology for building hybrid models of physical systems", "author": ["P.J. Mosterman", "G. Biswas"], "venue": "Artificial Intelligence, 121,", "citeRegEx": "Mosterman and Biswas,? \\Q2000\\E", "shortCiteRegEx": "Mosterman and Biswas", "year": 2000}, {"title": "Analysis and Design of Engineering Systems", "author": ["H.M. Paynter"], "venue": "MIT Press.", "citeRegEx": "Paynter,? 1961", "shortCiteRegEx": "Paynter", "year": 1961}, {"title": "Function-directed electrical design analysis", "author": ["C.J. Price"], "venue": "Artificial Intelligence in Engineering, 12 (4), 445\u2013456.", "citeRegEx": "Price,? 1998", "shortCiteRegEx": "Price", "year": 1998}, {"title": "Automated sneak identification", "author": ["C.J. Price", "N.A. Snooke", "J. Landry"], "venue": "Engineering Applications of Artificial Intelligence,", "citeRegEx": "Price et al\\.,? \\Q1996\\E", "shortCiteRegEx": "Price et al\\.", "year": 1996}, {"title": "A layered approach to automated electrical safety analysis in automotive environments", "author": ["C.J. Price", "N.A. Snooke", "S.D. Lewis"], "venue": "Computers in Industry,", "citeRegEx": "Price et al\\.,? \\Q2006\\E", "shortCiteRegEx": "Price et al\\.", "year": 2006}, {"title": "Multiple fault diagnosis from FMEA", "author": ["C.J. Price", "N.S. Taylor"], "venue": "In Proc. The Ninth Conference on Innovative Applications of Artificial Intelligence (IAAI", "citeRegEx": "Price and Taylor,? \\Q1997\\E", "shortCiteRegEx": "Price and Taylor", "year": 1997}, {"title": "Model-based systems in the automotive industry", "author": ["C.J. Price", "P. Struss"], "venue": "AI Magazine,", "citeRegEx": "Price and Struss,? \\Q2004\\E", "shortCiteRegEx": "Price and Struss", "year": 2004}, {"title": "Generating fault trees from FMEA", "author": ["C.J. Price", "M.S. Wilson", "J. Timmis", "C. Cain"], "venue": "In 7th International Workshop on Principles of Diagnosis,", "citeRegEx": "Price et al\\.,? \\Q1996\\E", "shortCiteRegEx": "Price et al\\.", "year": 1996}, {"title": "Order of magnitude reasoning", "author": ["O. Raiman"], "venue": "Artificial Intelligence, 51, 11\u201338.", "citeRegEx": "Raiman,? 1991", "shortCiteRegEx": "Raiman", "year": 1991}, {"title": "Sensor placement for fault detection and isolation based on structural models", "author": ["A. Rosich"], "venue": "8th IFAC Symposium on Fault Detection, Supervision and Safety of Technical Processes (SAFEPROCESS), pp. 391\u2013396. IFAC.", "citeRegEx": "Rosich,? 2012", "shortCiteRegEx": "Rosich", "year": 2012}, {"title": "Bond Graph Modelling of Engineering Systems, chap. Bond Graph Model-Based Fault Diagnosis", "author": ["Samantaray", "Ould"], "venue": null, "citeRegEx": "Samantaray and Ould,? \\Q2011\\E", "shortCiteRegEx": "Samantaray and Ould", "year": 2011}, {"title": "Combining sneak circuit analysis and failure modes and effects analysis", "author": ["D.S. Savakoor", "J.B. Bowles", "R.D. Bonnell"], "venue": "In Proceedings Annual Reliability and Maintainability Symposium,", "citeRegEx": "Savakoor et al\\.,? \\Q1993\\E", "shortCiteRegEx": "Savakoor et al\\.", "year": 1993}, {"title": "Finding stable causal interpretations of equations", "author": ["G. Skorstad"], "venue": "Faltings, & Struss (Eds.), Recent advances in qualitative physics, pp. 399\u2013413. MIT Press.", "citeRegEx": "Skorstad,? 1992a", "shortCiteRegEx": "Skorstad", "year": 1992}, {"title": "Towards a qualitative lagrangian theory of fluid flow", "author": ["G. Skorstad"], "venue": "Proceedings of the tenth national conference on Artificial intelligence, AAAI\u201992, pp. 691\u2013696. AAAI Press.", "citeRegEx": "Skorstad,? 1992b", "shortCiteRegEx": "Skorstad", "year": 1992}, {"title": "Simulating electrical devices with complex behaviour", "author": ["N.A. Snooke"], "venue": "AI Communications, 12 (1,2), 45\u201358. Snooke, N. A. (2007). M2CIRQ: Qualitative fluid flow modelling for aerospace fmea applications. In Proceedings 21st international workshop on qualitative reasoning, pp. 161\u2013169.", "citeRegEx": "Snooke,? 1999", "shortCiteRegEx": "Snooke", "year": 1999}, {"title": "An automated failure modes and effects analysis based visual matrix approach to sensor selection and diagnosability assessment", "author": ["N.A. Snooke"], "venue": "online proc. Prognostics and Health Management Conference (PHM09), http://www.phmsociety.org/references/proceedings. PHM Society.", "citeRegEx": "Snooke,? 2009", "shortCiteRegEx": "Snooke", "year": 2009}, {"title": "Automated FMEA based diagnostic symptom generation", "author": ["N. Snooke", "C. Price"], "venue": "Advanced Engineering Informatics,", "citeRegEx": "Snooke and Price,? \\Q2012\\E", "shortCiteRegEx": "Snooke and Price", "year": 2012}, {"title": "The discrete charm of diagnosis based on continuous models", "author": ["P. Struss"], "venue": "IFAC Safeprocess \u201903. International Federation of Automatic Control.", "citeRegEx": "Struss,? 2003", "shortCiteRegEx": "Struss", "year": 2003}, {"title": "Qualitative modelling is the key", "author": ["P. Struss", "A. Malik", "M. Sachenbacher"], "venue": "In Workshop Notes of 6th International Workshop on Principles of Diagnosis", "citeRegEx": "Struss et al\\.,? \\Q1995\\E", "shortCiteRegEx": "Struss et al\\.", "year": 1995}, {"title": "CONSTRAINTS: a language for expressing almost-hierarchical descriptions", "author": ["G.J. Sussman", "G.L. Steele Jr."], "venue": "Artificial Intelligence,", "citeRegEx": "Sussman and Jr,? \\Q1980\\E", "shortCiteRegEx": "Sussman and Jr", "year": 1980}, {"title": "Mathematical foundations of qualitative reasoning", "author": ["L. Trav\u00e9-Massuy\u00e8s", "L. Ironi", "P. Dague"], "venue": "AI Magazine.,", "citeRegEx": "Trav\u00e9.Massuy\u00e8s et al\\.,? \\Q2004\\E", "shortCiteRegEx": "Trav\u00e9.Massuy\u00e8s et al\\.", "year": 2004}, {"title": "A qualitative approach to an energy-based unified representation for building design", "author": ["Tsai", "J.J.-H", "J.S. Gero"], "venue": "Automation in Construction,", "citeRegEx": "Tsai et al\\.,? \\Q2010\\E", "shortCiteRegEx": "Tsai et al\\.", "year": 2010}, {"title": "Choices for comparative analysis: DQ analysis or exaggeration", "author": ["D.S. Weld"], "venue": "Artificial Intelligence in Engineering, 3 (3), 174 \u2013 180.", "citeRegEx": "Weld,? 1988a", "shortCiteRegEx": "Weld", "year": 1988}, {"title": "Comparative analysis", "author": ["D.S. Weld"], "venue": "Artificial Intelligence, 36 (3), 333 \u2013 373.", "citeRegEx": "Weld,? 1988b", "shortCiteRegEx": "Weld", "year": 1988}, {"title": "Exaggeration", "author": ["D.S. Weld"], "venue": "Artificial Intelligence, 43 (3), 311 \u2013 368.", "citeRegEx": "Weld,? 1990", "shortCiteRegEx": "Weld", "year": 1990}], "referenceMentions": [{"referenceID": 14, "context": "The OM representation is derived from a many valued resistance representation (Lee, 2000b) and although the many valued concept and its modelling and reasoning benefits are completely applicable to the OM representation, the actual technique for solving the circuits in that work was based on path labelling (Lee, 1999), and was not a general solution applicable to any network topology.", "startOffset": 78, "endOffset": 90}, {"referenceID": 12, "context": "The OM representation is derived from a many valued resistance representation (Lee, 2000b) and although the many valued concept and its modelling and reasoning benefits are completely applicable to the OM representation, the actual technique for solving the circuits in that work was based on path labelling (Lee, 1999), and was not a general solution applicable to any network topology.", "startOffset": 308, "endOffset": 319}, {"referenceID": 12, "context": "Previous work by the authors (Snooke, 2007) on the modelling of fluid flow systems was based on an electrical network analyser (Lee, 1999) but could only deal with series parallel reducible circuits, and this becomes a limitation for topologically complex systems.", "startOffset": 127, "endOffset": 138}, {"referenceID": 31, "context": "This representation is an improvement on a more restricted predecessor used for electrical component behaviour (Snooke, 1999), which was the foundation for a variety of automated electrical design analysis techniques.", "startOffset": 111, "endOffset": 125}, {"referenceID": 19, "context": "Section 4 considers the use of the OM representation to perform exaggeration reasoning for failure analysis and section 5 provides a brief overview of the strategy (Price, 1998; Lee, Bell, & Coghill, 2001) used to process multiple simulation results into an FMEA output.", "startOffset": 164, "endOffset": 205}, {"referenceID": 12, "context": "Previous work by the authors (Snooke, 2007) on the modelling of fluid flow systems was based on an electrical network analyser (Lee, 1999) but could only deal with series parallel reducible circuits, and this becomes a limitation for topologically complex systems. The incorporation of equivalent resistance reduction using star\u2013delta (Y-\u2206) transforms (Mauss & Neumann, 1996) into the OM representation (Section 2.2) allows effort and flow variables for resistive networks of any topology to be solved by reduction and flow assignment expansion (Section 2.3), and completes the work started by Lee. Complex network topologies are due in part to the need to represent concepts such as the \u2018atmosphere\u2019 in fluid flow systems, to allow failure modes such as leaks in closed systems, as well as vented elements in other systems. This unique \u2018zero\u2019 node is common to several domains and is generalised in the present work in Section 2.4. Applying the techniques derived by Lee (1999) to non electrical systems reveals two limitations.", "startOffset": 128, "endOffset": 979}, {"referenceID": 29, "context": "Power flow is a global phenomenon where cause and effect is undetermined and can be very efficiently analysed as a network, avoiding problems of causal instability and ambiguity arising from systems of equations generated from interacting components with local behaviours (Skorstad, 1992a).", "startOffset": 272, "endOffset": 289}, {"referenceID": 8, "context": "Qualitative versions of bond graphs can be produced (Ghiaus, 1999), however these are qualitative versions of the standard numerical equations and therefore suffer the same difficulties as any of the general equation-based constraint methods.", "startOffset": 52, "endOffset": 66}, {"referenceID": 11, "context": "The most widely-used qualitative equation-based constraint method has been QSIM (Kuipers, 1986).", "startOffset": 80, "endOffset": 95}, {"referenceID": 34, "context": "This does not limit the applicability because it is the property of the model that is discrete or continuous rather than any inherent property of the system (Struss, 2003), and the real question is what kind of model is appropriate for the reasoning task at hand.", "startOffset": 157, "endOffset": 171}, {"referenceID": 16, "context": "Bond graphs share the same underlying energy-flow-based concept as the lower level of our approach, and are a popular domain-independent graphical method for describing a system first described by Paynter (1961) and developed by numerous others.", "startOffset": 197, "endOffset": 212}, {"referenceID": 12, "context": "A minimal useful qualitative quantity space uses [0, r,\u221e] to represent resistance and [0,u] to represent effort, E , at the supply terminals (Lee, 1999).", "startOffset": 141, "endOffset": 152}, {"referenceID": 25, "context": "1 Order of Magnitude Representation An order of magnitude representation for R allows more detailed modelling without introducing qualitative ambiguity by separating artefacts with significantly different characteristics (Raiman, 1991; Lee, 2000a).", "startOffset": 221, "endOffset": 247}, {"referenceID": 13, "context": "1 Order of Magnitude Representation An order of magnitude representation for R allows more detailed modelling without introducing qualitative ambiguity by separating artefacts with significantly different characteristics (Raiman, 1991; Lee, 2000a).", "startOffset": 221, "endOffset": 247}, {"referenceID": 13, "context": "The introduction of Y-\u2206 resistances unfortunately reduces the vividness of the representation since they are not directly related to the original component structure; however, it provides a general solution and can assign flow direction for any network, unlike earlier work (Lee, 2000a).", "startOffset": 274, "endOffset": 286}, {"referenceID": 12, "context": "The qualitative effort levels [0, u] are supplemented \u2013 as for voltage (Lee, 1999) \u2013 with two additional symbols that represent structural features of the circuit that emerge during simulation.", "startOffset": 71, "endOffset": 82}, {"referenceID": 1, "context": "Sophisticated techniques have been added to the Bond graph methodology (Brown, 2010), which allow numerical models of thermofluidic phenomena to be constructed; however, the complexity required of these models is such that the benefits of the broad-based qualitative modelling for system engineering analysis such as FMEA is lost.", "startOffset": 71, "endOffset": 84}, {"referenceID": 30, "context": "Some alternative approaches to qualitative reasoning have considered changes of material state for example a \u2018plug-based\u2019 ontology (Skorstad, 1992b) which is able to model the phase transitions in a steam boiler tube, however, the modelling required is necessarily detailed and the 13 state envisionment produced illustrates the complexity of the phenomena.", "startOffset": 131, "endOffset": 148}, {"referenceID": 8, "context": "Another approach to avoid complexity is used by Ghiaus who provides a qualitative model for the Carnot refrigeration cycle (Ghiaus, 1999) based on equations derived from a thermal bond graph and thus does not include substance properties as the system is assumed to be in equilibrium, precluding analysis of many failure modes.", "startOffset": 123, "endOffset": 137}, {"referenceID": 12, "context": "There are, however, several additional concepts (Lee, 1999; Lee et al., 2001) that remain applicable using the SPS technique, and can provide additional vividness in the representation as well as computational benefit.", "startOffset": 48, "endOffset": 77}, {"referenceID": 15, "context": "There are, however, several additional concepts (Lee, 1999; Lee et al., 2001) that remain applicable using the SPS technique, and can provide additional vividness in the representation as well as computational benefit.", "startOffset": 48, "endOffset": 77}, {"referenceID": 5, "context": "To avoid such difficulties a simplified numerical model containing the relevant behavioural phenomena, can be used (Dressler et al., 1993) and subsequently refined this into a qualitative one.", "startOffset": 115, "endOffset": 138}, {"referenceID": 19, "context": "Producing the FMEA has been previously described in detail elsewhere (Price, 1998), however, since it is the end goal of the modelling and simulation effort, we summarise the main steps as follows: \u2022 The system is simulated with no failed components over the expected operating conditions.", "startOffset": 69, "endOffset": 82}, {"referenceID": 0, "context": "The textual descriptions are derived from the functional model (Bell et al., 2007; Price, 1998) and provide an easily understood explanation of the fault effects and risk priority.", "startOffset": 63, "endOffset": 95}, {"referenceID": 19, "context": "The textual descriptions are derived from the functional model (Bell et al., 2007; Price, 1998) and provide an easily understood explanation of the fault effects and risk priority.", "startOffset": 63, "endOffset": 95}, {"referenceID": 32, "context": "The consistency of the fully automated FMEA analysis allows other automated tasks to be performed such as a diagnosability analysis (Snooke, 2009; Snooke & Price, 2012).", "startOffset": 132, "endOffset": 168}, {"referenceID": 32, "context": "The qualitative simulation has also been used to generate sets of symptoms that relate qualitative measurements, symptoms and failures (Snooke, 2009) in order to allow a diagnosability analysis to be performed with the aim of assisting sensor selection.", "startOffset": 135, "endOffset": 149}, {"referenceID": 26, "context": "approach in related work (Rosich, 2012; Krysander & Frisk, 2008).", "startOffset": 25, "endOffset": 64}], "year": 2013, "abstractText": "This paper presents a structured power and energy-flow-based qualitative modelling approach that is applicable to a variety of system types including electrical and fluid flow. The modelling is split into two parts. Power flow is a global phenomenon and is therefore naturally represented and analysed by a network comprised of the relevant structural elements from the components of a system. The power flow analysis is a platform for higher-level behaviour prediction of energy related aspects using local component behaviour models to capture a state-based representation with a global time. The primary application is Failure Modes and Effects Analysis (FMEA) and a form of exaggeration reasoning is used, combined with an order of magnitude representation to derive the worst case failure modes. The novel aspects of the work are an order of magnitude(OM) qualitative network analyser to represent any power domain and topology, including multiple power sources, a feature that was not required for earlier specialised electrical versions of the approach. Secondly, the representation of generalised energy related behaviour as state-based local models is presented as a modelling strategy that can be more vivid and intuitive for a range of topologically complex applications than qualitative equation-based representations. The two-level modelling strategy allows the broad system behaviour coverage of qualitative simulation to be exploited for the FMEA task, while limiting the difficulties of qualitative ambiguity explanation that can arise from abstracted numerical models. We have used the method to support an automated FMEA system with examples of an aircraft fuel system and domestic a heating system discussed in this paper.", "creator": "TeX"}}}