{"id": "1602.05828", "review": {"conference": "arxiv", "VERSION": "v1", "DATE_OF_SUBMISSION": "18-Feb-2016", "title": "A General Modifier-based Framework for Inconsistency-Tolerant Query Answering", "abstract": "We propose a general framework for inconsistency-tolerant query answering within existential rule setting. This framework unifies the main semantics proposed by the state of art and introduces new ones based on cardinality and majority principles. It relies on two key notions: modifiers and inference strategies. An inconsistency-tolerant semantics is seen as a composite modifier plus an inference strategy. We compare the obtained semantics from a productivity point of view. For example, an infinite number of variables are used. In general, the invariant conditions are general.\n\n\n\nWhen two assumptions (the first assumption) are accepted for the state of the application. The second assumptions (the first assumption) are evaluated by the compiler and the interpreter.\nWhen one assumes that the state of the application. The second assumption is evaluated by the compiler and the interpreter. The final inference strategy is applied to an infinite number of variables. For example, the compiler and the interpreter are using the same general condition for each variable.\n\nIn some applications, the application can also be considered as a state and, in the next example, the compiler and interpreter are evaluating a state of the application. In certain scenarios, the compiler and the interpreter are performing some other action, such as to perform some other action, such as to perform some other action.\nWhen the user of the application is to perform a computation, the compiler and the interpreter are performing some other action. If the programmer is to perform a computation, the compiler and the interpreter are doing other action, such as to perform some other action, such as to perform some other action, such as to perform some other action, such as to perform some other action. In certain situations, the compiler and the interpreter are doing other action, such as to perform some other action, such as to perform some other action, such as to perform some other action.\nFor example, a programmer is to perform a computation, the compiler and the interpreter are doing other action, such as to perform some other action, such as to perform some other action, such as to perform some other action, such as to perform some other action. The compiler and the interpreter are performing some other action, such as to perform some other action, such as to perform some other action. The compiler and the interpreter are performing some other action, such as to perform some other action, such as to perform some other action, such as to perform some other action, such as to perform some other action, such as to perform some other action, such as to perform", "histories": [["v1", "Thu, 18 Feb 2016 15:13:00 GMT  (307kb)", "http://arxiv.org/abs/1602.05828v1", null]], "reviews": [], "SUBJECTS": "cs.AI", "authors": ["jean francois baget", "salem benferhat", "zied bouraoui", "madalina croitoru", "marie-laure mugnier", "odile papini", "swan rocher", "karim tabia"], "accepted": false, "id": "1602.05828"}, "pdf": {"name": "1602.05828.pdf", "metadata": {"source": "CRF", "title": "A General Modifier-based Framework for Inconsistency-Tolerant Query Answering", "authors": ["Jean Fran\u00e7ois Baget", "Salem Benferhat", "Zied Bouraoui", "Madalina Croitoru", "Marie-Laure Mugnier", "Odile Papini", "Swan Rocher", "Karim Tabia"], "emails": ["baget@lirmm.fr", "benferhat@cril.fr", "zied.bouraoui@lsis.fr", "croitoru@lirmm.fr", "mugnier@lirmm.fr", "odile.papini@amu-univ.fr", "rocher@lirmm.fr", "tabia@cril.fr"], "sections": [{"heading": null, "text": "ar X\niv :1\n60 2.\n05 82\n8v 1\n[ cs\n.A I]\n1 8\nFe b\n20 16\nIntroduction In this paper we place ourselves in the context of OntologyBased Data Access (Poggi et al. 2008) and we address the problem of query answering when the assertional base (which stores data) is inconsistent with the ontology (which represents generic knowledge about a domain). Existing work in this area studied different inconsistencytolerant inference relations, called semantics, which consist of getting rid of inconsistency by first computing a set of consistent subsets of the assertional base, called repairs, that restore consistency w.r.t the ontology, then using them to perform query answering. Most of these proposals, inspired by database approaches e.g. (Arenas, Bertossi, and Chomicki 1999) or propositional logic approaches e.g. (Benferhat, Dubois, and Prade 1997), were introduced for the lightweight description logic DL-Lite e.g. (Lembo et al. 2015). Other description logics e.g. (Rosati 2011) or existential rule e.g. (Lukasiewicz et al. 2015) have also been considered. In this paper, we use existential rules e.g.(Baget et al. 2011) as ontology language that generalizes lightweight description logics.\nThe main contribution of this paper consists in setting up a general framework that unifies previous proposals and extends the state of the art with new semantics. The idea behind our framework is to distinguish between the way data assertions are virtually distributed (notion of modifiers) and inference strategies. An inconsistency-tolerant semantics is then naturally defined by a modifier and an inference strategy. We also propose a classification of the productivity of\nCopyright \u00a9 2016, Association for the Advancement of Artificial Intelligence (www.aaai.org). All rights reserved.\nhereby obtained semantics by sound and complete conditions relying on modifier inclusion and inference strategy order. The objective of framework is to establish a methodology for inconsistency handling which, by distinguishing between modifiers and strategies, allows not only to cover existing semantics, but also to easily define new ones, and to study different kinds of their properties.\nPreliminaries We consider first-order logical languages without functional symbols, hence a term is a variable or a constant. An atom is of the form p(t1, . . . , tk) where p is a predicate of arity k, and the ti are terms. Given an atom or a set of atoms E, terms(E) denotes the set of terms occurring in E. A (factual) assertion is an atom without variables.\nA conjunctive query is an existentially quantified conjunction of atoms. For readability, we restrict our focus to Boolean conjunctive queries, which are closed formulas. However the framework and the obtained results can be directly extended to general conjunctive queries. In the following, by query, we mean a Boolean conjunctive query. Given a set of assertions A and a query q, the answer to q over A is yes iff A |= q, where |= denotes the standard logical consequence.\nA knowledge base can be seen as a database enhanced with an ontological component. Since inconsistency-tolerant query answering has been mostly studied in the context of description logics (DLs), and especially DL-Lite, we will use some DL vocabulary, like ABox for the data and TBox for the ontology. However, our framework is not restricted to DLs, hence we define TBoxes and ABoxes in terms of firstorder logic. We assume the reader familiar with the basics of DLs and their logical translation.\nAn ABox is a set of factual assertions. As a special case we have DL assertions restricted to unary and binary predicates. A positive axiom is of the form \u2200x\u2200y(B[x,y] \u2192 \u2203z H [y, z]) where B and H are conjunctions of atoms (in other words, it is a positive existential rule). As a special case, we have for instance concept and role inclusions in DL-LiteR, which are respectively of the form B1 \u2291 B2 and S1 \u2291 S2, where Bi := A | \u2203S and Si := P | P\u2212 (with A an atomic concept, P an atomic role and P\u2212 the inverse of an atomic role). A negative axiom is of the form \u2200x(B[x] \u2192 \u22a5) where B is a conjunction of atoms (in other\nwords, it is a negative constraint). As a special case, we have for instance disjointness axioms in DL-LiteR, which are inclusions of the form B1 \u2291 \u00acB2 and S1 \u2291 \u00acS2, or equivalently B1 \u2293B2 \u2291 \u22a5 and S1 \u2293 S2 \u2291 \u22a5.\nA TBox T = Tp\u222aTn is partitioned into a set Tp of positive axioms and a set Tn of negative axioms. Finally, a knowledge base (KB) is of the form K = \u3008T ,A\u3009 where A is an ABox and T is a TBox. K is said to be consistent if T \u222a A is satisfiable, otherwise it is said to be inconsistent. We also say that A is (in)consistent (with T ), which reflects the assumption that the TBox is reliable. The answer to a query q over a consistent KB K is yes iff \u3008T ,A\u3009 |= q. When K is inconsistent, standard consequence is not appropriate since all queries would be positively answered.\nA key notion in inconsistency-tolerant query answering is the one of a repair of the ABox w.r.t. the TBox. A repair is a subset of the ABox consistent with the TBox and inclusionmaximal for this property: R \u2286A is a repair of A w.r.t. T if i) \u3008T ,R\u3009 is consistent, and ii) \u2200R\u2032 \u2286 A, if R R\u2032 (R is strictly included in R\u2032) then \u3008T ,R\u2032\u3009 is inconsistent. We denote by R(A) the set of A\u2019s repairs (for easier reading, we often leave T implicit in our notations). Note that R(A) = {A} iff A is consistent. The most commonly considered semantics for inconsistency-tolerant query answering, inspired from previous work in databases, is the following: q is said to be a consistent consequence of K if it is a standard consequence of each repair of A. Several variants of this semantics have been proposed, which differ with respect to their behaviour (in particular they can be more or less cautious) and their computational complexity. Before recalling the main semantics studied in the literature, we need to introduce the notion of the positive closure of an ABox. The positive closure of A (w.r.t. T ), denoted by Cl(A), is obtained by adding to A all assertions (built on the individuals occurring in A) that can be inferred using the positive axioms of the TBox, namely: Cl(A)={A atom| \u3008Tp,A\u3009 |= A and terms(A) \u2286 terms(A)} Note that the set of atomic consequences of a KB K=\u3008T ,A\u3009 may be infinite whereas the positive closure of A is always finite since it does not contain new terms. Note also that A is consistent (with T ) iff Cl(A) is consistent (with T ).\nWe now recall the most well-known inconsistency-tolerant semantics introduced in (Arenas, Bertossi, and Chomicki 1999; Lembo et al. 2010; Bienvenu 2012). Given a possibly inconsistent KB K=\u3008T ,A\u3009, a query q is said to be:\n\u2022 a consistent (or AR) consequence of K if \u2200R \u2208 R(A), \u3008T ,R\u3009 |= q;\n\u2022 a CAR consequence of K if \u2200R \u2208R(Cl(A)),\u3008T ,R\u3009|=q;\n\u2022 an IAR consequence of K if \u2329 T , \u22c2 R\u2208R(A)R \u232a |= q;\n\u2022 an ICAR consequence of K if \u2329 T , \u22c2 R\u2208Cl(A) R \u232a |= q;\n\u2022 an ICR consequence of K if \u2329 T , \u22c2 R\u2208R(A) Cl(R) \u232a |= q.\nA Unified Framework for Inconsistency-Tolerant Query Answering\nIn this section, we define a unified framework for inconsistency-tolerant query answering based on two main concepts: modifiers and inference strategies.\nLet us first introduce the notion of MBox KBs. While a standard KB has a single ABox, it is convenient for subsequent definitions to define KBs with multiple ABoxes (\u201cMBoxes\u201d). Formally, an MBox KB is of the form KM=\u3008T ,M\u3009 where T is a TBox and M={A1,. . .,An} is a set of ABoxes called an MBox. We say that KM is consistent, or M is consistent (with T ) if each Ai in M is consistent (with T ).\nIn the following, we start with an MBox KB which is a possibly inconsistent standard KB (namely with a single ABox in M) and produce a consistent MBox KB, in which each element reflects a virtual reparation of the initial ABox. We see an inconsistency-tolerant query answering method as made out of a modifier, which produces a consistent MBox from the original ABox (and the Tbox), and an inference strategy, which evaluates queries against the obtained MBox"}, {"heading": "KB.", "text": ""}, {"heading": "Elementary and Composite Modifiers", "text": "We first introduce three classes of elementary modifiers, namely expansion, splitting and selection. For each class, we consider a \u201dnatural\u201d instantiation, namely positive closure, splitting into repairs and selecting the largest elements (i.e., maximal w.r.t. cardinality). Elementary modifiers can be combined to define composite modifiers. Given the three natural instantiations of these modifiers, we show that their combination yields exactly eight different composite modifiers.\nExpansion modifiers. The expansion of an MBox consists in explicitly adding some inferred knowledge to its ABoxes. A natural expansion modifier consists in computing the positive closure of an MBox, which is defined as follows:\n\u25e6cl(M) = {Cl(Ai)|Ai \u2208 M}.\nSplitting modifiers. A splitting modifier replaces each Ai of an MBox by one or several of its consistent subsets. A natural splitting modifier consists of splitting each ABox into the set of its repairs, which is defined as follows:\n\u25e6rep(M) = \u22c3\nAi\u2208M\n{R(Ai)}.\nThis modifier always produces a consistent MBox.\nSelection modifiers. A selection modifier selects some subsets of an MBox. As a natural selection modifier, we consider the cardinality-based selection modifier, which selects the largest elements of an MBox:\n\u25e6card(M) = {Ai \u2208 M|\u2204Aj \u2208 M s.t |Aj | > |Ai|}.\nWe call a composite modifier any combination of these three elementary modifiers. We now study the question of how many different composite modifiers yielding consistent MBoxes exist and how they compare to each other. We begin with some properties that considerably reduce the number of combinations to be considered. First, the three modifiers are idempotent. Second, the modifiers \u25e6cl and \u25e6rep need to be applied only once.\nLemma 1. For any MBox M, the following holds:\n1. \u25e6cl(\u25e6cl(M))=\u25e6cl(M), \u25e6rep(\u25e6rep(M))=\u25e6rep(M) and \u25e6card(\u25e6card(M)) =\u25e6card(M).\n2. Let \u25e6d be any composite modifier. Then: (a) \u25e6cl(\u25e6d(\u25e6cl(M))) = \u25e6d(\u25e6cl(M)), and (b) \u25e6rep(\u25e6d(\u25e6rep(M))) = \u25e6d(\u25e6rep(M)).\nFigure 1 presents the eight different composite modifiers (thanks to Lemma 1) that can be applied to an MBox initially composed of a single (possibly inconsistent) ABox. At the beginning, one can perform either an expansion or a splitting operation (the selection has no effect). Expansion can only be followed by a splitting or a selection operation. From the MBox \u25e6rep(\u25e6cl(M)) only a selection can be performed, thanks to Lemma 1. Similarly, if one starts with a splitting operation followed by a selection operation, then only an expansion can be done (thanks to Lemma 1 again). From \u25e6cl(\u25e6card(\u25e6rep(M))) only a selection can be performed (Lemma 1 again).\nTo ease reading, we also denote the modifiers by short names reflecting the order in which the elementary modifiers are applied, and using the following letters: R for \u25e6rep, C for \u25e6cl and M for \u25e6card as shown in Table 1. For instance, MCR denotes the modifier that first splits the initial ABox into its set of repairs, then closes these repairs and finally selects the maximal-cardinality elements.\nTheorem 1. Let KM=\u3008T ,M = {A}\u3009 be a possibly inconsistent KB. Then for any composite modifier \u25e6c that can be obtained by a finite combination of the elementary modifiers \u25e6rep, \u25e6card, \u25e6cl, there exists a composite modifier \u25e6i in {\u25e61 . . . \u25e68} (see Table 1) such that \u25e6c(M)=\u25e6i(M).\nExample 1. Let KM=\u3008T ,M\u3009 be an MBox DLLite KB where T ={A \u2291\u00acB, A \u2291\u00acC, B \u2291\u00acC, A \u2291 D, B \u2291 D, C \u2291 D, B \u2291 E, C \u2291 E} and M={{A(a), B(a), C(a), A(b)}}. We have \u25e61(M)={{A(a), A(b)},{B(a), A(b)},{C(a), A(b)}},\nModifier Combination MBox R \u25e61 = \u25e6rep(.) M1 = \u25e61(M) MR \u25e62 = \u25e6card(\u25e6rep(.)) M2 = \u25e62(M) CMR \u25e63 = \u25e6cl(\u25e6card(\u25e6rep(.))) M3 = \u25e63(M) MCMR \u25e64 = \u25e6card(\u25e6cl(\u25e6card(\u25e6rep(.)))) M4 = \u25e64(M) CR \u25e65 = \u25e6cl(\u25e6rep(.)) M5 = \u25e65(M) MCR \u25e66 = \u25e6card(\u25e6cl(\u25e6rep(.))) M6 = \u25e66(M) RC \u25e67 = \u25e6rep(\u25e6cl(.)) M7 = \u25e67(M) MRC \u25e68 = \u25e6card(\u25e6rep(\u25e6cl(.))) M8 = \u25e68(M)"}, {"heading": "Inference Strategies for Querying an MBox", "text": "The universal inference strategy states that a conclusion is valid iff it is entailed from T and every ABox in M. It is a standard way to derive conclusions from conflicting sources, used for instance in default reasoning (Reiter 1980), where one only accepts conclusions derived from each extension of a default theory. The safe inference strategy considers as valid conclusions those entailed from T and the intersection of all ABoxes. The safe inference is a very sound and conservative inference relation since it only considers assertions shared by different ABoxes. The existential inference strategy (called also brave inference relation) considers as valid all conclusions entailed from T and at least one ABox. The existential inference is a very adventurous inference relation and may derive conclusions that are together inconsistent with T . It is often considered as undesirable when the KB represents available knowledge base on some problem. It only makes sense in some decision problems when one is only looking for a possible solution of a set of constraints or preferences. Finally, the majority-based inference relation considers as valid all conclusions entailed from T and the majority of ABoxes. The majority-based inference can be seen as a good compromise between universal / safe inference and existential inference.\nWe formally define these inference strategies as follows:\n\u2022 Query q is a universal consequence of KM, denoted by KM |=\u2200 q iff \u2200Ai \u2208 M,\u3008T ,Ai\u3009 |= q.\n\u2022 Query q is a safe consequence of KM, denoted by KM |=\u2229 q, iff \u2329 T , \u22c2\nAi\u2208M Ai\n\u232a\n|= q.\n\u2022 Query q is a majority-based consequence of KM, denoted KM |=maj q, iff |Ai:Ai\u2208M,\u3008T ,Ai\u3009|=q| |M| > 1/2.\n\u2022 Query q is an existential consequence of KM, denoted by KM |=\u2203 q iff \u2203Ai \u2208 M, \u3008T ,Ai\u3009 |= q.\nGiven two inference strategies si and sj , we say that si is more cautious than sj , denoted si \u2264 sj , when for any consistent MBox KM and any query q, if KM|=siq then KM|=sj q. The considered inference strategies are totally ordered by \u2264 as follows:\n\u2229 \u2264 \u2200 \u2264 maj \u2264 \u2203 (1)\nExample 2. Let us consider the MBox M1=\u25e61(M) given in Example 1. We have \u22c2\nAi\u2208M Ai={A(b)}, hence\nKM1 |=\u2229D(b). By universal inference, we also have KM1 |=\u2200D(a). The majority-based inference adds E(a) as a valid conclusion. Indeed, \u3008T , {B(a), A(b)}\u3009|=E(a) and \u3008T , {C(a), A(b)}\u3009|=E(a) and |M1|=3, hence\nKM1 |=majE(a). Finally, the existential inference adds A(a) as a valid conclusion."}, {"heading": "Inconsistency-Tolerant Semantics = Composite Modifier + Inference Strategy", "text": "We can now define an inconsistency-tolerant query answering semantics by a composite modifier and an inference strategy.\nDefinition 1. Let K=\u3008T ,A\u3009 be a standard KB, \u25e6i be a composite modifier and sj be an inference strategy. A query q is said to be an \u3008\u25e6i, sj\u3009-consequence of K, which is denoted by K |=\u3008\u25e6i,sj\u3009 q, if it is entailed from the MBox KB \u3008T , \u25e6i({A})\u3009 with the inference strategy sj .\nThis definition covers the main semantics recalled in Section : AR, IAR, CAR, ICAR and ICR semantics respectively correspond to \u3008\u25e61, \u2200\u3009, \u3008\u25e61,\u2229\u3009, \u3008\u25e67, \u2200\u3009 \u3008\u25e67,\u2229\u3009 and \u3008\u25e65,\u2229\u3009.\nComparison of Inconsistency-Tolerant Semantics w.r.t. Productivity\nWe now compare the obtained semantics with respect to productivity, which we formalize as follows.\nDefinition 2. Given two semantics \u3008\u25e6i, sk\u3009 and \u3008\u25e6j, sl\u3009, we say that \u3008\u25e6j , sl\u3009 is more productive than \u3008\u25e6i, sk\u3009, and note \u3008\u25e6i, sk\u3009 \u2291 \u3008\u25e6j, sl\u3009 if, for any KB K=\u3008T ,A\u3009 and any query q, if K |=\u3008\u25e6i,sk\u3009 q then K |=\u3008\u25e6j ,sl\u3009 q.\nWe first pairwise compare semantics defined with the same inference strategy. For each inference strategy, we give necessary and sufficient conditions for the comparability of the associated semantics w.r.t. productivity. These conditions rely on the inclusion relations between modifiers (see Figure 2).\nProposition 1. [Productivity of \u2229-semantics] See Figure 4."}, {"heading": "It holds that \u3008\u25e6i,\u2229\u3009 \u2291 \u3008\u25e6j ,\u2229\u3009 iff \u25e6j \u2286 \u25e6i or \u25e6i \u2286R \u25e6j in a", "text": "bijective way (see Fact 2).\nProposition 2. [Productivity of \u2200-semantics] See Figure 5. It holds that \u3008\u25e6i, \u2200\u3009 \u2291 \u3008\u25e6j , \u2200\u3009 iff \u25e6j \u2286 \u25e6i, or \u25e6i \u2286R \u25e6j in a bijective way (see Fact 2) or \u25e6j \u2286cl \u25e6i.\nProposition 3. [Productivity of maj-semantics] See Figure 6. It holds that \u3008\u25e6i,maj\u3009 \u2291 \u3008\u25e6j,maj\u3009 iff \u25e6i \u2286R \u25e6j in a bijective way (see Fact 2) or \u25e6j \u2286cl \u25e6i .\nProposition 4. [Productivity of \u2203-semantics] See Figure 7. It holds that \u3008\u25e6i, \u2203\u3009 \u2291 \u3008\u25e6j , \u2203\u3009 iff \u25e6i \u2286R \u25e6j (in particular \u25e6i \u2286 \u25e6j or \u25e6i \u2286cl \u25e6j) or \u25e6j \u2286cl \u25e6i .\nWe now extend previous results to any pair of semantics, possibly based on different inference strategies.\nTheorem 2. [Productivity of semantics] The inclusion relation \u2291 is the smallest relation that contains the inclusions \u3008\u25e6i, sk\u3009 \u2291 \u3008\u25e6j, sk\u3009 defined by Propositions 1-4 and satisfying the two following conditions:\n1. for all sj , sp and oi, if sj \u2264 sp then \u3008\u25e6i, sj\u3009 \u2291 \u3008\u25e6i, sp\u3009. 2. it is transitive.\nTheorem 2 is an important result. It states that the productivity relation can only be obtained from Figures 4-7 (resp. Propositions 1-4) and some composition of the relations. No more inclusion relations hold. In particular when si > sj , it holds that \u2200k, \u2200l, \u3008\u25e6k, si\u3009 6\u2291 \u3008\u25e6l, sj\u3009, which means that there exist a query q and a KB K such that q is an \u3008\u25e6k, si\u3009consequence of K but not an \u3008\u25e6l, sj\u3009-consequence of K. Note that this holds already for DL-LiteR KBs. Proof:[Sketch] Condition 1 holds by definition of \u2264. Transitivity holds by definition of \u2291. To show that there are no other inclusions, we prove two lemmas: for all \u3008\u25e6i, sj\u3009 and \u3008\u25e6k, sp\u3009, (1) if sp < sj then \u3008\u25e6i, sj\u3009 6\u2291 \u3008\u25e6k, sp\u3009; and (2) if \u3008\u25e6i, sj\u3009 \u2291 \u3008\u25e6k, sp\u3009 and sj < sp, then \u3008\u25e6i, sp\u3009 \u2291 \u3008\u25e6k, sp\u3009.\nLastly, it is important to note that when the initial KB is consistent, all semantics collapse with standard entailment, namely:\nProposition 5. Let K be a consistent standard KB. Then: \u2200s\u2208{\u2229,\u2200,maj, \u2203}, \u2200i : 1, ..., 8, K|=\u3008\u25e6i,s\u3009q iff K |= q.\nConclusion This paper provides a general and unifying framework for inconsistency-tolerant query answering. On the one hand, our logical setting based on existential rules includes previously considered languages. On the other hand, viewing\nan inconsistency-tolerant semantics as a pair composed of a modifier and an inference strategy allows us to include the main known semantics and to consider new ones. We believe that the choice of semantics depends on the applicative context, namely the features of the semantics, i.e rationality properties, complexity (which we have studied, but not presented in this paper) and productivity with respect to the applicative context. In particular, cardinality-based selection allows us to counter troublesome assertions that conflict with many others. In some contexts, requiring to find an answer in all selected repairs can be too restrictive, hence the interest of majority-based semantics, which are more productive than universal semantics, without being as productive as the adventurous existential semantics. As for future work, we plan consider other inference strategies such as the argued inference, parametrized inferences, etc. We also want to adapt the framework to belief change problems, like merging or revision.\nAcknowledgment This work has been supported by the French National Research Agency. ASPIQ project ANR-12-BS02-0003.\nReferences [Arenas, Bertossi, and Chomicki 1999] Arenas, M.; Bertossi, L. E.;\nand Chomicki, J. 1999. Consistent query answers in inconsistent databases. In Proc. of SIGACT-SIGMOD-SIGART, 68\u201379.\n[Baget et al. 2011] Baget, J.; Lecle\u0300re, M.; Mugnier, M.; and Salvat, E. 2011. On rules with existential variables: Walking the decidability line. Artif. Intell. 175(9-10):1620\u20131654.\n[Benferhat, Dubois, and Prade 1997] Benferhat, S.; Dubois, D.; and Prade, H. 1997. Some syntactic approaches to the handling of inconsistent knowledge bases: A comparative study part 1: The flat case. Studia Logica 58(1):17\u201345.\n[Bienvenu 2012] Bienvenu, M. 2012. On the complexity of consistent query answering in the presence of simple ontologies. In Proc. of AAAI\u201912.\n[Lembo et al. 2010] Lembo, D.; Lenzerini, M.; Rosati, R.; Ruzzi, M.; and Savo, D. F. 2010. Inconsistency-tolerant semantics for description logics. In Proc. of RR\u201910, 103\u2013117.\n[Lembo et al. 2015] Lembo, D.; Lenzerini, M.; Rosati, R.; Ruzzi, M.; and Savo, D. F. 2015. Inconsistency-tolerant query answering in ontology-based data access. J. Web Sem. 33:3\u201329.\n[Lukasiewicz et al. 2015] Lukasiewicz, T.; Martinez, M. V.; Pieris, A.; and Simari, G. I. 2015. From classical to consistent query answering under existential rules. In Proc. of AAAI\u201915, 1546\u20131552.\n[Poggi et al. 2008] Poggi, A.; Lembo, D.; Calvanese, D.; Giacomo, G. D.; Lenzerini, M.; and Rosati, R. 2008. Linking data to ontologies. J. Data Semantics 10:133\u2013173.\n[Reiter 1980] Reiter, R. 1980. A logic for default reasoning. Artificial intelligence 13(1):81\u2013132.\n[Rosati 2011] Rosati, R. 2011. On the complexity of dealing with inconsistency in description logic ontologies. In Proc. of IJCAI\u201911, 1057\u20131062.\nAppendix\nIn this appendix, we provide details on the proofs.\nSection 3: A Unified Framework for Inconsistency-Tolerant Query Answering\nTheorem 1. Let KM=\u3008T ,M = {A}\u3009 be a possibly inconsistent KB. Then for any composite modifier \u25e6c that can be obtained by a finite combination of the elementary modifiers \u25e6rep, \u25e6card, \u25e6cl, there exists a composite modifier \u25e6i in {\u25e61 . . . \u25e68} (see Table 1) such that \u25e6c(M)=\u25e6i(M).\nLemma 1 For any MBox M, the following holds:"}, {"heading": "1. \u25e6cl(\u25e6cl(M))=\u25e6cl(M), \u25e6rep(\u25e6rep(M))=\u25e6rep(M) and \u25e6card(\u25e6card(M)) =\u25e6card(M).", "text": "2. Let \u25e6d be any composite modifier. Then: (a) \u25e6cl(\u25e6d(\u25e6cl(M))) = \u25e6d(\u25e6cl(M)), and (b) \u25e6rep(\u25e6d(\u25e6rep(M))) = \u25e6d(\u25e6rep(M)).\nProof. The proof of the idempotence of \u25e6rep follows from the facts that: i) \u2200Ai \u2208 \u25e6rep(M), \u3008T ,Ai\u3009 is consistent and ii) if \u3008T ,Ai\u3009 is consistent, then \u25e6rep(Ai) = {Ai}. The proof of the the idempotence of \u25e6card follows from the facts that: i) \u2200Ai \u2208 \u25e6card(M),\u2200Aj \u2208 \u25e6card(M), we have |Ai| = |Aj | ii) if \u2200Ai \u2208 \u25e6card(M),\u2200Aj \u2208 \u25e6card(M), |Ai| = |Aj | then \u25e6card(M) = M. For the idempotence of \u25e6cl, it is enough to show that for a given A \u2208 M, \u25e6cl(\u25e6cl(A)) = \u25e6cl(A). From the definition of \u25e6cl, clearly we have \u25e6cl(A) \u2286 \u25e6cl(\u25e6cl(A)). Now assume that f \u2208 \u25e6cl(\u25e6cl(A)) but f /\u2208 \u25e6cl(A). Let Bf \u2286 \u25e6cl(A) be the subset that allows to derive f , namely \u3008Tp, Bf \u3009 |= f . Now for each element x of Bf , we have \u3008Tp,A\u3009 |= x. Then clearly, \u3008Tp,A\u3009 |= f .\nRegarding item (2.a), if \u25e6d is an elementary modifier then it can be either \u25e6cl, \u25e6card, or \u25e6rep. If \u25e6d = \u25e6cl then the result holds since \u25e6cl is idempotent. If \u25e6d = \u25e6card then the selected elements from \u25e6card(\u25e6cl(M)) are closed sets of assertions since \u25e6card only discards some elements of \u25e6cl(M) but does not change the content of remaining elements. Lastly, let us consider the case where \u25e6d = \u25e6rep. Again \u2200A\u2032 \u2208 \u25e6rep(\u25e6cl(M)),A \u2032 = \u25e6cl(A \u2032). Let us recall that A\u2032 is a maximally consistent subset of A \u2208 \u25e6cl(M), with A = \u25e6cl(A). If A\u2032 6= \u25e6cl(A) this means that \u2203f \u2208 \u25e6cl(A\u2032) (hence f \u2208 A) such that f /\u2208 A\u2032 despite the fact that \u3008T ,A\u2032\u3009 |= f . This is impossible since A\u2032 should be a maximal consistent subbase of A. Since each \u25e6d \u2208 {\u25e6cl, \u25e6card, \u25e6rep} applied on closed a ABox preserves the closeness property, then clearly a composite modifier also preserves this closeness property.\nThe proof of item (2.b) follows immediately from the fact that i) \u2200Ai \u2208 \u25e6rep(M), \u3008T ,Ai\u3009 is consistent, ii) if M is consistent, then \u2200\u25e6d \u2208 {\u25e6cl, \u25e6card, \u25e6rep} yields a consistent subbase, and iii) \u25e6rep(M) = M if M is consistent.\nProof of Theorem 1. The proof relies on Lemma 1 (see also the explanations following Lemma 1 in the paper).\nJustification of Figure 2 (Inclusion relations between composite modifiers): see following Proposition 6, Example 3, Proposition 7 and Example 4.\nProposition 6 (Part of the proof of Figure 2). Let KM=\u3008T ,M = {A}\u3009 be an inconsistent KB. Let {M1,...,M8} be the MBoxes obtained by the eight composite modifiers {\u25e61, ..., \u25e68} summarized in Table 1. Then:\n1. M2 \u2286 M1. 2. M4 \u2286 M3. 3. M6 \u2286 M5. 4. M8 \u2286 M7. 5. M3 = \u25e6cl(M2). 6. M5 = \u25e6cl(M1). 7. M3 \u2286 M5. 8. M5 \u2286R M7.\nProof.\n\u2022 Items 1-4 follow from the definition of the elementary modifier \u25e6card. Since \u25e6card selects subsets of M having maximal cardinality. Namely, given M an MBox, we have \u25e6card(M) \u2286 M. Hence relations M4 \u2286 M3, M2 \u2286 M1, M6 \u2286 M5, and M8 \u2286 M7 holds.\n\u2022 Items 5-6 follow immediately from the definition of the elementary modifier \u25e6cl, hence we trivially have M5 = \u25e6cl(M1) and M3 = \u25e6cl(M2).\n\u2022 Let us show that M2 \u2286cl M5, namely \u2200A\u2208M2,\u2203B \u2208 M5 such that B = Cl(A). The proof is immediate. Recall that M2 \u2286 M1, hence \u2200A \u2208 M2 we also have A \u2208 M1. Recall also that M5 = \u25e6cl(M1). This means that \u2200A \u2208 M2,\u2203B \u2208 M5 such that B = Cl(A).\n\u2022 Regarding the proof of Item 8, we have M2 \u2286cl M5. This means that \u2200A \u2208 M2, there exists B \u2208 M5 such that B = Cl(A). Said differently, \u2200A \u2208 M2, we have Cl(A) \u2208 M5. Since M3=\u25e6cl(M2), we conclude that M3 \u2286 M5.\n\u2022 We now show that M5\u2286RM7. Let B\u2208\u25e6rep({A}) and let us show that there exists a set of assertions X such that \u25e6cl({B})\u2286X and X\u2208M7. Since B\u2208\u25e6rep({A}), this means by definition that B \u2286 A and hence B \u2286 \u25e6cl(A). Now, B is consistent, this means that there exists R \u2208 \u25e6rep(\u25e6cl(A)) = M7 such that B \u2286 R. From Lemma 1, R is a closed set of assertions, then this means that Cl(B) \u2286 R.\nExample 3 (Counter-examples showing that there are no reciprocal edges in Figure 2).\n1. The converse of M2 \u2286 M1 does not hold. Let T ={B\u2291C,C\u2291\u00acD} and M={{B(a), C(a), D(a)}}. It is easy to check that \u3008T ,M\u3009 is inconsistent. We have: M1=\u25e6rep(M)={{C(a), B(a)}, {D(a)}}, and M2 = \u25e6card(M1) = {{C(a), B(a)}}. One can check that M1 *R M2.\n2. The converse of M4 \u2286 M3 does not hold. Let T ={A \u2291 B, B \u2291\u00acC} and M={{A(a), C(a)}}. It is easy to check that \u3008T ,M\u3009 is inconsistent. We have: M1=\u25e6rep(M)={{A(a)}, {C(a)}}, M2 = \u25e6card(M1) = {{A(a)}, {C(a)}}, M3 = \u25e6cl(M2) = {{A(a), B(a)}, {C(a)}}, and M4 = \u25e6card(M3) = {{A(a), B(a)}}. One can check that M3 *R M4.\n3. The converse of M6 \u2286 M5 does not hold. Let T ={B \u2291 C, C \u2291\u00acD} and M={{B(a), D(a)}}. It is easy to check that \u3008T ,M\u3009 is inconsistent. We have: M1=\u25e6rep(M)={{B(a)}, {D(a)}}, M5 = \u25e6cl(M1)={{C(a), B(a)}, {D(a)}}, and M6 = \u25e6card(M5)={{C(a), B(a)}} One can check that M5 *R M6.\n4. The converse of M8 \u2286 M7 does not hold. Let T ={A \u2291 B, B \u2291\u00acD} and M={{A(a), D(a)}}. It is easy to check that \u3008T ,M\u3009 is inconsistent. We have: \u25e6cl(M)={{A(a), B(a), D(a)}}, M7 = \u25e6rep(\u25e6cl(M))={{A(a),B(a)}, {D(a)}}, and M8 = \u25e6card(M7)={{A(a), B(a)}} One can check that M7 *R M8.\n5. The converse of M3 \u2286 M5 does not hold. Let T ={A \u2291 B, B \u2291 C, C \u2291\u00acD} and M={{A(a), B(a),D(a)}}. It is easy to check that \u3008T ,M\u3009 is inconsistent. We have: M1=\u25e6rep(M)={{A(a), B(a)}, {D(a)}}, M5 = \u25e6cl(M1) = {{A(a), B(a), C(a)}, {D(a)}}, M2 = \u25e6card(M1)={{A(a), B(a)}}, and M3 = \u25e6cl(M2)={{A(a), B(a), C(a)}}. One can check that M5 *R M3.\n6. The converse of M5 \u2286R M7 does not hold. Let T ={A \u2291\u00acB, B \u2291 D} and M={{A(a), B(a)}}. It is easy to check that \u3008T ,M\u3009 is inconsistent. We have: \u25e6cl(M)={{A(a), B(a), D(a)}}, M7 = \u25e6rep(\u25e6cl(M))={{A(a),D(a)}, {B(a),D(a)}}, M1=\u25e6rep(M)={{A(a)}, {B(a)}}, and M5 = \u25e6cl(M1)={{A(a)}, {B(a), D(a)}}, One can check that M7 *R M5.\nCorollary 1. Let KM=\u3008T ,M = {A}\u3009 be an inconsistent KB. Let {M1,...,M8} be the MBoxes obtained by the eight composite modifiers {\u25e61,...,\u25e68} summarized in Table 1. Then:\n1. \u2200Ai \u2208 M3, \u2203Aj \u2208 M1 such that Ai = Cl(Aj). 2. \u2200Ai \u2208 M4, \u2203Aj \u2208 M1 such that Ai = Cl(Aj). 3. \u2200Ai \u2208 M6, \u2203Aj \u2208 M1 such that Ai = Cl(Aj). 4. \u2200Ai \u2208 M1, \u2203Aj \u2208 M7 such that Ai \u2286 Aj . 5. \u2200Ai \u2208 M1, \u2203Aj \u2208 M8 such that Ai \u2286 Aj . 6. \u2200Ai \u2208 M4, \u2203Aj \u2208 M2 such that Ai = Cl(Aj). 7. \u2200Ai \u2208 M2, \u2203Aj \u2208 M7 such that Ai \u2286 Aj .\n8. \u2200Ai \u2208 M3, \u2203Aj \u2208 M7 such that Ai \u2286 Aj . 9. \u2200Ai \u2208 M4, \u2203Aj \u2208 M7 such that Ai \u2286 Aj .\n10. \u2200Ai \u2208 M5, \u2203Aj \u2208 M8 such that Ai \u2286 Aj .\nProposition 7 (Part of the proof of Figure 2). Let {\u25e61,...,\u25e68} be the eight composite modifiers summarized in Table 1.Then:\n1. There exists M such that \u25e66(M) and \u25e68(M) are incomparable. 2. There exists M such that \u25e62(M) and \u25e66(M) are incomparable. 3. There exists M such that \u25e63(M) and \u25e66(M) are incomparable. 4. There exists M such that \u25e64(M) and \u25e66(M) are incomparable. 5. There exists M such that \u25e62(M) and \u25e68(M) are incomparable. 6. There exists M such that \u25e63(M) and \u25e68(M) are incomparable. 7. There exists M such that \u25e64(M) and \u25e68(M) are incomparable.\nExample 4 (Examples that prove Proposition 7). The following examples prove the statements in Proposition 7.\n1. There exists M such that \u25e66(M) and \u25e68(M) are incomparable. Let T ={B \u2291\u00acC, B \u2291 A, C \u2291 A,A \u2291\u00acD,D \u2291 E,E \u2291 F} and M={{A(a), B(a), C(a),D(a)}}. It is easy to check that \u3008T ,M\u3009 is inconsistent. We have: M1 = \u25e6rep(M) = {{A(a), C(a)}, {A(a), B(a)}, {D(a)}}, and M5 = \u25e6cl(M1)={{A(a), C(a)}, {A(a), B(a)}, {D(a), E(a), F (a)}}, and M6 = \u25e6card(M5)={{D(a), E(a), F (a)}}, \u25e6cl(M)={{A(a), B(a), C(a),D(a), E(a), F (a)}}, M7 = \u25e6rep(\u25e6cl(M))={{A(a), C(a), E(a), F (a)}, {A(a), B(a), E(a), F (a)}, {D(a), E(a), F (a)}}, and M8 = \u25e6rep(M7) = {{A(a), C(a), E(a), F (a)}, {A(a),B(a), E(a), F (a)}} One can check that M6 and M8 are incomparable.\n2. There exists M such that \u25e62(M), \u25e63(M) and \u25e64(M) are incomparable with \u25e66(M). Let T ={A \u2291\u00acB, C \u2291 A, B \u2291 D, D \u2291 F} and M={{A(a), C(a), B(a)}}. It is easy to check that \u3008T ,M\u3009 is inconsistent. We have: M1 = \u25e6rep(M)={{A(a), C(a)}, {B(a)}}, M2 = \u25e6card(M2)={{A(a), C(a)}}, M5 = \u25e6cl(M1)={{A(a), C(a)}, {B(a), D(a), F (a)}}, M6 = \u25e6card(M5)={{B(a), D(a), F (a)}}, One can check that M2 is incomparable with M6. We have also M2=M3=M4={{A(a), C(a)}}, So, we conclude that M3 and M4 are incomparable with M6.\n3. There exists M such that \u25e62(M), \u25e63(M) and \u25e64(M) are incomparable with \u25e68(M). Let T ={B \u2291 A, C \u2291 A,A \u2291\u00acD,E \u2291 D,D \u2291 F} and M={{A(a), D(a), E(a)}}. It is easy to check that \u3008T ,M\u3009 is inconsistent. We have: M1 = \u25e6rep(M) = {{A(a)}, {D(a), E(a)}}, and M2 = \u25e6card(M1)={D(a), E(a)}}, and M3 = M4={{D(a), E(a), F (a)}}, \u25e6cl(M)={{A(a), B(a), C(a),D(a), E(a), F (a)}}, M7 = \u25e6rep(\u25e6cl(M))={{A(a), C(a), B(a), F (a)}, {D(a), E(a), F (a)}}, and M8 = \u25e6rep(M7) = {{A(a), C(a),B(a), F (a)}, One can check that M2, M3 and M4 are incomparable with M8.\nProposition 8 (Proof of Equation 1 and Figure 3). Let M be a consistent MBox w.r.t. a TBox T . Let q be a query. Then:"}, {"heading": "1. if \u3008T ,M\u3009 |=\u2229 q then \u3008T ,M\u3009 |=\u2200 q.", "text": "2. if \u3008T ,M\u3009 |=\u2200 q then \u3008T ,M\u3009 |=maj q. 3. if \u3008T ,M\u3009 |=maj q then \u3008T ,M\u3009 |=\u2203 q. Proof of Proposition 8. Item 1 holds from the fact that \u2200Ai \u2208 M, we have ( \u22c2\nAi\u2208M Ai) \u2286 Ai. Item 2 holds due to the fact that universal\nconsequence requires that q follows from all ABoxes in M. Hence, q holds in more than the half of Ai\u2019s in M. Item 3 follows from the fact that a query is considered as valid using majority-based consequence relation if it is confirmed by more than the half of Ai \u2208 M. Hence q follows from at least one ABox.\nFinally, the following two lemmas about the cautiousness relation will be used later. Lemma 2 considers two MBoxes, with one included in the other. Lemma 3 considers two MBoxes, where one is the positive closure of the other.\nLemma 2. Let M1 and M2 be two consistent MBoxes w.r.t. a TBox T such that M1\u2286M2. Let q be a query. Then:"}, {"heading": "1. If \u3008T ,M2\u3009 |=\u2200 q then \u3008T ,M1\u3009 |=\u2200 q.", "text": ""}, {"heading": "2. If \u3008T ,M2\u3009 |=\u2229 q then \u3008T ,M1\u3009 |=\u2229 q.", "text": "3. There are M1 and M2 such that the majority-based inference yields incomparable results."}, {"heading": "4. If \u3008T ,M1\u3009 |=\u2203 q then \u3008T ,M2\u3009 |=\u2203 q.", "text": "Proof. The proof is immediate. For item 1, if q holds in all Ai of M2 then trivially it holds in all Aj of M1 (since M1 \u2286 M2). Item 2 holds due to the fact that M1 \u2286 M2 implies that\n\u22c2 Ai\u2208M2 Ai \u2286 \u22c2 Aj\u2208M1 Aj . Lastly, from item 4, if there exists an Ai in M1 where q\nholds, then such Ai also exists in M2.\nExample 5 (Counter-examples associated with Lemma 2). The converse of Items 1 and 2 and 4 does not hold, as shown by the following counter-example. Let T = \u2205, M1={B(a)} and M2={{B(a)},{B(c)}, {B(c)}}. First, note that M1 \u2286 M2. Clearly \u3008T ,M1\u3009 |=\u2200 B(a) (resp. \u3008T ,M1\u3009 |=\u2229 B(a)) holds, while \u3008T ,M2\u3009 |=\u2200 B(a) (resp. \u3008T ,M2\u3009 |=\u2229 B(a)) does not hold. Similarly \u3008T ,M2\u3009 |=\u2203 B(c) holds, while \u3008T ,M1\u3009 |=\u2203 B(c) does not hold.\nRegarding majority-based inference, one can check that \u3008T ,M1\u3009 |=maj B(a) holds while \u3008T ,M2\u3009 |=maj B(a) does not hold. And \u3008T ,M2\u3009 |=maj B(c) holds while \u3008T ,M1\u3009 |=maj B(c) does not hold.\nLemma 3. Let M1 and M2 be two consistent MBoxex w.r.t. T . Let M2 be the positive closure of M1. Let q be a Boolean query. Then:"}, {"heading": "1. \u3008T ,M1\u3009 |=\u2200 q iff \u3008T ,M2\u3009 |=\u2200 q.", "text": "2. \u3008T ,M1\u3009 |=maj q iff \u3008T ,M2\u3009 |=maj q."}, {"heading": "3. if \u3008T ,M1\u3009 |=\u2229 q then \u3008T ,M2\u3009 |=\u2229 q.", "text": ""}, {"heading": "4. \u3008T ,M1\u3009 |=\u2203 q iff \u3008T ,M2\u3009 |=\u2203 q.", "text": "Proof of Lemma 3. The proof is again immediate. Items 1, 2 and 4 follow from the fact that, if A is a consistent ABox with T , then \u3008T ,A\u3009 |= q iff \u3008T ,Cl(A)\u3009 |= q. Item 3 follows from the fact that Ai \u2286 Cl(Ai) for each Ai \u2208 M1. Hence\n\u22c2 Ai\u2208M1 Ai \u2286 \u22c2 Ai\u2208M1 Cl(Ai) =\u22c2\nAj\u2208M2 Aj .\nSection 4: Comparison of Inconsistency-Tolerant Semantics w.r.t. Productivity\nProof of Figure 4 (intersection-based semantics) The relation pictured in the figure is proved by the following propositions and examples.\nProposition 9 (Proof of Figure 4, Part 1). Let KM=\u3008T ,M = {A}\u3009 be an inconsistent KB. Let M1,...,M8 be the MBoxes obtained by applying the eight modifiers {\u25e61, ..., \u25e68}, given in Table 1, on M. Let q be a Boolean query. Then:\n1. If q is a safe conclusion of \u3008T ,M1\u3009 then q is a safe conclusion of \u3008T ,M2\u3009.\n2. If q is a safe conclusion of \u3008T ,M1\u3009 then q is a safe conclusion of \u3008T ,M5\u3009.\n3. If q is a safe conclusion of \u3008T ,M2\u3009 then q is a safe conclusion of \u3008T ,M3\u3009.\n4. If q is a safe conclusion of \u3008T ,M3\u3009 then q is a safe conclusion of \u3008T ,M4\u3009.\n5. If q is a safe conclusion of \u3008T ,M5\u3009 then q is a safe conclusion of \u3008T ,M3\u3009.\n6. if q is a safe conclusion of \u3008T ,M5\u3009 then q is a safe conclusion of \u3008T ,M6\u3009.\n7. If q is a safe conclusion of \u3008T ,M5\u3009 then q is a safe conclusion of \u3008T ,M7\u3009.\n8. If q is a safe conclusion of \u3008T ,M7\u3009 then q is a safe conclusion of \u3008T ,M8\u3009.\nProof. The proof is as follows:\n1. For items 1, we have M2 \u2286 M1, then following Item 2 of Lemma 2, if \u3008M1,\u2229\u3009 implies a query q then \u3008M2,\u2229\u3009 implies it also. The proof follow similarly for Items 4,5, 6 and 8 since M4 \u2286 M3, M3 \u2286 M5, M6 \u2286 M5, and M8 \u2286 M7.\n2. For items 2 and 3, we have M5 = \u25e6cl(M1) and M3 = \u25e6cl(M2). Then following Item 3 of Lemma 3, if a query holds in \u3008M,\u2229\u3009 then it also holds in \u3008\u25e6cl(M),\u2229\u3009. 3. For item 7, we have \u2200A \u2208 M5,\u2203B \u2208 M7 such that A \u2286 B. Let A(a) \u2208 \u22c2\nAi\u2208M5 Ai. Then one can check that there is no conflict\nC in \u3008T ,Cl(M)\u3009 such that A(a) \u2208 C. Indeed, assume that such conflict exists. Then this means that there exists B(a) \u2208 Cl(M) where \u3008T , {(A(a), B(a)}\u3009 is conflicting. Two options: i) B(a) \u2208 M. This means that there exists a maximally consistent subset X of M with B(a) \u2208 X . Since B(a) is conflicting with A(a), with respect to T . Then A(a) neither belongs to X nor to Cl(X). This contradict the fact that A(a) \u2208\n\u22c2 Ai\u2208M5\nAi. ii) B(a) /\u2208 M. Let Y \u2286 M such that \u3008T , Y \u3009 |= B(a). Then clearly \u3008T , Y \u222a {A(a)}\u3009 is inconsistent. Hence, there exists D(a) \u2208 M such that \u3008T , {(D(a), A(a)}\u3009 is conflicting and D(a) \u2208 Y . This comes down to item (i). Now, since there is no conflict in Cl(M) containing A(a), then A(a) belong to all maximally consistent subsets of Cl(M), hence A(a) belongs to\n\u22c2 Aj\u2208M7 Aj . Therefore if a q\nholds in \u3008M5,\u2229\u3009, then it holds that \u3008M5,\u2229\u3009.\nExample 6 (Proof of Figure 4, Part 2). The following counter-examples show that no reciprocal edges hold in Figure 4.\n1. There exists a KB, and a Boolean query q such that q is a safe conclusion of \u3008T ,M2\u3009, but q is not a safe conclusion of \u3008T ,M1\u3009: Let us consider T ={A \u2291 B,B \u2291\u00acC} and M = {{C(a), A(a),B(a)}}. It is easy to check that \u3008T ,M\u3009 is inconsistent. We have: M1 = {{C(a)}}, {A(a), B(a)}}, and M2 = {{A(a), B(a)}}. Let q \u2190 A(a) be a query. One can check that: M2 |=\u2229 q, since\n\u22c2 Ai\u2208M2\nAi={A(a), B(a)} but M1 6|=\u2229 q.\n2. There exists a KB, and a Boolean query q such that q is a safe conclusion of \u3008T ,M5\u3009, but q is not a safe conclusion of \u3008T ,M1\u3009: Let us consider T ={B \u2291 D,B \u2291\u00acC,C \u2291 D} and M = {{C(a), B(a)}}. It is easy to check that \u3008T ,M\u3009 is inconsistent. We have: M1 = {{C(a)}, {B(a)}}, and M5 = {{B(a), D(a)}, {C(a), D(a)}}. Let q \u2190 D(a) be a query. One can check that : M5 |=\u2229 q since\n\u22c2 Ai\u2208M5\nAi={D(a)}, but M1 6|=\u2229 q.\n3. There exists a KB, and a Boolean query q such that q is a safe conclusion of \u3008T ,M3\u3009, but q is not a safe conclusion of \u3008T ,M2\u3009: Let us consider T ={B \u2291\u00acC,C \u2291 A,B \u2291 A} and M = {{C(a), B(a)}}. It is easy to check that \u3008T ,M\u3009 is inconsistent. We have: M1 = M2 = {{C(a)}, {B(a)}},and M3 = {{C(a), A(a)}}, {B(a), A(a)}}. Let q \u2190 A(a) be a query. One can check that: M3 |=\u2229 q, but M2 6|=\u2229 q.\n4. There exists a KB, and a Boolean query q such that q is a safe conclusion of \u3008T ,M4\u3009, but q is not a safe conclusion of \u3008T ,M3\u3009: Let us consider T ={A \u2291 B,B \u2291\u00acD} and M = {{A(a), D(a)}}. It is easy to check that \u3008T ,M\u3009 is inconsistent. We have: M1 = M2 = {{A(a)}, {D(a)}}, M3 = {{A(a), B(a)}, {D(a)}}, and M4 = {{A(a), B(a)}}. Let q \u2190 A(a) be a query. One can check that M4 |=\u2229 q but M3 6|=\u2229 q.\n5. There exists a KB, and a Boolean query q such that q is a safe conclusion of \u3008T ,M3\u3009, but q is not a safe conclusion of \u3008T ,M5\u3009: Let us consider T ={A \u2291 B, B \u2291\u00acD} and M = {{A(a), D(a), B(a)}}. It is easy to check that \u3008T ,M\u3009 is inconsistent. We have: M1 = {{A(a), B(a)}, {D(a)}}, M2 = M3 = {{A(a), B(a)}}, and M5 = {{A(a), B(a)}, {D(a)}}. Let q \u2190 A(a) be a query. One can check that M3 |=\u2229 q but M5 6|=\u2229 q.\n6. There exists a KB, and a Boolean query q such that q is a safe conclusion of \u3008T ,M6\u3009, but q is not a safe conclusion of M5: Let us consider T ={B \u2291 C, C \u2291\u00acD} and M={{B(a), D(a)}}. It is easy to check that \u3008T ,M\u3009 is inconsistent. We have: M1 = {{B(a)}, {D(a)}}, M5 = {{B(a), C(a)}, {D(a)}}, and M6 = {{B(a), C(a)}}. Let q \u2190 B(a) be a query. One can check that M6 |=\u2229 q but M5 6|=\u2229 q.\n7. There exists a KB, and a Boolean query q such that q is a safe conclusion of \u3008T ,M7\u3009, but q is not a safe conclusion of M5: Let T ={A \u2291\u00acB, B \u2291 D} and M={{A(a), B(a)}}. It is easy to check that \u3008T ,M\u3009 is inconsistent. We have: M1={{A(a)}, {B(a)}}, M5={{A(a)}, {B(a), D(a))}}, \u25e6cl(M)={{A(a), B(a), D(a)}}, and M7={{A(a), D(a)}, {B(a), D(a)}}.\nLet q \u2190 D(a) be a query. One can deduce that: M7 |=\u2229 q but M5 6|=\u2229 q.\n8. There exists a KB, and a Boolean query q such that q is a safe conclusion of \u3008T ,M8\u3009, but q is not a safe conclusion of \u3008T ,M7\u3009: Let us consider T ={A \u2291 B, B \u2291\u00acC, C \u2291 D} and M = {{A(a), C(a)}}. It is easy to check that \u3008T ,M\u3009 is inconsistent. We have: \u25e6cl(M) = {A(a), C(a), B(a),D(a)}, M7 = {{A(a), B(a),D(a)}, {C(a), D(a)}}, and M8 = {{A(a), B(a),D(a)}}. Let q \u2190 A(a) be a Boolean query. One can deduce that: M8 |=\u2229 q, but M7 6|=\u2229 q.\nProposition 10 (Proof of Figure 4, Part 3). Let {\u25e61,...,\u25e68} be the eight modifier given in Table 1. Let q be a Boolean query. Then:\n1. There exists an MBox M such that the safe inference from \u25e62(M) is incomparable with the one obtained from \u25e66(M).\n2. There exists an MBox M such that the safe inference from \u25e63(M) is incomparable with the one obtained from \u25e66(M).\n3. There exists an MBox M such that the safe inference from \u25e66(M) is incomparable with the one obtained from \u25e67(M).\n4. There exists an MBox M such that the safe inference from \u25e66(M) is incomparable with the one obtained from \u25e68(M).\n5. There exists an MBox M such that the safe inference from \u25e62(M) is incomparable with the one obtained from \u25e65(M).\nExample 7. The following examples show the incomparabilities stated in the previous proposition.\n1. The safe inference from M6 is incomparable with the one obtained from M7. Let T ={C \u2291 F ,F \u2291 A,A \u2291\u00acB,B \u2291 D} and M={{C(a), B(a)}}. It is easy to check that \u3008T ,M\u3009 is inconsistent. We have: M1 = \u25e6rep(M)={{C(a)}, {B(a)}}, and M5 = \u25e6cl(M1)={{A(a), C(a), F (a)}, {B(a), D(a)}}, and M6 = \u25e6card(M5)={{A(a), C(a), F (a)}}, \u25e6cl(M)={{A(a), C(a), F (a),B(a), D(a)}}, M7 = \u25e6rep(\u25e6cl(M))={{A(a), C(a), F (a),D(a)}, {D(a), B(a)}}, Let q1 \u2190 F (a) and q2 \u2190 D(a) be two queries. One can check that: \u3008M7,\u2229\u3009 |= q2 but \u3008M6,\u2229\u3009 6|= q2 while \u3008M6,\u2229\u3009 |= q1 but \u3008M7,\u2229\u3009 6|= q1.\n2. The safe inference from M6 is incomparable with the one obtained from M8. Let T ={B \u2291\u00acC,B \u2291 A,C \u2291 A,A \u2291\u00acD,D \u2291 E,E \u2291 F} and M={{A(a),B(a),C(a),D(a)}}. It is easy to check that \u3008T ,M\u3009 is inconsistent. We have: M1 = \u25e6rep(M)={{A(a), C(a)}, {A(a), B(a)}, {D(a)}}, M5 = \u25e6cl(M1)={{A(a), C(a)}, {A(a),B(a)}, {D(a), E(a), F (a)}}, M6 = \u25e6card(M5)={{D(a), E(a), F (a)}}, \u25e6cl(M)={{A(a), B(a), C(a),D(a), E(a), F (a)}}, M7 = \u25e6rep(\u25e6cl(M))={{A(a), C(a), E(a), F (a)}, {A(a), B(a), E(a), F (a)}, {D(a), E(a), F (a)}}, and M8 = \u25e6rep(M7)={{A(a), C(a), E(a), F (a)}, {A(a),B(a), E(a), F (a)}} Let q1 \u2190 D(a) and q2 \u2190 A(a) be two queries. One can check that: \u3008M8,\u2229\u3009 |= q2 but \u3008M6,\u2229\u3009 6|= q2 while \u3008M6,\u2229\u3009 |= q1 but \u3008M8,\u2229\u3009 6|= q1.\n3. The safe inference from M2 is incomparable with the one obtained from M6. Let T ={A \u2291\u00acB, C \u2291 A, B \u2291 D, D \u2291 F} and M={{A(a), C(a), B(a)}}. It is easy to check that \u3008T ,M\u3009 is inconsistent. We have: M1 = \u25e6rep(M)={{A(a), C(a)}, {B(a)}}, M2 = \u25e6card(M2)={{A(a), C(a)}}, M5 = \u25e6cl(M1)={{A(a), C(a)}, {B(a), D(a), F (a)}}, M6 = \u25e6card(M5)={{B(a), D(a), F (a)}}, Let q1 \u2190 A(a) and q2 \u2190 B(a) be two queries. One can check that: \u3008M2,\u2229\u3009 |= q1 but \u3008M6,\u2229\u3009 6|= q1 while \u3008M6,\u2229\u3009 |= q2 but \u3008M2,\u2229\u3009 6|= q2.\n4. The safe inference from M2 is incomparable with the one obtained from M5. Let T ={A \u2291 B, C \u2291 B, A \u2291\u00acC, D \u2291 C} and M={{A(a), C(a),D(a)}}. It is easy to check that \u3008T ,M\u3009 is inconsistent. We have: M1 = \u25e6rep(M)={{A(a)}, {C(a), D(a)}}, M2 = \u25e6card(M1)={{C(a), D(a)}}, and M5 = \u25e6cl(M1)={{A(a), B(a)}, {B(a),D(a), C(a)}}, Let q1 \u2190 D(a) and q2 \u2190 B(a) be two queries. One can check that:\n\u3008M2,\u2229\u3009 |= q1 but \u3008M5,\u2229\u3009 6|= q1 while \u3008M5,\u2229\u3009 |= q2 but \u3008M2,\u2229\u3009 6|= q2.\nProof of Figure 5 (universal semantics) The relation pictured in the figure is proved by the following propositions and examples.\nProposition 11 (Proof of Figure 5, Part 1). Let KM=\u3008T ,M = {A}\u3009 be an inconsistent KB. Let M1,...,M8 be the MBoxes obtained by applying the eight modifiers, given in Table 1, on M. Let q be a Boolean query. Then:\n1. q is a universal conclusion of \u3008T ,M1\u3009 iff q is a universal conclusion of \u3008T ,M5\u3009.\n2. q is a universal conclusion of \u3008T ,M2\u3009 iff q is a universal conclusion of \u3008T ,M3\u3009.\nProof. Item 1 and 2 follow from item 1 of Lemma 3 and the facts that M5 = \u25e6cl(M1) and M3 = \u25e6cl(M2).\nProposition 12 (Proof of Figure 5, Part 2). Let KM=\u3008T ,M = {A}\u3009 be an inconsistent KB. Let M1,...,M8 be the MBoxes obtained by applying the eight modifiers, given in Table 1, on M. Let q be a Boolean query. Then:\n1. If q is a universal conclusion of \u3008T ,M1\u3009 (or \u3008T ,M5\u3009) then q is a universal conclusion of \u3008T ,M2\u3009.\n2. If q is universal conclusion of \u3008T ,M3\u3009 (or \u3008T ,M2\u3009) then q is a universal conclusion of \u3008T ,M4\u3009.\n3. If q is universal conclusion of \u3008T ,M1\u3009 (or \u3008T ,M5\u3009) then q is a universal conclusion of \u3008T ,M6\u3009.\n4. If q is universal conclusion of \u3008T ,M7\u3009 then q is a universal conclusion of \u3008T ,M8\u3009.\n5. If q is universal conclusion of \u3008T ,M1\u3009 (or \u3008T ,M5\u3009) then q is a universal conclusion of \u3008T ,M7\u3009.\nProof. For Items 1, 2, 3 and 4, we have M2 \u2286 M1, M4 \u2286 M3, M6 \u2286 M5 and M8 \u2286 M7. Then following Item 2 of Lemma 2, we have if \u3008T ,M1\u3009 |=\u2200 q then \u3008T ,M2\u3009 |=\u2200 q. Similarly for M4 \u2286 M3, M6 \u2286 M5 and M8 \u2286 M7.\nFinally, for item 5 recall first that \u3008M5,\u2200\u3009 \u2261 \u3008M1,\u2200\u3009 and \u2200A \u2208 M5,\u2203B \u2208 M7 such that A \u2286 B. Now let us show that \u2200B \u2208 M7, \u2203A \u2208 M5 such that A \u2286 B. Let B \u2208 M7 = \u25e6rep(\u25e6cl(M)). This means that B \u2286 \u25e6cl(M) and B is a maximally consistent subset. Let C \u2208 \u25e6rep(M). This means that C \u2286 M \u2286 \u25e6cl(M). Since C is also a maximally consistent subset then C \u2286 B. Now, recall that B is a closed set of assertion, then A = Cl(C) \u2286 B. Therefore we conclude that if a conclusion holds from M5, then it holds from M7.\nExample 8 (Proof of Figure 5, Part 3). The following counter-examples show that no reciprocal edges hold in Figure 5.\n1. There exists a KB, and a Boolean query q such that q is a universal conclusion of \u3008T ,M2\u3009, but q is not a universal conclusion of \u3008T ,M1\u3009: Let us consider T = {A \u2291 B,B \u2291\u00acC} and M = {{A(a),B(a), C(a)}}. It is easy to check that \u3008T ,M\u3009 is inconsistent. We have: M1 = \u25e6rep(M) = {{A(a), B(a)}, {C(a)}}, and M2 = \u25e6card(M1) = {{A(a), B(a)}}. Let q \u2190 A(a) be a query. One can check that: \u3008M2,\u2200\u3009 |= q but \u3008M1,\u2200\u3009 6|= q, since \u3008T , {C(a)}\u3009 6|= q.\n2. There exists a KB, and a Boolean query q such that q is a universal conclusion of \u3008T ,M4\u3009, but q is not a universal conclusion of \u3008T ,M3\u3009: Let us consider T = {A \u2291\u00acB,A \u2291 F} and M={{A(a), B(a)}}. It is easy to check that \u3008T ,M\u3009 is inconsistent. We have: M1 = M2 = {{A(a)}, {B(a)}}, M3 = {{A(a), F (a)},{B(a)}}, and M4 = {{A(a), F (a)}}. Let q \u2190 F (a) be a query. One can check that: \u3008M4,\u2200\u3009 |= q but \u3008M3,\u2200\u3009 6|= q, since \u3008T , {B(a)}\u3009 6|= q.\n3. There exists a KB, and a Boolean query q such that q is a universal conclusion of \u3008T ,M6\u3009, but q is not a universal conclusion of \u3008T ,M5\u3009: Let us consider T ={B \u2291 C, C \u2291\u00acD} and M = {{B(a), D(a)}}. It is easy to check that \u3008T ,M\u3009 is inconsistent. We have: M1 = {{B(a)}, {D(a)}}, M5 = {{B(a), C(a)}, {D(a)}}, and M6 = {{B(a), C(a)}}. Let q \u2190 C(a) be a query. One can check that: \u3008M6,\u2200\u3009 |= q but \u3008M5,\u2200\u3009 6|= q, since \u3008T , {D(a)}\u3009 6|= q\n4. There exists a KB, and a Boolean query q such that q is a universal conclusion of \u3008T ,M8\u3009, but q is not a universal conclusion of \u3008T ,M7\u3009: Let us consider T ={A \u2291 B, B \u2291\u00acC, C \u2291 D, D \u2291 F} and M = {{A(a), C(a)}}. It is easy to check that \u3008T ,M\u3009 is inconsistent. We have: \u25e6cl(M) = {A(a), C(a), B(a),D(a), F (a)}, M7 = {{A(a), B(a),D(a), F (a)}, {C(a), D(a), F (a)}}, and M8 = {{A(a), B(a),D(a), F (a)}}. Let q \u2190 A(a) be a query. One can check that: \u3008M8,\u2200\u3009 |= q, but \u3008M7,\u2200\u3009 6|= q, since \u3008T , {C(a), D(a), F (a}\u3009 6|= q.\n5. There exists a KB, and a Boolean query q such that q is a universal conclusion of \u3008T ,M7\u3009, but q is not a universal conclusion of \u3008T ,M5\u3009: Let T ={A \u2291\u00acB, B \u2291 D} and M={{A(a), B(a)}}. It is easy to check that \u3008T ,M\u3009 is inconsistent. We have: M1={{A(a)}, {B(a)}}, \u25e6cl(M)={{A(a), B(a), D(a)}}, and M7={{A(a), D(a)}, {B(a), D(a)}}. Let q \u2190 D(a) be a query. One can check that: \u3008M7,\u2200\u3009 |= q but \u3008M1,\u2200\u3009 6|= q, since \u3008T , {A(a)}\u3009.\nProposition 13 (Proof of Figure 5, Part 4). Let {\u25e61,...,\u25e68} be the eight modifiers given in Table 1. Then:\n1. There exists an MBox M such that the universal inference from \u25e66(M) is incomparable with the one obtained from \u25e67(M). 2. There exists an MBox M such that the universal inference from \u25e66(M) is incomparable with the one obtained from \u25e68(M). 3. There exists an MBox M such that the universal inference from \u25e62(M) (resp.\u25e63(M), \u25e64(M)) is incomparable with the one obtained\nfrom \u25e66(M). 4. There exists an MBox M such that the universal inference from \u25e62(M) (resp.\u25e63(M), \u25e64(M)) is incomparable with the one obtained\nfrom \u25e67(M). 5. There exists an MBox M such that the universal inference from \u25e62(M) (resp.\u25e63(M), \u25e64(M)) is incomparable with the one obtained\nfrom \u25e68(M).\nExample 9. The following examples prove the incomparabilities stated in the previous proposition.\n1. The universal inference from M6 is incomparable with the one obtained from M7. Let T ={C \u2291 F , F \u2291 A, A \u2291\u00acB,B \u2291 D} and M={{C(a), B(a)}}. It is easy to check that \u3008T ,M\u3009 is inconsistent. We have: M1 = \u25e6rep(M)={{C(a)}, {B(a)}}, and M5 = \u25e6cl(M1)={{A(a), C(a), F (a)}, {B(a), D(a)}}, and M6 = \u25e6card(M5)={{A(a), C(a), F (a)}}, \u25e6cl(M)={{A(a), C(a), F (a),B(a), D(a)}}, M7 = \u25e6rep(\u25e6cl(M))={{A(a), C(a), F (a),D(a)}, {D(a), B(a)}}, Let q1 \u2190 F (a) and q2 \u2190 D(a) be two queries. One can check that: \u3008M7,\u2200\u3009 |= q2 but \u3008M6,\u2200\u3009 6|= q2 while \u3008M6,\u2200\u3009 |= q1 but \u3008M7,\u2200\u3009 6|= q1.\n2. The universal inference from M6 is incomparable with the one obtained from M8. Let T ={B \u2291\u00acC, B \u2291 A, C \u2291 A,A \u2291\u00acD,D \u2291 E,E \u2291 F} and M={{A(a), B(a), C(a),D(a)}}. It is easy to check that \u3008T ,M\u3009 is inconsistent. We have: M1 = \u25e6rep(M)={{A(a), C(a)}, {A(a), B(a)}, {D(a)}}, and M5 = \u25e6cl(M1)={{A(a), C(a)}, {A(a), B(a)}, {D(a), E(a), F (a)}}, and M6 = \u25e6card(M5)={{D(a), E(a), F (a)}}, \u25e6cl(M)={{A(a), B(a), C(a),D(a), E(a), F (a)}}, M7 = \u25e6rep(\u25e6cl(M))={{A(a), C(a), E(a), F (a)}, {A(a), B(a), E(a), F (a)}, {D(a), E(a), F (a)}}, and M8 = \u25e6card(M7)={{A(a), C(a), E(a), F (a)}, {A(a),B(a), E(a), F (a)}} Let q1 \u2190 D(a) and q2 \u2190 A(a) be two queries. One can check that: \u3008M8,\u2200\u3009 |= q2 but \u3008M6,\u2200\u3009 6|= q2 while \u3008M6,\u2200\u3009 |= q1 but \u3008M8,\u2200\u3009 6|= q1.\n3. The universal inference from M2 (resp. M3 and M4 is incomparable with the one obtained from M6. Let T ={A \u2291\u00acB, C \u2291 A, B \u2291 D, D \u2291 F} and M={{A(a), C(a), B(a)}}. It is easy to check that \u3008T ,M\u3009 is inconsistent. We have: M1 = \u25e6rep(M)={{A(a), C(a)}, {B(a)}}, M2 = \u25e6card(M2)={{A(a), C(a)}}, M4 = {{A(a), C(a)}}, M5 = \u25e6cl(M1)={{A(a), C(a)}, {B(a), D(a), F (a)}},\nM6 = \u25e6card(M5)={{B(a), D(a), F (a)}}, Let q1 \u2190 A(a) and q2 \u2190 B(a) be two queries. One can check that: \u3008M2,\u2200\u3009 |= q1 but \u3008M6,\u2200\u3009 6|= q1 while \u3008M6,\u2200\u3009 |= q2 but \u3008M2,\u2200\u3009 6|= q2. Similarly for M4\n4. The universal inference from M2 (resp. M3 and M4 is incomparable with the one obtained from M7. Let T ={A \u2291\u00acB, C \u2291 A, B \u2291 D, D \u2291 F} and M={{A(a), C(a), B(a)}}. It is easy to check that \u3008T ,M\u3009 is inconsistent. We have: M1 = \u25e6rep(M)={{A(a), C(a)}, {B(a)}}, M2 = \u25e6card(M2)={{A(a), C(a)}}, M4 = {{A(a), C(a)}}, \u25e6cl(M)={{A(a), C(a), B(a),D(a), F (a)}}, M7 = \u25e6rep(\u25e6cl(M))={{A(a), C(a), D(a), F (a)}, {B(a), D(a), F (a)}}, Let q1 \u2190 A(a) and q2 \u2190 D(a) be two queries. One can check that: \u3008M2,\u2200\u3009 |= q1 but \u3008M7,\u2200\u3009 6|= q1 while \u3008M7,\u2200\u3009 |= q2 but \u3008M2,\u2200\u3009 6|= q2. Similarly for M4.\n5. The universal inference from M2 (resp. M3 and M4 is incomparable with the one obtained from M8. Let T ={B \u2291 A, C \u2291 A,A \u2291\u00acD,E \u2291 D,D \u2291 F} and M={{A(a), D(a), E(a)}}. It is easy to check that \u3008T ,M\u3009 is inconsistent. We have: M1 = \u25e6rep(M) = {{A(a)},{D(a), E(a)}}, and M2 = \u25e6card(M1)={D(a), E(a)}}, and M4={{D(a), E(a), F (a)}}, \u25e6cl(M)={{A(a), B(a), C(a),D(a), E(a), F (a)}}, M7 = \u25e6rep(\u25e6cl(M))={{A(a), C(a), B(a), F (a)}, {D(a), E(a), F (a)}}, and M8 = \u25e6rep(M7) = {{A(a), C(a),B(a), F (a)}, Let q1 \u2190 D(a) and q2 \u2190 A(a) be two queries. One can check that: \u3008M2,\u2200\u3009 |= q1 but \u3008M8,\u2200\u3009 6|= q1 while \u3008M8,\u2200\u3009 |= q2 but \u3008M2,\u2200\u3009 6|= q2. Similarly for M4\nProof of Figure 6 (majority-based semantics) The relation pictured in the figure is proved by the following propositions and examples.\nProposition 14 (Proof of Figure 6, Part 1). Let KM=\u3008T ,M = {A}\u3009 be an inconsistent KB. Let M1,...,M8 be the MBoxes obtained by applying the eight modifiers, given in Table 1, on M. Let q be a Boolean query. Then:\n\u2022 \u3008T ,M1\u3009 |=maj q iff \u3008T ,M5\u3009 |=maj q. \u2022 \u3008T ,M2\u3009 |=maj q iff \u3008T ,M3\u3009 |=maj q. \u2022 If \u3008T ,M5\u3009 |=maj q then \u3008T ,M7\u3009 |=maj q.\nProof. The proof of items 1 and 2 follow immediately from the proof of item 2 of Lemma 3, since M5 = \u25e6cl(M1) and M2 = \u25e6cl(M3). For Item 3, we have \u2200Ai \u2208 M5,\u2203Aj \u2208 M7 such that Ai \u2286 Aj . From proof of item 5 of proposition 12, we have \u2200Aj \u2208 M7,\u2203Ai \u2208 M5 such that Ai \u2286 Aj . We conclude that if a majority-based conclusion holds from M5, it holds also from M7. The converse does not hold.\nExample 10 (Proof of Figure 6, Part 2). The following counter-examples show that no reciprocal edges hold in Figure 6.\n1. There exists a KB, and a query q such that q is a majority-based conclusion of \u3008T ,M7\u3009, but q is not a majority-based conclusion of \u3008T ,M5\u3009: Let T ={A \u2291\u00acB, B \u2291 D} and M={{A(a), B(a)}}. It is easy to check that \u3008T ,M\u3009 is inconsistent. We have: \u25e6cl(M)={{A(a), B(a), D(a)}}, M7 = \u25e6rep(\u25e6cl(M))={{A(a),D(a)}, {B(a),D(a)}}, M1=\u25e6rep(M)={{A(a)}, {B(a)}}, and M5 = \u25e6cl(M1)={{A(a)}, {B(a), D(a)}}, Let q \u2190 D(a) be a query. One can check that: \u3008M7,maj\u3009 |= q but \u3008M5,maj\u3009 6|= q\nProposition 15 (Proof of Figure 6, Part 3). Let {\u25e61,...,\u25e68} be the eight modifiers given in Table 1. Let q be a Boolean query. Then:\n\u2022 There exists an MBox M consistent w.r.t. T such that the majority-based inference from \u3008T , \u25e61(M)\u3009 is incomparable with the one obtained from \u3008T , \u25e62(M)\u3009.\n\u2022 There exists an MBox M consistent w.r.t. T such that the majority-based inference from \u3008T , \u25e63(M)\u3009 is incomparable with the one obtained from \u3008T , \u25e64(M)\u3009.\n\u2022 There exists an MBox M consistent w.r.t. T such that the majority-based inference from \u3008T , \u25e65(M)\u3009 is incomparable with the one obtained from \u3008T , \u25e66(M)\u3009.\n\u2022 There exists an MBox M consistent w.r.t. T such that the majority-based inference from \u3008T , \u25e67(M)\u3009 is incomparable with the one obtained from \u3008T , \u25e68(M)\u3009.\nExample 11. The following examples show the incomparabilities stated in the previous proposition.\n1. The majority-based inference from \u3008T ,M1\u3009 is incomparable with the one obtained from \u3008T ,M2\u3009. Let T ={B \u2291\u00acC, B \u2291 A, C \u2291 A, A \u2291\u00acD, D \u2291 E, E \u2291 F} and M={{A(a), B(a), C(a), D(a), E(a), F (a)}}. It is easy to check that \u3008T ,M\u3009 is inconsistent. We have: M1 = \u25e6rep(M)={{A(a), C(a)}, {A(a), B(a)}, {D(a), E(a), F (a)}}, and M2 = \u25e6card(M1)={{D(a), E(a), F (a)}} Let q1 \u2190 D(a) and q2 \u2190 A(a) be two queries. One can check that: \u3008M1,maj\u3009 |= q2 but \u3008M2,maj\u3009 6|= q2 while \u3008M2,maj\u3009 |= q1 but \u3008M1,maj\u3009 6|= q1.\n2. The majority-based inference from \u3008T ,M3\u3009 is incomparable with the one obtained from \u3008T ,M4\u3009. Let T ={B \u2291\u00acC, B \u2291 A, C \u2291 A, A \u2291\u00acD, F \u2291 D, D \u2291 E} and M={{A(a), B(a), C(a), F (a),D(a)}}. It is easy to check that \u3008T ,M\u3009 is inconsistent. We have: M1 = M2={{A(a), C(a)}, {A(a),B(a)}, {D(a), F (a)}}, M3={{A(a), C(a)}, {A(a),B(a)}, {D(a), F (a), E(a)}}, M4={{D(a), E(a), F (a)}} Let q1 \u2190 D(a) and q2 \u2190 A(a) be two queries. One can check that: \u3008M3,maj\u3009 |= q2 but \u3008M4,maj\u3009 6|= q2 while \u3008M4,maj\u3009 |= q1 but \u3008M3,maj\u3009 6|= q1.\n3. The majority-based inference from \u3008T ,M5\u3009 is incomparable with the one obtained from \u3008T ,M6\u3009. Let T ={B \u2291\u00acC, B \u2291 A, C \u2291 A,A \u2291\u00acD, F \u2291 D,D \u2291 E} and M={{A(a), B(a), C(a), F (a),D(a), E(a)}}. It is easy to check that \u3008T ,M\u3009 is inconsistent. We have: M1 = M5={{A(a), C(a)}, {A(a),B(a)}, {D(a), F (a), E(a)}}, M6={{D(a), E(a), F (a)}} Let q1 \u2190 D(a) and q2 \u2190 A(a) be two queries. One can check that: \u3008M5,maj\u3009 |= q2 but \u3008M6,maj\u3009 6|= q2 while \u3008M6,maj\u3009 |= q1 but \u3008M5,maj\u3009 6|= q1.\n4. The majority-based inference from \u3008T ,M7\u3009 is incomparable with the one obtained from \u3008T ,M8\u3009. Let T ={B \u2291\u00acC, B \u2291 A, C \u2291 A,A \u2291\u00acD, F \u2291 D,E \u2291 D} and M={{A(a), F (a), E(a), B(a), C(a)}}. It is easy to check that \u3008T ,M\u3009 is inconsistent. We have: \u25e6cl(M)={{A(a), C(a), B(a),D(a), F (a), E(a)}}, M7={{D(a), E(a), F (a)}, {A(a),B(a)}, {A(a), C(a)}},and M8={{D(a), E(a), F (a)}},and Let q1 \u2190 D(a) and q2 \u2190 A(a) be two queries. One can check that: \u3008M7,maj\u3009 |= q2 but \u3008M8,maj\u3009 6|= q2 while \u3008M8,maj\u3009 |= q1 but \u3008M7,maj\u3009 6|= q1.\nProof of Figure 7 (existential semantics) The relation pictured in the figure is proved by the following propositions and examples.\nProposition 16 (Proof of Figure 7, Part 1). Let KM=\u3008T ,M = {A}\u3009 be an inconsistent DL-Lite KB. Let M1,...,M8 be the eight MBoxes given in Figure 1 and in Table 1. Let q be a Boolean query. Then:\n1. if q is an existential conclusion of \u3008T ,M4\u3009 then q is an existential conclusion of \u3008T ,M3\u3009.\n2. q is an existential conclusion of \u3008T ,M3\u3009 iff q is an existential conclusion of \u3008T ,M2\u3009.\n3. if q is an existential conclusion of \u3008T ,M2\u3009 then q is an existential conclusion of \u3008T ,M1\u3009.\n4. q is an existential conclusion of \u3008T ,M1\u3009 iff q is an existential conclusion of \u3008T ,M5\u3009.\n5. if q is an existential conclusion of \u3008T ,M2\u3009 then q is an existential conclusion of \u3008T ,M5\u3009.\n6. if q is an existential conclusion of \u3008T ,M6\u3009 the q is an existential conclusion of \u3008T ,M5\u3009.\n7. if q is an existential conclusion of \u3008T ,M8\u3009 the q is an existential conclusion of \u3008T ,M7\u3009.\n8. if q is an existential conclusion of \u3008T ,M5\u3009 the q is an existential conclusion of \u3008T ,M7\u3009.\nProof. Items 1,3, 6, and 7 follow from item 4 of Lemma 2. Items 2 and 4 follow from Item 4 of Lemma 3. Items 5 and 8 hold due the fact that \u25e62 \u2286cl \u25e65 and \u25e65 \u2286cl \u25e67.\nExample 12 (Proof of Figure 7, Part 2). The following examples show that the reciprocal edges do not hold in Figure 7. We do not include the examples that prove that all incomparabilities hold, since they are similar.\n1. There exists an existential conclusion of \u3008T ,M4\u3009 which is not an existential conclusion of \u3008T ,M3\u3009: Let us consider T ={A \u2291 B,B \u2291 C, C \u2291\u00acD, D \u2291 F} and M = {A(a), D(a)}. We have: M1 = M2 = {{A(a)}, {D(a)}}, M3 = {{A(a), B(a), C(a)}, {D(a), F (a)}}, and M4 = {{A(a), B(a),D(a)}}. Let q \u2190 D(a) \u2227 F (a) be a Boolean query. We have: \u00a1M3,\u2203\u00bf|= q, since \u3008T , {D(a), F (a)}\u3009 |= q. However \u00a1M4,\u2203\u00bf6|= q.\n2. There exists an existential conclusion of \u3008T ,M1\u3009 which is not an existential conclusion of \u3008T ,M2\u3009: Let us consider T ={A \u2291 B,B \u2291\u00acC, C \u2291 D} and M={A(a), B(a), C(a), D(a)}. We have: M1 = {{A(a), B(a),D(a)}, {C(a), D(a)}}, and M2 = {{A(a), B(a),D(a)}}. Let q \u2190 C(a) \u2227D(a) be a Boolean query. One can easily check that \u00a1M1,\u2203\u00bf|= q but \u00a1M2,\u2203\u00bf6|= q.\n3. There exists an existential conclusion of \u3008T ,M5\u3009 which is not an existential conclusion of \u3008T ,M2\u3009: Let us consider T ={A \u2291 B, B \u2291 C, C \u2291\u00acD, D \u2291 F} and M = {A(a), B(a),D(a)}. We have: M1 = {{A(a), B(a)}, {D(a)}}, M5 = {{A(a), B(a), C(a)}, {D(a), F (a)}}, and M2 = {{A(a), B(a)}}. Let q \u2190 D(a) \u2227 F (a) be a Boolean query. One can deduce that : \u00a1M5,\u2203\u00bf |= q, but \u00a1M2,\u2203\u00bf 6|= q.\n4. There exists an existential conclusion of \u3008T ,M5\u3009 which is not an existential conclusion of \u3008T ,M6\u3009: Let us consider T ={A \u2291 B, B \u2291 C, C \u2291\u00acD, D \u2291 F} and M = {A(a), D(a)}. We have: M1 = {{A(a)}, {D(a)}}, M5 = {{A(a), B(a), C(a)}, {D(a), F (a)}}, and M6 = {{A(a), B(a), C(a)}}. Let q \u2190 D(a) \u2227 F (a) be a Boolean query. One can check that: \u00a1M5,\u2203\u00bf |= q, but \u00a1M6,\u2203\u00bf 6|= q.\n5. There exists an existential conclusion of \u3008T ,M7\u3009 which is not an existential conclusion of \u3008T ,M8\u3009: Let us consider T ={A \u2291 B, B \u2291\u00acC, C \u2291 D, D \u2291 F} and M = {A(a), C(a)}. We have: \u25e6cl(M) = {A(a), C(a), B(a),D(a), F (a)}, M7 = {{A(a), B(a),D(a), F (a)}, {C(a), D(a), F (a)}}, and M8 = {{A(a), B(a),D(a), F (a)}}. Let q \u2190 C(a) \u2227D(a) be a Boolean query. One can check that: \u00a1M7,\u2203\u00bf |= q, but \u00a1M8,\u2203\u00bf 6|= q.\nTheorem 2 [Productivity of semantics] The inclusion relation \u2291 is the smallest relation that contains the inclusions \u3008\u25e6i, sk\u3009 \u2291 \u3008\u25e6j , sk\u3009 defined by Propositions 1-4 and satisfying the two following conditions:\n1. for all sj , sp and oi, if sj \u2264 sp then \u3008\u25e6i, sj\u3009 \u2291 \u3008\u25e6i, sp\u3009.\n2. it is transitive.\nProof. The first point follows from the definition of \u2264. Let K = \u3008T ,A\u3009 and K |=\u3008\u25e6i,sj\u3009 q. This means that \u3008T , \u25e6i(A)\u3009 |=sj q. Since sj \u2264 sp, we have \u3008T , \u25e6i(A)\u3009 |=sp q, hence K |=\u3008\u25e6i,sp\u3009 q. The transitivity of \u2291 follows from its definition. Indeed, consider three semantics S1, S2, S3 such that S1 \u2291 S2 \u2291 S3, then \u2200k,\u2200q, if K |=S1 q then K |=S2 q and K |=S3 q. Hence S1 \u2291 S3. The following Lemmas 4 and 5 show that there are no other inclusions: the first lemma states that a semantics cannot be included into another semantics with a strictly more cautious inference strategy; the second lemma states that any inclusion from a semantics to another with a strictly less cautious inference strategy can only be obtained by transitivity using an edge \u201cinternal\u201d to the latter inference strategy.\nLemma 4. For all \u3008\u25e6i, sj\u3009 and \u3008\u25e6k, sp\u3009, if sp < sj then \u3008\u25e6i, sj\u3009 6\u2291 \u3008\u25e6k, sp\u3009;\nProof. The prove this lemma, we consider the following example. Let K=\u3008T ,A\u3009 with A={pa(f, a),pb(f, b), pc(f, c), pd(f, d), pe(f, e)} and T ={pa(Z,X),pb(Z, Y )\u2192\u22a5; pb(Z,X), pc(Z, Y )\u2192\u22a5; pb(Z,X), pd(Z, Y )\u2192\u22a5; pc(Z,X), pd(Z, Y )\u2192\u22a5, pa(Z,X), pe(Z, Y )\u2192\u22a5}. We have \u25e61(A) contains {pa(f, a), pc(f, c)}, {pa(f, a), pd(f, d)}, {pb(f, b), pe(f, e)}, {pe(f, e), pd(f, d)} and {pe(f, e), pc(f, c)}. Since T contains only negative constraints and all ABoxes in \u25e61(A) have the same size, then we have \u25e61(A) = \u25e62(A) = \u25e63(A) = . . . = \u25e68(A).\nOne can check that \u25e61(A) |=\u2203 pa(f, a), but \u25e61(A) 6|=X pa(f, a), for X \u2208 {maj,\u2200,\u2229}, thus there is no \u3008\u25e6i,\u2203\u3009 \u2291 \u3008\u25e6k, sp\u3009 for sp \u2208 {maj,\u2200,\u2229}. Similarly, we have \u25e6A |=maj pe(f, e), but \u25e61(A) 6|=X pe(f, e), for X \u2208 {\u2200,\u2229}, thus there is no \u3008\u25e6i,maj\u3009 \u2291 \u3008\u25e6k, sp\u3009 for sp \u2208 {\u2200,\u2229}.\nFinally, by adding to the previous examples the five following rules: pa(X,Y ) \u2192 p(X,Z), . . . , pe(X,Y ) \u2192 p(X,Z) (which produce non-ground atoms), we do not change the repairs, hence we still have the property \u25e61(A) = \u25e62(A) = \u25e63(A) = . . . = \u25e68(A). Furthermore, we have \u25e61(A) |=\u2200 \u2203X\u2203Y p(X,Y ), but \u25e61(A) 6|=\u2229 \u2203X\u2203Y p(X,Y ), thus there is no \u3008\u25e6i,\u2200\u3009 \u2291 \u3008\u25e6k,\u2229\u3009.\nLemma 5. For all \u3008\u25e6i, sj\u3009 and \u3008\u25e6k, sp\u3009, if \u3008\u25e6i, sj\u3009 \u2291 \u3008\u25e6k, sp\u3009 and sj < sp, then \u3008\u25e6i, sp\u3009 \u2291 \u3008\u25e6k, sp\u3009.\nTo prove this lemma, we did not find a \u201cgeneric\u201d example as in the previous proof, hence we checked all cases one by one. Examples showing the incomparability can easily be found (similarly to what has been done for the proofs in the preceding section).\nNote that when we restrict queries to ground atoms additional inclusions hold. We did not consider this specific, nevertheless important, case in the paper for space restriction reasons.\nFinally, the following schema pictures all inclusions between semantics."}], "references": [{"title": "Consistent query answers in inconsistent databases", "author": ["Bertossi Arenas", "M. Chomicki 1999] Arenas", "L.E. Bertossi", "J. Chomicki"], "venue": "In Proc. of SIGACT-SIGMOD-SIGART,", "citeRegEx": "Arenas et al\\.,? \\Q1999\\E", "shortCiteRegEx": "Arenas et al\\.", "year": 1999}, {"title": "On rules with existential variables: Walking the decidability line", "author": ["Baget"], "venue": null, "citeRegEx": "Baget,? \\Q2011\\E", "shortCiteRegEx": "Baget", "year": 2011}, {"title": "Some syntactic approaches to the handling of inconsistent knowledge bases: A comparative study part 1: The flat case", "author": ["Dubois Benferhat", "S. Prade 1997] Benferhat", "D. Dubois", "H. Prade"], "venue": "Studia Logica 58(1):17\u201345", "citeRegEx": "Benferhat et al\\.,? \\Q1997\\E", "shortCiteRegEx": "Benferhat et al\\.", "year": 1997}, {"title": "Inconsistency-tolerant semantics for description logics", "author": ["Lembo"], "venue": "In Proc. of RR\u201910,", "citeRegEx": "Lembo,? \\Q2010\\E", "shortCiteRegEx": "Lembo", "year": 2010}, {"title": "Inconsistency-tolerant query answering in ontology-based data access", "author": ["Lembo"], "venue": "J. Web Sem", "citeRegEx": "Lembo,? \\Q2015\\E", "shortCiteRegEx": "Lembo", "year": 2015}, {"title": "From classical to consistent query answering under existential rules", "author": ["Lukasiewicz"], "venue": "In Proc. of AAAI\u201915,", "citeRegEx": "Lukasiewicz,? \\Q2015\\E", "shortCiteRegEx": "Lukasiewicz", "year": 2015}, {"title": "Linking data to ontologies", "author": ["Poggi"], "venue": "J. Data Semantics", "citeRegEx": "Poggi,? \\Q2008\\E", "shortCiteRegEx": "Poggi", "year": 2008}], "referenceMentions": [], "year": 2016, "abstractText": "We propose a general framework for inconsistency-tolerant query answering within existential rule setting. This framework unifies the main semantics proposed by the state of art and introduces new ones based on cardinality and majority principles. It relies on two key notions: modifiers and inference strategies. An inconsistency-tolerant semantics is seen as a composite modifier plus an inference strategy. We compare the obtained semantics from a productivity point of view.", "creator": "LaTeX with hyperref package"}}}