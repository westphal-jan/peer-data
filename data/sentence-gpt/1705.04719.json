{"id": "1705.04719", "review": {"conference": "arxiv", "VERSION": "v1", "DATE_OF_SUBMISSION": "12-May-2017", "title": "On the Complexity of Semantic Integration of OWL Ontologies", "abstract": "We propose a new mechanism for integration of OWL ontologies using semantic import relations. In contrast to the standard OWL importing, we do not require all axioms of the imported ontologies to be taken into account for reasoning tasks, but only their logical implications over a chosen signature. This property comes natural in many ontology integration scenarios, especially when the number of ontologies is large enough that the distribution of data can be very large. For example, it is true that a large number of the ontological components of the generated ontologies could be very large, but the distribution of data can be very large, and any set of ontologies that can be very large can be very large. This implies that each data is more important than the structure of the distribution of the given data. In particular, the structure of the original ontology is so that it can be easily adapted into a simple representation of a specific system that is more complex. In particular, we want to give that ontology itself a form of a nonlinear and parallel ontology with respect to the distribution of data, and also to avoid the dependence on explicit rules.\n\n\n\nAcknowledgements\nThis paper was funded by the University of Chicago and the University of California at San Diego for research on the data.\nThe authors declare that the research was supported by the National Institutes of Health, the Department of Agriculture (US Department of Agriculture) Department of Health and Human Services, and the National Center for the Statistics of the United States.", "histories": [["v1", "Fri, 12 May 2017 18:54:16 GMT  (72kb,D)", "http://arxiv.org/abs/1705.04719v1", null]], "reviews": [], "SUBJECTS": "cs.AI", "authors": ["yevgeny kazakov", "denis ponomaryov"], "accepted": false, "id": "1705.04719"}, "pdf": {"name": "1705.04719.pdf", "metadata": {"source": "CRF", "title": "On the Complexity of Semantic Integration of OWL Ontologies", "authors": ["Yevgeny Kazakov", "Denis Ponomaryov"], "emails": ["yevgeny.kazakov@uni-ulm.de", "ponom@iis.nsk.su"], "sections": [{"heading": "1 Introduction and Motivation", "text": "Logic-based ontology languages such as OWL and OWL 2 [Cuenca Grau et al., 2008] are becoming increasingly popular means for representation, integration, and querying of information, particularly in life sciences, such as Biology and Medicine. For example, a repository of Open Biological and Biomedical Ontologies [Smith et al., 2007] is comprised of over eighty specialised ontologies on such diverse topics as molecular functions, biological processes, and cellular components. Ontology integration, in particular, aims at organizing information on different domains in a modular way so that information from one ontology can be reused in other ontologies. For example, the ontology of diseases may reference anatomical structures to describe the location of diseases, or genes with which the diseases are likely to be correlated.\nIntegration of multiple ontologies in OWL is organized via importing: an OWL ontology can refer to one or several other OWL ontologies, whose axioms must be implicitly present in the ontology. The importing mechanism is simple in that it does not require any significant modification of the underlying reasoning algorithms: in order to answer a query over an ontology with an import declaration, it is sufficient to apply the algorithm to the import closure consisting of the axioms of the ontology plus the axioms of the ontologies that are imported (possibly indirectly). For example, if ontologyO1 imports ontologies O2 and O3, each of which, in turn, imports ontology O4, then the import closure of O1 consists of all axioms of O1 \u2212 O4. Provided these axioms altogether are expressible in the same fragment of OWL as each O1 \u2212 O4\nis, a reasoning algorithm for this fragment can be used to answer queries over the import closure of O1. Then, since the size of such import closure is the same as the combined size of all ontologies involved, the computational complexity of reasoning over ontologies with imports remains the same as for ontologies without imports.\nAlthough the OWL importing mechanism may work well for simple ontology integration scenarios, it may cause some undesirable side effects if used in complex import situations. To illustrate the problem, suppose that in the above example, O4 is an ontology describing a typical university. It may include concepts such as Student, Professor, Course, and axioms stating, e.g., that each professor must teach some course and that students are disjoint with professors:\nProfessor v \u2203teaches.Course, (1) Student u Professor v \u22a5. (2)\nNow suppose that O2 and O3 are ontologies describing respectively, Oxford and Cambridge universities that use O4 as a prototype. For example, O2 may include mapping axioms\nOxfordStudent \u2261 Student, (3) OxfordProfessor \u2261 Professor, (4)\nOxfordCourse \u2261 Course, (5)\nfrom which, due to (1), it is now possible to conclude that each Oxford professor must teach some Oxford course:\nOxfordProfessor v \u2203teaches.OxfordCourse. (6)\nLikewise, using similar mapping axioms in O3, it is possible to obtain that Cambridge students and professors are disjoint:\nCambridgeStudent u CambridgeProfessor v \u22a5. (7)\nFinally, suppose that O1 is an ontology aggregating information about UK universities, importing, among others, the ontologies O2 and O3 for Oxford and Cambridge universities.\nAlthough the described scenario seems plausible, there will be some undesirable consequences in O1 due to the mapping axioms of O2 and O3 occurring in the import closure:\nOxfordStudent \u2261 CambridgeStudent, (8) OxfordProfessor \u2261 CambridgeProfessor, (9)\nOxfordCourse \u2261 CambridgeCourse. (10)\nar X\niv :1\n70 5.\n04 71\n9v 1\n[ cs\n.A I]\n1 2\nM ay\n2 01\n7\nThe main reason for these consequences is that the ontologiesO2 andO3 happen to reuse the same ontologyO4 in two different and incompatible ways. Had they instead used two different \u2018copies\u2019 ofO4 as prototypes (with concepts renamed apart), no such problem would take place. Arguably, the primary purpose ofO2 andO3 is to provide semantic description of the vocabulary for Oxford and Cambridge universities, and the means of how it is achieved\u2014either by writing the axioms directly or reusing third party ontologies such asO4\u2014should be an internal matter of these two ontologies and should not be exposed to the ontologies that import them.\nMotivated by the described scenario, in this paper we consider a refined mechanism for importing of OWL ontologies called semantic importing. The main difference with the standard OWL importing, is that each import is limited only to a subset of symbols. Intuitively, only logical properties of these symbols entailed by the imported ontology should be imported. These symbols can be regarded as the public (or external) vocabulary of the imported ontologies. For example, ontology O2 may declare the symbols OxfordStudent, OxfordProfessor, OxfordCourse, and teaches public, leaving the remaining symbols only for the internal use.\nThe main results of this paper are tight complexity bounds for reasoning over ontologies with semantic imports. We consider ontologies formulated in different fragments of OWL starting from the propositional (role-free) Horn fragment H, full propositional (role-free) fragment P , and concluding with the Description Logic (DL) SROIQ, which corresponds to OWL 2. We also distinguish the case of acyclic imports, when ontologies cannot (possibly indirectly) import themselves. Our completeness results for ranges of DLs are summarized in the following table, where a and c denote the case of acyclic/cyclic imports respectively:\nDLs Completeness Theorems EL \u2013 EL++ ExpTime a 1, 10\ncontaining EL RE (undecidable) c 2, 11 ALC \u2013 SHIQ 2ExpTime a 3, 10 R \u2013 SRIQ 3ExpTime a 4, 10 ALCHOIF \u2013 SHOIQ coN2ExpTime a 5, 10 ROIF \u2013 SROIQ coN3ExpTime a 6, 10\nH - P ExpTime c 7, 12 H - P PSpace a 8, 13\nThe paper is organized as follows. In Sections 2-3 we describe related work and introduce basic notations. In Section 4 we formulate the problem of entailment in ontology networks. In Section 5 we prove results on the expressiveness of ontology networks and use them to show hardness of entailment in Section 6. Finally, in Section 7 we demonstrate that entailment in ontology networks reduces to standard entailment in Description Logics and use these results to prove in Section 8 that the obtained complexity bounds are tight."}, {"heading": "2 Related Work", "text": "Frameworks for combining ontologies share the natural\nview that interpretations of linked ontologies must satisfy certain correspondence constraints. Most existing approaches (e.g. see an overview in [Homola and Serafini, 2010]) consider a model of a combination of ontologies as a tuple of\ninterpretations, one for each ontology, with correspondence relations between the interpretation domains. These relations allow for propagation of semantics of entities (e.g., concepts, roles) from one ontology to another by providing interpretation for constructs stating links between ontology entities. The constructs are bridge rules in DDL [Borgida and Serafini, 2003], local/foreign symbol labels in PDL [Bao et al., 2009] and the approach of [Pan et al., 2006], link properties in E-connections [Grau et al., 2009], and alignment relations in [Euzenat et al., 2007]. The last approach originates from the field of ontology matching [Shvaiko and Euzenat, 2013], which is a neighbour topic lying out of the scope of our paper, since it concentrates on computing matchings, but not on reasoning with them. The semantics for a combination of ontologies proposed in these approaches are in general not compatible with the conventional OWL importing mechanism. If an ontology O1 references some ontology O2, then correspondence relations guarantee propagation of certain entailments expressible in the language of O2 into the ontology O1. As a rule, the class of propagated entailments is not broad enough to simulate entailment form the union of ontologies, as required in OWL importing. The approach of [Grau and Motik, 2012] tries to bridge this gap by putting restrictions on combined ontologies, i.e. by considering conservative importing. Semantics given by tuples of interpretations may cause undesired effects, when combining two ontologies O1,O2 which both refine the same ontology O (cf. the motivating example from the introduction). OntologiesOi may refine concepts of O in different ways, which may conflict to each other, while being consistent separately. The semantics given by tuples of interpretations makes supporting such integration scenarios problematic, since a single interpretation ofO must be in correspondence with interpretations of both ontologies, O1 and O2. The integration mechanism proposed in this paper is conceptually simple. In order to reference an external ontologyO from a local one, one has only to specify an import relation, which defines a set of symbols, whose semantics should be borrowed from O. The symbols can be used freely in the axioms of the local ontology, no additional language constructs are required. This resembles the approaches [Bao et al., 2009; Pan et al., 2006], although theoretically, we do not distinguish between local and external symbols in ontologies (we note that this feature can be easily integrated). Importantly, in our approach every ontology has its own view on ontologies it refines and the views are independent between ontologies unless coordinated by the \u2018topology\u2019 of import relations."}, {"heading": "3 Preliminaries", "text": "We assume that the reader is familiar with the family of Description Logics from EL to SROIQ, for which the syntax is defined using a recursively enumerable alphabet consisting of infinite disjoint sets NC, NR, Ni of concept names (or primitive concepts), roles, and nominals, respectively. We also consider DLsH andP , which are the role-free fragments of EL and ALC, respectively. Thus, P corresponds to the classical propositional logic and H corresponds to the Horn fragment thereof.\nThe semantics of DLs is given by means of (first-order)\ninterpretations. An interpretation I = \u3008\u2206, \u00b7I\u3009 consists of a non-empty set \u2206, the domain of I, and an interpretation function \u00b7I , that assigns to each A \u2208 NC a subset AI \u2286 \u2206, to each r \u2208 NR a binary relation rI \u2286 \u2206\u00d7\u2206, and to each a \u2208 Ni an element of the domain \u2206. An interpretation I satisfies a concept inclusion C v D, written I |= C v D, if CI \u2286 DI holds. An ontology is a set of concept inclusions which are called ontology axioms. I is a model of an ontology O, written I |= O, if I satisfies all axioms ofO. An ontologyO entails a concept inclusion C v D, in symbols O |= C v D, if every model of O satisfies C v D. As usual, for concepts C,D, the equivalence C \u2261 D stands for the pair of concept inclusions C v D and D v C.\nA signature is a subset of NC \u222a NR \u222a Ni. Interpretations I and J are said to agree on a signature \u03a3, written as I =\u03a3 J , if the domains of I and J coincide and the interpretation of \u03a3-symbols in I is the same as in J . We denote the reduct of an interpretation I onto a signature \u03a3 as I|\u03a3. The signature of a concept C, denoted as sig (C), is the set of all concept names, roles, and nominals occurring in C. The signature of a concept inclusion or an ontology is defined identically."}, {"heading": "4 Semantic Importing", "text": "Given a signature \u03a3, suppose one wants to import into an ontology O1 the semantics of \u03a3-symbols defined by some other ontology O2, while ignoring the rest of the symbols from O2. Intuitively, importing the semantics of \u03a3-symbols means reducing the class of models of O1 by removing those models that violate the restrictions on interpretation of these symbols, which are imposed by the axioms of O2: Definition 1. A (semantic) import relation is a tuple \u03c0 = \u3008O1,\u03a3,O2\u3009 where O1 and O2 are ontologies and \u03a3 a signature. In this case, we say that O1 imports \u03a3 from O2. We say that a model I |= O1 satisfies the import relation \u03c0 if there exists a model J |= O2 such that I =\u03a3 J . Example 1. Consider the import relation \u03c0 = \u3008O1,\u03a3,O2\u3009, with O1 = {B v C}, O2 = {A v \u2203r.B, \u2203r.C v D}, and \u03a3 = {A,B,C,D}. It can be easily shown using Definition 1 that a model I |= O1 satisfies \u03c0 if and only if I |= A v D.\nNote that if \u03a3 contains all symbols in O2 then I |= O1 satisfies \u03c0 = \u3008O1,\u03a3,O2\u3009 if and only if I |= O1 \u222a O2. That is, the standard OWL import relation is a special case of the semantic import relation, when the signature contains all the symbols from the imported ontology.\nIf O has several import relations \u03c6i = \u3008O,\u03a3i,Oi\u3009, (1 \u2264 i \u2264 n), one can define the entailment from O by considering only those models of O that satisfy all imports: O |= \u03b1 if I |= \u03b1 for every I |= O which satisfies all \u03c01, . . . , \u03c0n. In practice, however, import relations can be nested: imported ontologies can themselves import other ontologies and so on. The following definition generalizes entailment to such situations.\nDefinition 2. An ontology network is a finite set N of import relations between ontologies. For a DL L, a L-ontology network is a network, in which every ontology is a set of Laxioms. A model agreement for N (over a domain \u2206) is a mapping \u00b5 that assigns to every ontology O occurring in N\na class \u00b5(O) of models of O with domain \u2206 such that for every \u3008O1,\u03a3,O2\u3009 \u2208 N and every I1 \u2208 \u00b5(O1) there exists I2 \u2208 \u00b5(O2) such that I1 =\u03a3 I2. An interpretation I is a model of O in the network N (notation I |=N O) if there exists a model agreement \u00b5 for N such that I \u2208 \u00b5(O). An ontology O entails a concept inclusion \u03d5 in the network N (notation O |=N \u03d5) if I |= \u03d5, whenever I |=N O.\nAn ontology network can be seen as a labeled directed multigraph in which nodes are labeled by ontologies and edges are labeled by sets of signature symbols. Each edge in this graph, thus, represents an import relation between two ontologies. Note that Definition 2 also allows for cyclic networks if this graph is cyclic. That is, an ontology may refer to itself through a chain of import relations. Note that if O |= \u03d5 then O |=N \u03d5, for every network N . Example 2. Consider the following (cyclic) network N = {\u3008O,\u03a3\u2032,O\u2032\u3009, \u3008O\u2032,\u03a3,O\u3009}, where \u2022 O = {A v B, A \u2261 A\u2032, B \u2261 B\u2032} \u2022 O\u2032 = {A \u2261 \u2203r.A\u2032, B \u2261 \u2203r.B\u2032} \u2022 \u03a3 = {A,B, r}, \u03a3\u2032 = {A\u2032, B\u2032, r}\nLet \u00b5 be any model agreement forN . Since \u3008O\u2032,\u03a3,O\u3009 \u2208 N , by Definition 2, for every I \u2032 \u2208 \u00b5(O\u2032) there exists I \u2208 \u00b5(O) such that I \u2032 =\u03a3 I. Since I |= O |= A v B and {A,B} \u2286 \u03a3, we have I \u2032 |= A v B. As I \u2032 |= O\u2032, it also holds I \u2032 |= \u2203r.A\u2032 v \u2203r.B\u2032 for every I \u2032 \u2208 \u00b5(O\u2032) and thus:\nO\u2032 |=N \u2203r.A\u2032 v \u2203r.B\u2032. (11)\nSimilarly, since \u3008O,\u03a3,O\u2032\u3009 \u2208 N , for every I \u2208 \u00b5(O) there exists I \u2032 \u2208 \u00b5(O\u2032) such that I =\u03a3\u2032 I \u2032. Since I \u2032 |= \u2203r.A\u2032 v \u2203r.B\u2032 and {A\u2032, B\u2032, r} \u2286 \u03a3\u2032, we have I |= \u2203r.A\u2032 v \u2203r.B\u2032 and since I |= O, it holds I |= \u2203r.A v \u2203r.B, for every I \u2208 \u00b5(O), and hence:\nO |=N \u2203r.A v \u2203r.B. (12)\nBy repeating these arguments we similarly obtain:\nO\u2032 |=N \u2203r.\u2203r.A\u2032 v \u2203r.\u2203r.B\u2032, (13) O |=N \u2203r.\u2203r.A v \u2203r.\u2203r.B, (14) O\u2032 |=N \u2203r.\u2203r.\u2203r.A\u2032 v \u2203r.\u2203r.\u2203r.B\u2032, (15) O |=N \u2203r.\u2203r.\u2203r.A v \u2203r.\u2203r.\u2203r.B, (16)\nand so on. Note the matching nestings of \u2203r in these axioms. In this paper, we are concerned with the complexity of entailment in ontology networks, that is, given a network N , an ontology O and an axiom \u03d5, decide whether O |=N \u03d5. We study the complexity of this problem wrt the size of an ontology networkN , which is defined as the total length of axioms (considered as strings) occurring in ontologies from N ."}, {"heading": "5 Expresiveness of Ontology Networks", "text": "We illustrate the expressiveness of ontology networks by\nshowing that acyclic networks allow for succinctly representing axioms with nested concepts and role chains of exponential size, while cyclic ones allow for succinctly representing infinite sets of axioms of a special form.\nFor a natural number n > 0, let \u2203(r, C)n.D be a shortcut for the nested concept\n\u2203r.(C u \u2203r.(C u \u00b7 \u00b7 \u00b7 u \u2203r.(C\ufe38 \ufe37\ufe37 \ufe38 n times uD) \u00b7 \u00b7 \u00b7 )) (17)\nwhere C, D are DL concepts and r a role (in case n = 0 the above concept is set to be D). For n > 1, let (r)n denote the role chain\nr \u25e6 . . . \u25e6 r\ufe38 \ufe37\ufe37 \ufe38 n times\n(18)\nFor a given n > 0, let 1exp(n) be the notation for 2n and for k > 1, let (k + 1)exp(n) = 2kexp(n). Then \u2203(r, C)kexp(n).D (respectively, (r)kexp(n)) stands for a nested concept (role chain) of the form above having size exponential in n.\nIn the following, we use abbreviations \u2203(r, C)n := \u2203(r, C)n.> and \u2203rn.C := \u2203(r,>)n.C. For roles r, s and n > 2, let (r)<n v s be an abbreviation for the set of role inclusions {(r)k v s | 1 6 k < n}. For n > 1, the expression \u2200rn.C will be used as a shortcut for \u00ac\u2203r.\u2203rn\u22121.\u00acC and for n > 2, \u2200r<n.C will stand for \u229416m<n\u2200rm.C.\nLet O be an ontology and N an ontology network. O is said to be expressible by N if there is an ontology ON in N such that {I|sig (O) | I |=N ON } = {J |sig (O) | J |= O}. In other words, it holds ON |=N O and any model J |= O can be expanded to a model I |=N ON . Note that this yields that O |= \u03d5 iff ON |=N \u03d5, for any concept inclusion \u03d5 such that sig (\u03d5) \u2286 sig (O). In case we want to stress the role of ontology ON in the network N , we say that O is (N ,ON )- expressible. An axiom \u03d5 is expressible by a network N if so is ontology O = {\u03d5}.\nThe next two lemmas follow immediately from the definition of expressibility. Lemma 1. Every ontology O is (N ,O)-expressible, where N is the network consisting of the single import relation \u3008O,\u2205,\u2205\u3009. If an ontology Oi is (Ni,O\u2032i)-expressible, for a network Ni, ontology O\u2032i, and i = 1, 2, then O1 \u222a O2 is (N ,ON )-expressible, for ontology ON = \u2205 and a network1 N = N1 \u222aN2 \u222a {\u3008ON , sig (Oi),O\u2032i\u3009}i=1,2.\nFor an axiom \u03d5 and a set of concepts {C1, . . . , Cn}, n > 1, let us denote by \u03d5[C1 7\u2192 D1, . . . , Cn 7\u2192 Dn] the axiom obtained by substituting every concept Ci with a concept Di in \u03d5. For an ontology O, let O[C1 7\u2192 D1, . . . , Cn 7\u2192 Dn] be a notation for \u22c3 \u03d5\u2208O \u03d5[C1 7\u2192 D1, . . . , Cn 7\u2192 Dn].\nLemma 2. Let L be a DL and O an ontology, which is expressible by a L-ontology network N . Let C1, . . . , Cn be L-concepts and {A1, . . . , An} a set of concept names such that Ai \u2208 sig (O), for i = 1, . . . , n and n > 1. Then ontology O\u0303 = O[A1 7\u2192 C1, . . . , An 7\u2192 Cn] is expressible by a L-ontology network, which is acyclic if so is N and has size polynomial in the size of N and Ci, i = 1, . . . , n.\nProof. Denote \u03a3 = {A1, . . . , An} and let \u03a3\u2032 = {A\u20321, . . . , A\u2032n} be a set of fresh concept names. Consider ontology O\u2032 = O \u222a {Ai \u2261 A\u2032i}i=1,...,n. By Lemma 1, O\u2032 is\n1Note that the size of N is linear in the sizes of N1 and N2.\n(N \u2032,ON \u2032)-expressible, for an ontology ON \u2032 and an acyclic L-ontology network N \u2032 having a linear size (in the size of N ). Consider ontology network N \u2032\u2032 = \u3008ON \u2032\u2032 , (sig (O\u2032) \\ \u03a3) \u222a \u03a3\u2032,ON \u2032\u3009, where ON \u2032\u2032 = \u2205. Then obviously, ontology O\u2032\u2032 = O[A1 7\u2192 A\u20321, . . . , An 7\u2192 A\u2032n] is (N \u2032\u2032,ON \u2032\u2032)- expressible. Similarly, by Lemma 1, ontology O\u2032\u2032C = O\u2032\u2032 \u222a {A\u2032i \u2261 Ci}i=1,...,n is (N\u0303 ,ON\u0303 )-expressible, for an ontology ON\u0303 and an acyclic L-ontology network N\u0303 having a linear size (in the size of N and Ci, for i = 1, . . . , n). Clearly, it holds ON\u0303 |=N\u0303 O\u0303. On the other hand, any model I |= O\u0303 can be expanded to a model J of ontology O\u2032\u2032C by setting (A\u2032i) J = (Ci) I , for i = 1, . . . , n. Since O\u2032\u2032C is (N\u0303 ,ON\u0303 )- expressible, it follows that I can be expanded to a model J\u0303 |=N\u0303 ON\u0303 and therefore, O\u0303 is (N\u0303 ,ON\u0303 )-expressible.\nNow we proceed to the results on the succinct representation of exponentially long axioms and infinite sets of axioms of a special form. We begin with lemmas on the expressiveness of acyclic EL- and ALC-ontology networks. Lemma 3. An axiom \u03d5 of the form Z \u2261 \u2203(r,A)1exp(n).B, where Z,A,B \u2208 NC, and n > 0, is expressible by an acyclic EL-ontology network of size polynomial in n.\nProof. We prove by induction on n that there exists an acyclic EL-ontology network Nn and ontology On such that \u03d5 is (Nn,On)-expressible. For n = 0, we define N0 = {\u3008O0,\u2205,\u2205\u3009} and O0 = {Z \u2261 \u2203r.(A uB)}.\nIn the induction step, let {Z \u2261 \u2203(r,A)1exp(n\u22121).B} be (Nn\u22121,On\u22121)-expressible, for n > 1. Consider ontologies:\nO1copy = {B \u2261 U} (19)\nO2copy = {U \u2261 Z} (20) On = \u2205 (21)\nLet Nn be the union of Nn\u22121 with the set of the following import relations: \u3008Oicopy, {Z,A,B, r},On\u22121\u3009, for i = 1, 2, \u3008On, {Z,A,U, r},O1copy\u3009, and \u3008On, {U,A,B, r},O2copy\u3009.\nLet us verify that {I|sig (\u03d5) | I |=Nn On} = {I|sig (\u03d5) | I |= \u03d5}. By the induction assumption we have On\u22121 |=Nn Z \u2261 \u2203(r,A)1exp(n\u22121).B. Then by the definition of Nn, it holds O1copy |=Nn Z \u2261 \u2203(r,A)1exp(n\u22121).U and O2copy |=Nn U \u2261 \u2203(r,A)1exp(n\u22121).B and thus, On |=Nn {Z \u2261 \u2203(r,A)1exp(n\u22121).U, U \u2261 \u2203(r,A)1exp(n\u22121).B}, which yields On |=Nn \u03d5.\nWe now show that any model I |= \u03d5 can be expanded to a model Jn |=Nn On. Let us define Jn as an expansion of I by setting UJn = (\u2203(r,A)1exp(n\u22121).B)I . Clearly, it holds Jn |= On and there exists a model I2 |= O2copy such that I2 ={U,A,B,r} Jn and ZI2 = UI2 . We have I2 |= Z \u2261 \u2203(r,A)1exp(n\u22121).B and hence by the induction assumption, there is a model J 2n\u22121 |=Nn On\u22121 such that I2 ={Z,A,B,r} J 2n\u22121. Similarly, there is a model I1 |= O1copy such that I1 ={Z,A,U,r} Jn andBI1 = (\u2203(r,A)1exp(n\u22121))I1 . We have I1 |= Z \u2261 \u2203(r,A)1exp(n\u22121).B, thus by the induction assumption, there is a model J 1n\u22121 |=Nn On\u22121 such that I1 ={Z,A,B,r} J 1n\u22121. It follows that there exists a model\nagreement \u00b5 for Nn such that \u00b5(On\u22121) = {J 1n\u22121,J 2n\u22121}, \u00b5(Oicopy) = {Ii}, for i = 1, 2, and \u00b5(On) = {Jn}, which means that Jn |=Nn On.\nThe following two statements are proved identically to Lemma 3: Lemma 4. An axiom of the form Z v \u2203(r,A)1exp(n).B, where Z,A,B \u2208 NC and n > 0, is expressible by an acyclic EL-ontology network of size polynomial in n. Lemma 5. An axiom of the form Z \u2261 \u2200r1exp(n).A, where Z,A \u2208 NC and n > 0, is expressible by an acyclic ALContology network of size polynomial in n.\nNext, we demonstrate the expressiveness of acyclic Rontology networks.\nLemma 6. An axiom \u03d5 of the form (r)2exp(n) v s, where r, s are roles and n > 0, is expressible by an acyclic R-ontology network of size polynomial in n.\nProof. We use the idea of the proof of Lemma 3 and show by induction on n that there exists an acyclic R-ontology network Nn and ontology On \u2208 Nn such that \u03d5 is (Nn,On)expressible. For n = 0, we define N0 = {\u3008O0,\u2205,\u2205\u3009} and O0 = {r \u25e6 r v s}.\nIn the induction step, let (r)2exp(n\u22121) v s be (Nn\u22121,On\u22121)-expressible, for n > 1. Consider ontologies:\nO1copy = {s v u} (22)\nO2copy = {u v r} (23) On = \u2205 (24)\nLet Nn be the union of Nn\u22121 with the set of the following import relations: \u3008Oicopy, {r, s},On\u22121\u3009, for i = 1, 2, \u3008On, {r, u},O1copy\u3009, and \u3008On, {u, s},O2copy\u3009.\nWe show that {I|sig (\u03d5) | I |=Nn On} = {I|sig (\u03d5) | I |= \u03d5}. By the induction assumption, we have On\u22121 |=Nn (r)2exp(n\u22121) v s. Hence by the definition of Nn, it holds O1copy |=Nn (r)2exp(n\u22121) v u and O1copy |=Nn (u)2exp(n\u22121) v s and therefore,On |=Nn {(r)2exp(n\u22121) v u, (u)2exp(n\u22121) v s}, which means that On |=Nn \u03d5. By using an argument like in the proof of Lemma 3 one can verify that any model I |= \u03d5 can be expanded to a model Jn |=Nn On by setting uJn = ((r)2exp(n\u22121))I .\nLemma 7. An ontology O given by the set of axioms (r)<2exp(n) v s, where r, s are roles and n > 0, is expressible by an acyclic R-ontology network of size polynomial in n.\nProof. We use a modification of the proof of Lemma 6 and show by induction on n that there exists an acyclic Rontology network Nn and ontology On \u2208 Nn such that O is (Nn,On)-expressible. For n = 0, we define N0 = {\u3008O0,\u2205,\u2205\u3009} and O0 = {r v s}.\nIn the induction step, suppose ontology {(r)m v s | 1 6 m 6 2exp(n\u2212 1) \u2212 1} is (Nn\u22121,On\u22121)-expressible, for n > 1. Consider ontologies:\nO1copy = {s v u1} (25)\nO2copy = {u1 v r, s v u2} (26)\nOn = {u1 v u3, u1 \u25e6 u1 v u3, u2 \u25e6 u3 v s, r v s} (27)\nLet Nn be the union of Nn\u22121 with the set of the following import relations: \u3008Oicopy, {r, s},On\u22121\u3009, for i = 1, 2, \u3008On, {r, u1},O1copy\u3009, and \u3008On, {u1, u2},O2copy\u3009.\nWe show that {I|sig (O) | I |=Nn On} = {I|sig (O) | I |= O}. By the induction assumption, we have On\u22121 |=Nn (r)<2exp(n\u22121) v s and hence, by the definition of Nn, it holds On |=Nn (r)<2exp(n\u22121) v u1 and On |=Nn (u1)\n<2exp(n\u22121) v u2. Then On |=Nn (r)m v u2, for 1 6 m 6 (2exp(n\u2212 1)\u2212 1)2.\nSince On |=Nn (r)<2exp(n\u22121) v u1 and {u1 v u3, u1 \u25e6 u1 v u3} \u2286 On, it holds On |=Nn (r)m v u3, for 1 6 m 6 2(2exp(n\u2212 1) \u2212 1). Therefore, since u2 \u25e6 u3 v s \u2208 On, we obtain On |=Nn {(r)k v s | 2 6 k 6 m}, for m = (2exp(n\u2212 1)\u2212 1)2 + 2(2exp(n\u2212 1)\u2212 1) = 2exp(n)\u2212 1. Since r v s \u2208 On, we conclude that On |=Nn (r)<2exp(n) v s.\nBy using an argument like in the proof of Lemma 3 one can verify that any model I |= (r)<2exp(n) v s can be expanded to a model J |=Nn On by setting uJi = \u22c3 16k6mi\n((r)k)I , for i = 1, 2, 3, where m1 = 2exp(n\u2212 1) \u2212 1, m2 = (2exp(n\u2212 1)\u2212 1)2, and m3 = 2(2exp(n\u2212 1)\u2212 1).\nLemma 8. An axiom \u03d5 of the form Z v \u2200r2exp(n).A, where Z,A \u2208 NC and n > 0, is expressible by an acyclic Rontology network of size polynomial in n.\nProof. Consider ontology O consisting of axioms\nZ v \u2200s.A, (r)2exp(n) v s (28)\nClearly, O |= \u03d5 and any model I |= \u03d5 can be expanded to a model J |= O by setting sJ = ((r)2exp(n))I . By Lemmas 1, 6, O is expressible by an acyclicR-ontology network of size polynomial in n, from which the claim follows.\nThe following statement is a direct consequence of Lemmas 1 and 7 and is proved identically to Lemma 8:\nLemma 9. An axiom of the form Z v \u2200r<2exp(n).A, where Z,A \u2208 NC and n > 0, is expressible by an acyclic Rontology network of size polynomial in n.\nNow we are ready to prove the next statement, which is an analogue of Lemma 4 for the case of double exponent.\nLemma 10. An axiom \u03d5 of the form Z v \u2203(r,A)2exp(n).B, where Z,A \u2208 NC and n > 0, is expressible by an acyclic R-ontology network of size polynomial in n.\nProof. Consider ontology O\u0304 consisting of axioms\nZ v \u2203s.>, Z v \u2200s<2exp(n).X, Z v \u2200s2exp(n).Y\ns v r By Lemmas 1, 8, 9, O\u0304 is expressible by an acyclic Rontology network of size polynomial in n. Then by Lemma 2, so is ontology O = O\u0304[X 7\u2192 A u \u2203s.>, Y 7\u2192 A uB].\nClearly, we have O |= \u03d5. Now let I be an arbitrary model of \u03d5 and for m = 2exp(n), let x0, . . . , xm be arbitrary domain elements such that x0 \u2208 ZI , \u3008x0, x1\u3009 \u2208 rI , and \u3008xi, xi+1\u3009 \u2208 rI , xi \u2208 AI , for 1 6 i < m, and xm \u2208 AI u BI . Let J be an expansion of I in which sJ = {\u3008xi, xi+1\u3009}06i<m. Then we have J |= O, from which the claim follows.\nLemma 11. An axiom \u03d5 of the form Z \u2261 \u2200r2exp(n).A, where Z,A \u2208 NC and n > 0, is expressible by an acyclic Rontology network of size polynomial in n.\nProof. Consider ontology O\u0304 consisting of axioms\nZ v \u2200r2exp(n).A, Z\u0304 v \u2203r2exp(n).A\u0304 By Lemmas 1, 8, 10, O\u0304 is expressible by an acyclic Rontology network of size polynomial in n and by Lemma 2, so is ontology O = O\u0304[Z\u0304 7\u2192 \u00acZ, A\u0304 7\u2192 \u00acA]. It remains to note that O and {\u03d5} are equivalent, so the claim is proved.\nLemma 12. Let L be a DL and O an ontology, which is expressible by a L-ontology network N . Let C1, . . . , Cm be L-concepts and {A1, . . . , Am} a set of concept names such that Ai \u2208 sig (O), for i = 1, . . . ,m and m > 1. Then for k = 1, 2 and n > 0, ontology O\u0303 = O[A1 7\u2192 \u2200rkexp(n).C1, . . . , Am 7\u2192 \u2200rkexp(n).Cm] is expressible by a L\u2032-ontology network, which is acyclic if so is N and has size polynomial in the size of N , n, and Ci, for i = 1, . . . ,m, where: \u2022 L\u2032 = L if L contains ALC and k = 1; \u2022 L\u2032 = L if L containsR and k = 2.\nProof. The proof uses Lemmas 5, 11 and is identical to the proof of Lemma 2.\nThe next statement is shown similarly by using Lemma 3: Lemma 13. In the conditions of Lemma 12, for n > 0, ontology O\u0303 = O[A1 7\u2192 \u2203r1exp(n).C1, . . . , Am 7\u2192 \u2203r1exp(n).Cm] is expressible by a L\u2032-ontology network, which is acyclic if so is N and has size polynomial in the size of N , n, and Ci, for i = 1, . . . ,m, where L\u2032 = L if L contains EL. Lemma 14. Let L be a DL and O an ontology, which is (N ,ON )-expressible, for a L-ontology network N and an ontology ON . Let {A1, . . . , An}, n > 1, be concept names such that Ai \u2208 sig (O), for i = 1, . . . , n, and let {C1, . . . , Cn} be L-concepts, where every Ci is of the form \u2203(r,D)p.Ai, for some role r, concept name D, and p > 1. Then ontology O\u0303 = \u22c3 m>0Om, where O0 = O and Om+1 = Om[A1 7\u2192 C1, . . . , An 7\u2192 Cn], for all m > 0, is expressible by a cyclic L-ontology network.\nProof. Let \u03c3 = {B1, . . . , Bk} = \u22c3 i=1,...,n(sig (Ci) \u2229 NC) and \u03c3\u2032 = {B\u20321, . . . , B\u2032k} be a set of fresh concept names, which is disjoint with \u03c3 and sig (O). Let {C \u20321, . . . , C \u2032n} be \u2018copy\u2019 concepts obtained from C1, . . . , Cn by replacing every Bi with B\u2032i, for i = 1, . . . , k. Consider ontologies\nO\u0303N \u2032 = { Bi \u2261 B\u2032i }i=1,...,k O\u2032 = { Ai \u2261 C \u2032i }i=1,...,n\nand an ontology network N \u2032 given by the union of N with the set of import relations\n\u3008O\u0303N \u2032 , sig (O),ON \u3009, \u3008O\u0303N \u2032 ,\u03a3\u2032,O\u2032\u3009, \u3008O\u2032,\u03a3, O\u0303N \u2032\u3009 where \u03a3 = sig (O) \u222a \u22c3 i=1,...,n sig (Ci) and \u03a3\n\u2032 = (\u03a3 \\ \u03c3)\u222a \u03c3\u2032. We claim that ontology O\u0303 is (N \u2032, O\u0303N \u2032)-expressible. Denote O\u0303\u2032 = \u22c3 m>0O\u2032m, where O\u2032m = Om[B1 7\u2192 B\u20321, . . . , Bk 7\u2192 B\u2032k], for all m > 0.\nFirst, we show by induction that O\u0303N \u2032 |=N \u2032 Om, for all m > 0. The induction base for n = 0 is trivial, since we have O0 = O and O is (N ,ON )-expressible, \u3008O\u0303N \u2032 , sig (O),ON \u3009 \u2208 N \u2032, and thus, O\u0303N \u2032 |=N \u2032 O. Suppose O\u0303N \u2032 |=N \u2032 Om, for some m > 0. Since \u3008O\u2032,\u03a3, O\u0303N \u2032\u3009 \u2208 N \u2032, we have O\u2032 |=N \u2032 Om and thus, by the equivalences in O\u2032, it holds O\u2032 |=N \u2032 O\u2032m+1. Since \u3008O\u0303N \u2032 ,\u03a3\u2032,O\u2032\u3009, we have O\u0303N \u2032 |=N \u2032 O\u2032m+1 and hence, by the equivalences in O\u0303N \u2032 , it holds that O\u0303N \u2032 |=N \u2032 Om+1.\nNow let I be an arbitrary model of ontology O\u0303 and I1 be an expansion of I, in which every B\u2032i is interpreted as (Bi)I , for i = 1, . . . , k. Clearly, it holds I1 |= O\u0303N \u2032 and thus, we have I1 |= O\u0303N \u2032\u222aO\u0303. We show that I1 |=N \u2032 O\u0303N \u2032 , i.e. there exists a model agreement \u00b5\u2032 for N \u2032 such that I1 \u2208 \u00b5\u2032(O\u0303N \u2032). We define families of interpretations {Im}m>1 and {I \u2032m}m>1 such that for all m > 1, Im |= O\u0303N \u2032 and I \u2032m |= O\u2032, and it holds Im =\u03a3\u2032 I \u2032m and I \u2032m =\u03a3 Im+1. The families of interpretations are defined by induction on m by showing that for any interpretation Im such that Im |= O\u0303N \u2032 \u222a O\u0303 there exist the corresponding interpretations I \u2032m and Im+1 such that both of them are also models of O\u0303.\nGiven Im as above, for m > 1, let I \u2032m be an interpretation, which agrees with Im on \u03a3\u2032 and in which every Ai is interpreted as (C \u2032i)\nIm , for i = 1, . . . , n. Then I \u2032m |= O\u2032 and since Im |= Bi \u2261 B\u2032i, for i = 1, . . . , k, we have I \u2032m |= O\u0303\u2032. Then I \u2032m is a model of every concept inclusion obtained from an axiom of O\u0303\u2032 by substituting every occurrence of C \u2032i with Ai, for i = 1, . . . , n, and therefore, from the definition of O\u0303, we conclude that I \u2032m |= O\u0303. Now let Im+1 be an interpretation, which agrees with I \u2032m on \u03a3 and in which every B\u2032i is interpreted as Bi, for i = 1, . . . , k. Then Im+1 is a model of O\u0303N \u2032 and O\u0303.\nSince O\u0303 |= O, we have Im |= O, for all m > 1. As ontologyO is (N ,ON )-expressible, there exists a model agreement \u00b5 for the networkN \u222a{\u3008O\u0303N \u2032 , sig (O),ON \u3009} such that \u00b5(O\u0303N \u2032) = {Im}m>1. Let us define a mapping \u00b5\u2032 such that \u00b5\u2032(O\u2032) = {I \u2032m}m>1 and the values of \u00b5\u2032 and \u00b5 coincide on all other ontologies in N \u2032. Then \u00b5\u2032 is the required model agreement for N \u2032."}, {"heading": "6 Hardness Results", "text": "We use reductions from the word problem for Turing ma-\nchines (TMs) and alternating Turing machines (ATMs) to obtain most of the results in this section. We use the following conventions and notations related to these computation models. A Turing Machine (TM) is a tupleM = \u3008Q,A, \u03b4\u3009, where\nQ is a set of states, with qh \u2208 Q being the accepting state, A is an alphabet, and \u03b4 : Q \u00d7 A 7\u2192 Q \u00d7 A \u00d7 {\u22121, 1} is a transition function. We assume w.l.o.g. that configuration of M is a word in the alphabet Q \u222a A which contains exactly one state symbol q \u2208 Q. An initial configuration is a word of the form b . . . bq0b . . . b, where q0 \u2208 Q and b \u2208 A is the blank symbol. For a configuration c, the notion of successor configuration is defined by \u03b4 in a usual way and is denoted as \u03b4(c). A configuration c is said to be accepting if there is a sequence of configurations c0, . . . , ck, k > 0, where c0 = c, ck = vqhw, and for all 0 6 i < k, ci+1 is a successor of ci. It is a well-known property of the transition functions of Turing machines that the symbol c\u2032i at position i of a configuration \u03b4(c) is uniquely determined by a 4-tuple of symbols ci\u22122, ci\u22121, ci, ci+1 at positions i \u2212 2, i \u2212 1, i, and i+1 of a configuration c. We assume that this correspondence is given by the (partial) function \u03b4\u2032 and use the notation ci\u22122ci\u22121cici+1 \u03b4\u20327\u2192 c\u2032i.\nAn Alternating Turing Machine (ATM) is a tuple M = \u3008Q,A, \u03b41, \u03b42\u3009, where Q = Q\u2200 \u222a Q\u2203 \u222a {qrej} is a set of states, with qrej \u2208 Q being the rejecting state, A is an alphabet containing the blank symbol b \u2208 A, and for \u03b1 = 1, 2, \u03b4\u03b1 : Q\u00d7A\u00d7Q\u00d7A\u00d7 {\u22121, 1} is a transition function. We assume w.l.o.g. that configuration of ATMM is a word in the alphabet Q \u222a A which contains at most one symbol q \u2208 Q. For a configuration c, the notion of successor configuration (wrt \u03b4\u03b1, \u03b1 = 1, 2) is defined in a usual way. A configuration c = vqw is (inductively) defined as rejecting if either q = qrej, or q \u2208 Q\u2200 and there is a successor configuration of c which is rejecting, or q \u2208 Q\u2203 and any successor configuration of c is rejecting. A rejecting run tree of an ATM M for an initial configuration w is a tree in which the nodes are rejecting configurations of M , w is the root node, every child node is a successor configuration of its parent node, every leaf is a configuration with the state qrej, and if there is a node c = uqw, then the following holds: if q \u2208 Q\u2200, then c has a at least one child, and if q \u2208 Q\u2203 then c has two children. For k > 0, a configuration c of M is said to be k-rejecting if M has a rejecting run tree of height k with the root c. The notions of accepting run tree (with every node not being a rejecting configuration) and accepting configuration are defined dually.\nSimilarly to ordinary TMs, we assume that the correspondence between a configuration c and the successor configuration c\u03b1 of c (wrt \u03b4\u03b1, \u03b1 = 1, 2) determined by 4-tuples of symbols is given by functions \u03b4\u2032\u03b1, for \u03b1 = 1, 2. If every configuration of an ATM is a finite word of length n, then we assume w.l.o.g. that for \u03b1 = 1, 2 this correspondence is given as follows (for a word w of length n and 1 6 i 6 n, we denote by w[i] the i-th symbol in w):\nc[i\u2212 2]c[i\u2212 1]c[i]c[i+ 1] \u03b4 \u2032 \u03b17\u2192 c\u2032[i], for 1 6 i 6 n\u2212 3\nbbc[1]c[2] \u03b4\u2032\u03b17\u2192 c\u2032[1], for c[1] 6\u2208 Q\nbc[1]c[2]c[3] \u03b4\u2032\u03b17\u2192 c\u2032[2]\nc[n\u2212 2]c[n\u2212 1]c[n]b \u03b4 \u2032 \u03b17\u2192 c\u2032[n]\nTheorem 1. Entailment in acyclic EL-ontology networks is ExpTime-hard. Proof Sketch. We reduce the word problem for TMs making exponentially many steps to entailment in EL-ontology networks. Let M = \u3008Q,A, \u03b4\u3009 be a TM and n = 1exp(m) an exponential, for some m > 0. Consider an ontology O defined for M and n by the axioms (29)-(31) below.\nThe first axiom gives a r-chain containing n+ 1 segments of length 2n+ 3, which are used to store fragments of consequent configurations of M :\nA v \u2203rn\u00b7(2n+3).(q0 u \u2203(r, b)2n+2) (29) (A 6\u2208 Q \u222a A).\nWe assume the following enumeration of segments in the r-chain:\n. . .\ufe38\ufe37\ufe37\ufe38 sn . . . . . .\ufe38\ufe37\ufe37\ufe38 s1 q0b . . . b\ufe38 \ufe37\ufe37 \ufe38 s0\ni.e., s0 represents a fragment of the initial configuration c0 of M . For 0 6 i < n, every i-th and (i + 1)-st segments in the r-chain are reserved for a pair of configurations ci, ci+1 such that ci+1 is a successor of ci.\nThe next family of axioms represents transitions of M and defines the \u2018content\u2019 of (i+ 1)-st segment based on the \u2018content\u2019 of i-th segment:\n\u2203r2n(X u \u2203r.(Y u \u2203r.(U u \u2203r.Z))) vW, (30)\nfor all X,Y, U, Z,W \u2208 Q \u222a A such that XY UZ \u03b4 \u2032\n7\u2192W . Finally, the following axioms are used to initialise the halt-\ning marker H and propagate it to the \u2018left\u2019 of the r-chain:\n\u2203r.qh v H, \u2203r.H v H (31)\nThe definition of ontology O is complete. We claim that M accepts the empty word in n steps iff O |= A v H .\nFor the \u2018only if\u2019 direction we assume there is a sequence of configurations c0, . . . , cn such that for all 0 6 i < n, ci+1 is a successor configuration of ci and qh is the state symbol in cn. Let I be a model of O and a domain element such that a \u2208 AI . Then by axiom (29), there is an r-chain outgoing from x, which contains segments s0, . . . , sn of length 2n+3, where s0 represents a fragment of c0. It can be shown by induction that due to axioms (30), every segment si represents a fragment of ci, for 1 6 i 6 n, and contains the state symbol from ci. Then by axiom (31), it follows that a \u2208 HI .\nFor the \u2018if\u2019 direction, one can provide a model I ofO such that AI = {a} is a singleton, qhI = HI = \u2205, and I gives an r-chain outgoing from a, which contains n + 1 segments representing fragments of consequent configurations of M , neither of which contains qh.\nTo complete the proof of the theorem we show that ontology O is expressible by an acyclic EL-ontology network of size polynomial inm. Note thatO contains axioms (29), (30) with concepts of size exponential in m. Consider axiom (29) and a concept inclusion \u03d5 of the form\nA v \u2203rn\u00b7(2n+3).B\nwhere B is a concept name. Observe that it is equivalent to\nA v \u2203rp.\u2203rp\ufe38 \ufe37\ufe37 \ufe38 2 times .\u2203rn.\u2203rn.\u2203rn\ufe38 \ufe37\ufe37 \ufe38 3 times .B\nwhere p = 1exp(2m). Consider axiom \u03c8 of the form A v B. By iteratively applying Lemma 13 we obtain that \u03c8[B 7\u2192 \u2203rp.\u2203rp.B] is expressible by an acyclic EL-ontology network of size polynomial in m. By repeating this argument we obtain the same for \u03d5. Further, by Lemma 2, the axiom \u03b8 = \u03d5[B 7\u2192 q0uB] is expressible by an acyclic EL-ontology network of size polynomial in m. Again, by iteratively applying Lemma 13 together with Lemma 2 we conclude that \u03b8[B 7\u2192 \u2203(r, b)2n+2] is expressible by an acyclic EL-ontology network of size polynomial in m and thus, so is axiom (29). The expressibility of axioms (30) is shown identically. The remaining axioms of ontology O are EL-axioms whose size does not depend on m. By applying Lemma 1 we obtain that there exists an acyclic EL-ontology network N of size polynomial in m and an ontology ON such that O is (N ,ON )- expressible and thus, it holds ON |=N A v H iff M accepts the empty word in 1exp(m) steps.\nTheorem 2. Entailment in cyclic EL-ontology networks is RE-hard.\nProof Sketch. For a TM M = \u3008Q,A, \u03b4\u3009, we define an infinite ontology O, which contains variants of axioms (29-30) from Theorem 1 and additional axioms for a correct implementation of transitions of M .\nAxioms (32) give an infinite family of r-chains, each having a \u2018prefix\u2019 of length k + 1, for k > 0 (reserved for fragments of consequent configurations of M ), and a \u2018postfix\u2019 containing a chain of length 2l + 3, for l > 0, which represents a fragment of the initial configuration c0:\nA v \u2203rk.(\u2203vl.L u \u03b5 u \u2203r.(q0 u \u2203(r, b)2l+2)) (32)\nfor A,L, \u03b5 6\u2208 Q \u222a A and all k, l > 0. Propagated to the \u2018left\u2019 by the next family of axioms, concept \u2203vk.L, k > 0, indicates the length of the \u2018postfix\u2019 for c0 on every r-chain given by axioms (32):\n\u2203r.\u2203vk.L v \u2203vk.L, k > 0 (33) The concept \u03b5 is used to separate fragments of consequent\nconfigurations of M and is therefore propagated as follows:\n\u2203vk.L u \u2203r2k+4.\u03b5 v \u03b5, k > 0 (34) The next families of axioms, with X,Y, U, Z,W \u2208 Q\u222aA,\nimplement transitions of M .\n\u2203vk.L u (35) u \u2203r2k+1.(X u \u2203r.(Y u \u2203r.(U u \u2203r.Z))) vW\nfor XY UZ \u03b4 \u2032\n7\u2192W and all k > 0. Concept \u2203vk.L guarantees that transitions have effect only\nalong r-chains which represent a fragment of c0 of length 2k + 3. Since \u03b5 6\u2208 Q \u222a A, the transitions involving \u03b5 are\nimplemented separately by the following families of axioms:\n\u2203vk.L u (36) u \u2203r2k.(b u \u2203r.(\u03b5 u \u2203r.(Y u \u2203r.(U u \u2203r.Z)))) vW\nfor bY UZ \u03b4 \u2032 7\u2192W and all k > 0;\n\u2203vk.L u (37) u \u2203r2k.(b u \u2203r.(b u \u2203r.(\u03b5 u \u2203r.(U u \u2203r.Z)))) vW\nfor bbUZ \u03b4 \u2032 7\u2192W and all k > 0;\n\u2203vk.L u (38) u \u2203r2k.(X u \u2203r.(b u \u2203r.(b u \u2203r.(\u03b5 u \u2203r.Z)))) vW\nfor XbbZ \u03b4 \u2032\n7\u2192W and all k > 0. The last axiom of O is used to initialize the halting marker\nH and propagate it to the \u2018left\u2019 of a r-chain:\nqh v H, \u2203r.H v H (39) The definition of ontology O is complete.\nThe more involved implementation of transitions (in comparison to Theorem 1) allows to prevent defect situations, when there are two consequent segments si,si+1 of an rchain, which represent fragments of configurations ci,ci+1 of M , respectively, but ci+1 is not a successor of ci. In Theorem 1, the prefix of length n \u00b7 (2n+ 3) given by axiom (29) guarantees a correct implementation of up to n transitions of the TM. The situation is different in the infinite case, since the prefix reserved for fragments of consequent configurations of M can be of any length, due to axioms (32).\nWe prove that M halts iff O |= A v H . Suppose that c0 is an accepting configuration and M halts in n steps; w.l.o.g. we assume that n > 1. Let I be a model of O and a \u2208 AI a domain element. Due to axioms (32), I is a model of the concept inclusion:\nA v \u2203rn\u00b7(2n+4).(\u2203vn.L u \u03b5 u \u2203r.(q0 u \u2203(r, b)2n+2))\nand thus, I gives a r-chain containing n + 1 segments of length 2n + 3 separated by \u03b5. By using arguments from the proof of Theorem 1, it can be shown that due to axioms (33) - (38), these segments represent fragments of consequent configurations ofM , starting with c0, and there is an element b in the r-chain such that b \u2208 qhI . Then by axiom (39), it holds a \u2208 HI .\nFor the \u2018if\u2019 direction, one can show that ifM does not halt, then there exists a model I of O such that qhI = HI = \u2205, AI = {a} is a singleton and there are infinitely many disjoint r-chains {Rm,n}m,n>1 outgoing from a, such that every Rm,n represents a fragment of c0 of length n and has a prefix of length m+ 1 representing fragments of consequent configurations of M , each having length 6 2n+ 3.\nTo complete the proof of the theorem we show that ontology O is expressible by a cyclic EL-ontology network. Let\nus demonstrate that so is the family of axioms (32). Let \u03d5 = A v B be a concept inclusion andB,B1, B2 concept names. By Lemma 14, ontology O1 = {\u03d5[B 7\u2192 \u2203rk.B] | k > 0} is expressible by a cyclic EL-ontology network. Then by Lemma 2, ontology O2 = O1[B 7\u2192 B1 u \u03b5 u \u2203r.(q0 u B2)] is expressible by a cyclic EL-ontology network. By applying Lemma 14 again, we conclude that so is ontology O3 = \u22c3 l>0O2[B1 7\u2192 \u2203vl.B1, B2 7\u2192 \u2203(r, b)2l.B2], i.e., the ontology given by axioms\nA v \u2203rk.(\u2203vl.B1 u \u03b5 u \u2203r.(q0 u \u2203(r, b)2l.B2)) for k, l > 0. Further, by Lemma 2, we obtain that O2[B1 7\u2192 L, B2 7\u2192 \u2203(r, b)2] is expressible by a cyclic EL-ontology network and hence, so is the family of axioms (32). A similar argument shows the expressibility of ontologies given by axioms (33)-(38). The remaining subset of axioms (39) of O is finite. By Lemma 1, there exists a cyclic EL-ontology network N and an ontology ON such that O is (N ,ON )- expressible and thus, it holds ON |=N A v H iff M halts.\nTheorem 3. Entailment in ALC-ontology networks is 2ExpTime-hard. Proof Sketch. The result is based on the construction from the proof of Theorem 7 in [Kazakov, 2008], where it is shown that the word problem for 1exp(n)-space bounded ATMs, for n > 0, reduces to satisfiability of R-ontologies. We demonstrate that under a minor modification the construction used in that theorem shows that there is a ALC-ontology O containing nested concepts of exponential size and a concept name A such that O 6|= A v \u22a5 iff a given 1exp(n)-space bounded ATM accepts the empty word. The ontology contains axioms with concepts of the form \u2203(r, C)1exp(n).D and \u2200r1exp(n).D. Using axioms of the form Z v \u2203(r, C)1exp(n).D it is possible to encode consequent exponentially long r-chains for storing consequent configurations of ATM. With axioms of the form Z v \u2200r1exp(n).D it is possible to encode transitions between configurations by defining correspondence of interpretations of concept names (encoding the alphabet of ATM) on two consequent 1exp(n)-long r-chains. The rest of the concept inclusions inO areALC-axioms, whose size does not depend on n and which are used to represent the initial configuration, existential/universal types configurations, and describe additional conditions for implementation of transitions. By using Lemmas 4, 12, we demonstrate that every axiom of O containing concepts of size exponential in n is expressible by an acyclic ALC-ontology network N of size polynomial in n. Then by applying Lemma 1 we obtain that there exists an acyclic ALC-ontology network N of size polynomial in n and an ontology ON such that O is (N ,ON )-expressible and thus, it holds ON |=N A v \u22a5 iff M accepts the empty word. Since AExpSpace = 2ExpTime, we obtain the required statement.\nTheorem 4. Entailment in R-ontology networks is 3ExpTime-hard. Proof Sketch. The proof is by reduction of the word problem for 2exp(n)-space bounded ATMs to entailment in Rontology networks. Given such TM M and a number n > 0,\nwe consider ontology O from the proof of Theorem 3 for M and let O\u2032 be the ontology obtained from O by replacing every nested concept of the form \u2203(r, C)1exp(n).D and \u2200r1exp(n).D with \u2203(r, C)2exp(n).D and \u2200r2exp(n).D, respectively. Then a repetition of the proof of Theorem 3 gives that O\u2032 |= A v \u22a5 iff M accepts the empty word. By applying Lemmas 10, 12 we show that every axiom of O\u2032 containing concepts of size double exponential in n is expressible by an acyclic R-ontology network of size polynomial in n. The remaining axioms of O\u2032 are ALC axioms, whose size does not depend on n. Then by applying Lemma 1 we obtain that there exists an acyclic R-ontology network N of size polynomial in n and an ontology ON such that O\u2032 is (N ,ON )- expressible and thus, it holds ON |=N A v \u22a5 iff M accepts the empty word. Since A2ExpSpace = 3ExpTime, we obtain the required statement.\nTheorem 5. Entailment in ALCHOIF-ontology networks is coN2ExpTime-hard.\nProof Sketch. The result is based on the construction from the proof of Theorem 5 in [Kazakov, 2008], where it is shown that the N2ExpTime-hard problem of existence of a domino tiling of size 2exp(n) \u00d7 2exp(n), n > 0, reduces to satisfiability of ROIF-ontologies. We demonstrate that under a minor modification the construction used in that theorem shows that there exists aALCHOIF-ontologyO containing concepts of an exponential size and a concept name A such thatO 6|= A v \u22a5 iff a given domino system admits a tiling of size 2exp(n)\u00d72exp(n), for n > 0. OntologyO contains axioms with concepts of the form \u2203r1exp(n).C and \u2200r1exp(n).C. Axioms of the form Z v \u2203r1exp(n).C allow one to encode 1exp(n)-long r-chains. Using a variant of the binary counter technique together with axioms of the form Z v \u2200r1exp(n).C and role hierarchies allows one to encode 2exp(n)-many consequent r-chains of this kind, thus obtaining sequences of 2exp(n)-many end points of r-chains. With nominals and inverse functional roles it is possible to enforce coupling of these sequences to obtain a grid of size 2exp(n)\u00d7 2exp(n). Finally, ALC axioms with concepts of the form \u2200r1exp(n).C allow one to represent the initial and matching conditions of the domino tiling problem. By using the same arguments as in the proof of Theorem 3 we show that there is a ALCHOIFontology networkN of size polynomial in n and an ontology ON such that ON |=N A v \u22a5 iff the domino system does not admit a tiling of size 2exp(n)\u00d7 2exp(n).\nTheorem 6. Entailment in ROIF-ontology networks is coN3ExpTime-hard.\nProof Sketch. The theorem is proved by a reducing the N3ExpTime-hard problem of domino tiling of size 3exp(n) \u00d7 3exp(n) to entailment in ROIF-ontology networks. Given an instance of this problem, we consider ontology O defined in the proof of Theorem 5 and let O\u2032 be the ontology obtained from O by replacing every nested concept \u2203r1exp(n).C and \u2200r1exp(n).C with \u2203r2exp(n).C and \u2200r2exp(n).C, respectively. A repetition of the proof of Theorem 5 shows that O 6|= A v \u22a5 iff a given domino system\nadmits a tiling of size 3exp(n)\u00d73exp(n). By applying Lemmas 1, 10, 12 we obtain that there exists a ROIF-ontology network N of a polynomial size and an ontology ON such that ON |=N A v \u22a5 iff the given domino system does not admit a tiling of size 3exp(n)\u00d7 3exp(n).\nTheorem 7. Entailment inH-Networks is ExpTime-hard. Proof Sketch. We show that the word problem for ATMs working with words of a polynomial length n reduces to entailment in cyclic H-ontology networks. Then, since APSpace = ExpTime, the claim follows.\nLet M = \u3008Q,A, \u03b41, \u03b42\u3009 be an ATM. We call the word of the form bq0b . . . b initial configuration of M . Consider a signature \u03c3 consisting of concept names Bai, for a \u2208 Q \u222a A and 1 6 i 6 n (with the informal meaning that the i-th symbol in a configuration of M is a). Let \u03c31, and \u03c32 be \u2018copies\u2019 of signature \u03c3 consisting of the above mentioned concept names with the superscripts 1 and 2, respectively.\nFor \u03b1 = 1, 2, let O\u03b1 be an ontology consisting of the axioms below. The family of axioms (40)-(43) implements transitions of M (while respecting the end positions of configurations):\nB\u03b1Xi\u22122 uB\u03b1Y i\u22121 uB\u03b1Ui uB\u03b1V i+1 v BWi (40) for 1 6 i 6 n \u2212 3 and all X,Y, U, V,W \u2208 Q \u222a A such that XY UV\n\u03b4\u03b17\u2192W ; B\u03b1U1 uB\u03b1V 2 v BW1 (41)\nfor all U, V,W \u2208 Q \u222a A such that bbUV \u03b4\u03b17\u2192W ;\nB\u03b1Y 1 uB\u03b1U2 uB\u03b1V 3 v BW2 (42)\nfor all Y,U, V,W \u2208 Q \u222a A such that bY UV \u03b4\u03b17\u2192W ;\nB\u03b1Xn\u22122 uB\u03b1Y n\u22121 uB\u03b1Un v BWn (43)\nfor all X,Y, U,W \u2208 Q \u222a A such that XY Ub \u03b4\u03b17\u2192W . For 1 6 i 6 n, the next axioms initialize \u2018local\u2019 marker H\u0304\u03b1 and \u2018global\u2019 marker H\u0304 for a rejecting successor configuration wrt \u03b4\u03b1:\nBqreji v H\u0304, H\u0304 v H\u0304\u03b1 (44) Let O be an ontology consisting of the following axioms:\nH\u03041 uBq\u2200i v H\u0304, H\u03042 uBq\u2200i v H\u0304 (45) H\u03041 u H\u03042 uBq\u2203i v H\u0304\nfor 1 6 i 6 m, q\u2203 \u2208 Q\u2203, and q\u2200 \u2208 Q\u2200 (i.e., these axioms implement the definition of accepting configuration depending on whether the state is existential or universal);\nA v \u229416i6n+2Bbi uBq0n+3 u \u2294n+46i6mBbi (46) representing the initial configuration cinit of M ;\nBai v B\u03b1ai (47) for \u03b1 = 1, 2, 1 6 i 6 n, and all a \u2208 Q \u222a A (which enforce \u2018copying\u2019 a configuration \u2018description\u2019 in signature \u03c3 into signatures \u03c31, \u03c32).\nConsider ontology network N consisting of the import relations \u3008O,\u03a3\u03b1,O\u03b1\u3009 and \u3008O\u03b1,\u03a3,O\u3009, where \u03a3\u03b1 = {H\u0304\u03b1}\u222a \u03c3\u03b1, \u03a3 = {H\u0304} \u222a \u03c3, and \u03b1 = 1, 2. Informally, ontologies O\u03b1 describe transitions between configurations, while O serves for \u2018copying\u2019 configuration descriptions into signatures \u03c31, \u03c32 and \u2018feeding\u2019 them back into O\u03b1. It follows that models I |=N O represent consequent configurations of M and thus, network N implements a run tree of ATM. Intuitively, a point x in the domain of a model I |=N O represents a configuration c, if x belongs to the interpretation of \u03c3-concept names, corresponding to the symbols in c.\nWe demonstrate that M does not accept the empty word iff O |=N A v H\u0304 . The \u2018only if\u2019 direction is proved by induction by showing that in any model I |=N O, whenever a domain element x represents a rejecting configuration c ofM , it holds x \u2208 H\u0304I . Then it follows by axiom (46) that x \u2208 H\u0304I , whenever x \u2208 AI . The \u2018if\u2019 direction is proved by contraposition by defining a model agreement \u00b5 forN and a singleton interpretation I \u2208 \u00b5(O) such that I 6|= A v H\u0304 . For every ontology, \u00b5 gives a family of singleton interpretations such that each of them represents a configuration of M and agreed interpretations correspond to consequent configurations.\nTheorem 8. Entailment in acyclic H-Networks is PSpacehard. Proof Sketch. We show that the word problem for ATMs making polynomially many steps reduces to entailment in acyclic H-ontology networks. Then, since AP = PSpace, the claim follows.\nLet M = \u3008Q,A, \u03b41, \u03b42\u3009 be an ATM. We use the definition of the networkN from the proof sketch to Theorem 7 and define by induction an acyclic H-ontology network Nn, which can be viewed informally as a finite \u2018unfolding\u2019 of N .\nFor n = 1, let N1 be a network consisting of import relations \u3008O1,\u03a3\u03b1,O\u03b11 \u3009, for \u03b1 = 1, 2, where O1 is equivalent to ontology O (from the definition of network N ) and O\u03b11 is equivalent to O\u03b1. If Nn\u22121 is a network already given for n > 2, then we define Nn as the union of Nn\u22121 with the set consisting of import relations \u3008On,\u03a3\u03b1,O\u03b1n\u3009, \u3008O\u03b1n ,\u03a3,On\u22121\u3009, for \u03b1 = 1, 2, where On, O\u03b1n are ontologies not present in Nn\u22121 andOn is equivalent toO andO\u03b1n is equivalent toO\u03b1. By using the arguments from the proof of Theorem 7 we show that for any n > 1, it holds On |=Nn A v H\u0304 iff M does not accept the empty word in n steps."}, {"heading": "7 Reduction to Classical Entailment", "text": "As a tool for proving upper complexity bounds, we demonstrate that entailment in a networkN can be reduced to entailment from (a possibly infinite) union of \u2018copies\u2019 of ontologies appearing in N .\nLet N be an ontology network. We denote sig (N ) =\u22c3 \u3008O1,\u03a3,O2\u3009\u2208N (sig (O1) \u222a \u03a3 \u222a sig (O2)). An import path in N is a sequence p = {O0,\u03a31,O1, . . . ,On\u22121,\u03a3n,On}, n \u2265 0, such that \u3008Oi\u22121,\u03a3i,Oi\u3009 \u2208 N for each i with (1 \u2264 i \u2264 n). We denote by len(p) = n, first(p) = O0 and last(p) = On the length of p, the first and, respectively, the last ontologies on the path p. By paths(N ) we define the set of all paths inN , and by paths(N ,O) = {p \u2208\npaths(N ) | first(p) = O} the subset of paths that originate in O. We say that O\u2032 is reachable from O in N if there exists a path p \u2208 paths(N ,O) such that last(p) = O\u2032. The import closure of an ontology O in N is defined by O\u0304 = \u222ap\u2208paths(N ,O)last(p). Note that by definition it holds {O} \u2208 paths(N ,O) and thus, O \u2286 O\u0304. Lemma 15. If I |= O\u0304 then I |=N O.\nProof. Consider a mapping \u00b5 defined for ontologies O\u2032 in N by setting \u00b5(O\u2032) = {I} if O\u2032 is reachable from O and \u00b5(O\u2032) = \u2205 otherwise. Clearly, \u00b5 is a model agreement for N . Since I \u2208 \u00b5(O), we have I |=N O.\nFor every symbol X \u2208 sig (N ) and every import path p in N , take a distinct symbol Xp of the same type (concept name, role name, or individual) not occurring in sig (N ). For each import path p inN , define a renaming \u03b8p of symbols in sig (N ) inductively as follows. If len(p) = 0, we set \u03b8p(X) = X for every X \u2208 sig (N ). Otherwise, p = p\u2032 \u222a {On\u22121,\u03a3n,On} for some path p\u2032 and we define \u03b8p(X) = \u03b8p\u2032(X) if X \u2208 \u03a3n and \u03b8p(X) = Xp otherwise. A renamed import closure of an ontology O in N is defined by O\u0303 =\u22c3 p\u2208paths(N ,O) \u03b8p(last(p)).\nLemma 16. If I |= O\u0303 then I |=N O.\nProof. The proof is identical to the proof of Lemma 15.\nLemma 17. For every I |=N O there exists J |= O\u0303 such that J =sig (N ) I.\nProof. Assume that I |=N O. Then there exists a model agreement \u00b5 for N such that I \u2208 \u00b5(O). We define J = (\u2206J , \u00b7J ) by setting \u2206J = \u2206I , and XJ = XI for all symbols X except for the symbols Xp, with p \u2208 paths(N ,O) and X \u2208 sig (N ). For those symbols, we set (Xp)J = XIp where Ip \u2208 \u00b5(last(p)) is defined by induction on len(p) as follows. If len(p) = 0, we set Ip = I \u2208 \u00b5(O) = \u00b5(last(p)). Otherwise, p = p\u2032 \u222a {On\u22121,\u03a3n,On} for some \u3008On\u22121,\u03a3n,On\u3009 \u2208 N , and Ip\u2032 \u2208 \u00b5(On\u22121) is already defined. Then pick any Ip \u2208 \u00b5(On) such that Ip =\u03a3n Ip\u2032 . Such Ip always exists since \u00b5 is a model agreement. This completes the definition of J . Obviously, J =sig (N ) I.\nTo prove that J |= O\u0303, we first show by induction on len(p) that for every X \u2208 sig (N ) we have (\u03b8p(X))J = XIp . Indeed, if len(p) = 0 then (\u03b8p(X))J = XJ = XI = XIp . If p = p\u2032 \u222a {On\u22121,\u03a3n,On} for some \u3008On\u22121,\u03a3n,On\u3009 \u2208 N , then if X \u2208 \u03a3n, we have (\u03b8p(X)) J = (\u03b8p\u2032(X)) J = XIp\u2032 = XIp since Ip =\u03a3n Ip\u2032 . If X /\u2208 \u03a3n then (\u03b8p(X))J = (Xp)J = XIp . Now, since for every path p \u2208 paths(N ,O), we have Ip \u2208 \u00b5(last(p)) hence, in particular, Ip |= last(p), we have J |= \u03b8p(last(p)) by the property above. Hence J |= O\u0303.\nTheorem 9. Let N be an ontology network, O an ontology in N , and \u03b1 an axiom such that sig (\u03b1) \u2286 sig (N ). Then O |=N \u03b1 iff O\u0303 |= \u03b1.\nProof. Suppose thatO |=N \u03b1. In order to prove that O\u0303 |= \u03b1, take any model I |= O\u0303. We need to show that I |= \u03b1. Since I |= O\u0303, by Lemma 16, we have I |=N O. Since O |=N \u03b1, we have I |= \u03b1, as required.\nConversely, suppose that O\u0303 |= \u03b1. In order to show that O |=N \u03b1, take any I |=N O. We need to show that I |= \u03b1. Since I |=N O, by Lemma 17, there exists J |= O\u0303 such that J =sig (N ) I. Since O\u0303 |= \u03b1, we have J |= \u03b1. Since sig (\u03b1) \u2286 sig (N ), we have I |= \u03b1, as required."}, {"heading": "8 Membership Results", "text": "Theorem 9 provides a method for reducing the entailment\nproblem in ontology networks to entailment from ontologies. Note that, in general, the renamed closure O\u0303 of an ontology O in a (cyclic) network N can be infinite (even if N and all ontologies in N are finite). There are, however, special cases when O\u0303 is finite. For example, if all import signatures in N include all symbols in sig (N ), then it is easy to see that O\u0303 = O\u0304. O\u0303 is also finite if paths(N ,O) is finite, e.g., if N is acyclic. In this case, the size of O\u0303 is at most exponential in O. If there is at most one import path between every pair of ontologies (i.e., if N is tree-shaped) then the size of O\u0303 is the same as the size of N . This immediately gives the upper complexity bounds on deciding entailment in acyclic networks.\nTheorem 10. Let L be a DL with the complexity of entailment in [co][N]TIME(f(n)) ([co] and [N] denote possible coand N-prefix, respectively). LetN be an acyclic ontology network and O an ontology in N such that O\u0303 is a L-ontology. Then for L-axioms \u03b1, the entailment O |=N \u03b1 is decidable in [co][N]TIME(f(2n)). If N is tree-shaped then deciding O |=N \u03b1 has the same complexity as entailment in L.\nNote that if O1, . . . ,Om are some ontologies in a DL L, then in general, their union is not necessary a L-ontology. For instance, this is the case for logics containing DL R, which restricts role inclusion axioms to regular ones. The regularity property can be easily lost when taking the union of ontologies and thus, reasoning over the union of ontologies may be harder than reasoning in the underlying DL. Hence, the requirement in Theorem 10 that O\u0303 must be a L-ontology.\nIn the next theorem, we show that for arbitrary networks, checking entailment is, in general, semi-decidable, which is a consequence of the Compactness Theorem for First-Order Logic (since all standard DLs can be translated to FOL).\nTheorem 11. LetL be a DL, which can be translated to FOL, N an ontology network, andO an ontology inN such that O\u0303 is a L-ontology. Then for L-axioms \u03b1, the entailment O |=N \u03b1 is semi-decidable.\nProof. By Theorem 9, O |=N \u03b1 iff O\u0303 |= \u03b1. By the compactness theorem for first-order logic, if O\u0303 |= \u03b1 then there exists a finite subset O\u2032 \u2286 O\u0303 such that O\u2032 |= \u03b1. Hence, O\u0303 |= \u03b1 can be checked, e.g, by enumerating all finite subsets O\u0303n = \u22c3 p\u2208paths(N ,O,n) \u03b8p(last(p)) \u2286 O\u0303, n \u2265 0, where paths(N ,O, n) = {p \u2208 paths(N ,O) | len(p) \u2264 n} and\nrunning the (semi-decidable) test O\u0303n |= \u03b1 with the timeout n. If O\u0303 |= \u03b1 then, eventually, one of these tests succeeds.\nRestricting the shape of the network is one possibility of establishing decidability results for entailment in ontology networks. Another possibility is to restrict the language. It turns out, for ontology networks expressed in the role-free DL P , the entailment problem becomes decidable, even in the presence of cycles. Intuitively, this is because the entailment in P can be characterized by a bounded number of models.\nDefinition 3. We say that an interpretation I = (\u2206I , \u00b7I) is a singleton if ||\u2206I || = 1. Let I = (\u2206I , \u00b7I) be a DL interpretation and d \u2208 \u2206I . The singleton projection of I to d is the interpretation J = ({d}, \u00b7J ) such that AJ = AI \u2229 {d} for each A \u2208 NC, RJ = \u2205 for each R \u2208 NR, and aJ = d for each a \u2208 Ni. Lemma 18. Let C be a P-concept, I = (\u2206I , \u00b7I) an interpretation, and J = ({d}, \u00b7J ) a singleton projection of I on some element d \u2208 \u2206I . Then CJ = CI \u2229\u2206J . Corollary 1. Let \u03b1 = C v D be a P-axiom, I = (\u2206I , \u00b7I) an interpretation such that I |= \u03b1, and J a singleton projection of I on an element d \u2208 \u2206I . Then J |= \u03b1. Corollary 2. Let \u03b1 = C v D be a P-axiom, I = (\u2206I , \u00b7I) an interpretation such that I 6|= \u03b1. Then there exists d \u2208 \u2206I such that for the singleton projection J of I to d, J 6|= \u03b1.\nGiven an ontology network N , a singleton model agreement for N is a model agreement \u00b5 such that for every O in N every interpretation I \u2208 \u00b5(O) is a singleton. Lemma 19. Let N be a P-ontology network, O an ontology in N , and \u03b1 a P-axiom such that O 6|=N \u03b1. Then there exists a singleton model agreement \u00b5\u2032 for N and a model I \u2032 \u2208 \u00b5\u2032(O) such that I \u2032 6|= \u03b1.\nProof. Since O 6|=N \u03b1, there exists a model agreement \u00b5 over a domain \u2206 such that for some I \u2208 \u00b5(O) we have I 6|= \u03b1. By Corollary 2, there exists an element d \u2208 \u2206 such that for the singleton projection I \u2032 of I to d, we have I \u2032 6|= \u03b1. Now define a mapping \u00b5\u2032 by setting \u00b5\u2032(O), for every ontology O in N , to consist of the singleton projections of the interpretations in \u00b5(O) to d. By Corollary 1, we have I \u2032 |= O, for all I \u2032 \u2208 \u00b5\u2032(O). To prove that \u00b5\u2032 is a model agreement it remains to show that if \u3008O1,\u03a3,O2\u3009 \u2208 N and I \u20321 \u2208 \u00b5\u2032(O1) then there exists I \u20322 \u2208 \u00b5\u2032(O2) such that I \u20321 =\u03a3 I \u20322. Indeed, since I \u20321 \u2208 \u00b5\u2032(O1) then I \u20321 is a singleton projection of some I1 \u2208 \u00b5(O1). Since \u00b5 is a model agreement, there exists I2 \u2208 \u00b5(O2) such that I1 =\u03a3 I2. Let I \u20322 be the singleton projection of I2 to d. Then I \u20322 \u2208 \u00b5\u2032(O2) by definition of \u00b5\u2032. Furthermore, since I1 =\u03a3 I2, it is easy to see by the Definition 3 that I \u20321 =\u03a3 I \u20322.\nLemma 19 implies, in particular, that to check the entailment in P networks, it is sufficient to restrict attention only to singleton model agreements. W.l.o.g., one can assume that these singleton model agreements have the same domain. Similarly, only interpretation of symbols that appear in N or in the checked axiom \u03b1 counts. Since the number of interpretations of concept names over one element domain is at most\nexponential in the number of concept names, for checking entailment O |=N \u03b1 it is sufficient to restrict attention to only exponentially-many singleton model agreements in the size of N and \u03b1. This gives a simple NExpTime algorithm for checking whether O 6|=N \u03b1: guess a singleton model agreement \u00b5 (of an exponential size), and check whether I 6|= \u03b1 for some I \u2208 \u00b5(O). It is, however, possible to find the required model agreement deterministically, thereby reducing the complexity to ExpTime. Theorem 12. There is an ExpTime procedure that given a P-ontology network N , an ontology O in N , and a P-axiom \u03b1, checks whether O |=N \u03b1.\nProof. Let \u03a3 be the set of all signature symbols appearing in N and \u03b1. Since N and \u03b1 are formulated in P , \u03a3 consists of only concept names. Let d be a fixed (domain) element. For every subset s \u2286 \u03a3, let I(s) = ({d}, \u00b7I(s)) be a singleton interpretation defined by AI(s) = {d} if A \u2208 s and AI(s) = \u2205 otherwise. Finally, let m be a mapping defined by m(O) = 2\u03a3 for all ontologies O in N . Clearly, the mapping m can be constructed in exponential time in the size of N .\nThe mapping m corresponds to the assignment \u00b5 of singleton interpretations to ontologies in N defined as \u00b5(O) = {I(s) | s \u2208 m(O)}. This assignment, however, is not necessarily a model agreement for N according to Definition 2. First, not all interpretations I(s) for s \u2208 m(O) are models of O. Second, it is not guaranteed that for every \u3008O1,\u03a3,O2\u3009 \u2208 N and every s1 \u2208 m(O1) there exists s2 \u2208 m(O2) such that I(s1) =\u03a3 I(s2). To fix the defects of the first type, we remove from m(O) all sets s such that I(s) 6|= O. (It is easy to check in polynomial time if a singleton interpretation is a model of an ontology). To fix the defects of the second type, we remove all s1 \u2208 m(O1) for which there exists no s2 \u2208 m(O2) such that s1\u2229\u03a3 = s2\u2229\u03a3. We repeat performing this operation until no defects are left.\nClearly, both operations can be performed in exponential time inN since there are at most exponentially-many values s that can be removed. Finally, to decide whetherO |=N \u03b1, we check whether I(s) |= \u03b1 for all s \u2208 m(O). If this property holds, we return O |=N \u03b1; otherwise, we return O 6|=N \u03b1.\nWe claim that the above algorithm is correct. Indeed, if O 6|=N \u03b1 is returned then there is a model agreement \u00b5 and an interpretation I 6|= \u03b1 such that I \u2208 \u00b5(O).\nConversely, if O 6|=N \u03b1 then there exists a model agreement \u00b5 for N such that I 6|= \u03b1 for some I \u2208 \u00b5(O). Then by Lemma 19, there exists a singleton model agreement \u00b5\u2032 for N such that I \u2032 6|= \u03b1 for some I \u2032 \u2208 \u00b5\u2032(O). For a singleton interpretation I, let s(I) = {A | AI 6= \u2205}. W.l.o.g., I(s(I \u2032)) = I \u2032 for each I \u2032 \u2208 \u00b5\u2032(O), with O in N . Let m\u2032 be a mapping defined by m\u2032(O) = {s(I) | I \u2208 \u00b5\u2032(O)} for each O in N . So I(s) \u2208 \u00b5\u2032(O) for every s \u2208 m\u2032(O) and O in N . By induction over the construction of m, it is easy to show that m\u2032(O) \u2286 m(O) for every O in N . Indeed, since m(O) is initialized with all subsets of the signature \u03a3, m\u2032(O) \u2286 m(O) holds in the beginning. Furthermore, for each s \u2208 m\u2032(O), we have I(s) \u2208 \u00b5\u2032(O), and so, I(s) |= O. Thus, s cannot be removed from m(O) as a defect of the first type. Similarly, for every \u3008O1,\u03a3,O2\u3009 \u2208 N and every s1 \u2208 m\u2032(O1), we have I1 = I(s1) \u2208 \u00b5\u2032(O1).\nSince \u00b5\u2032 is a model agreement, there exists I2 \u2208 \u00b5\u2032(O2) such that I1 =\u03a3 I2. Hence for s2 = s(I2) \u2208 m\u2032(O2), we have s1 \u2229 \u03a3 = s2 \u2229 \u03a3. Therefore, s1 cannot be removed from m(O1) as a defect of the second type. Finally, since I \u2032 6|= \u03b1 for some I \u2032 \u2208 \u00b5\u2032(O), we have s\u2032 = s(I \u2032) \u2208 m\u2032(O) \u2286 m(O). Hence, our algorithm returns O 6|=N \u03b1.\nIt is possible to improve the upper bound obtained in Theorem 12 for acyclic P-ontology networks. Theorem 13. There is a PSpace procedure that given an acyclic P-ontology network N , an ontology O in N , and a P-axiom \u03b1, checks whether O |=N \u03b1.\nProof. As in the proof of Theorem 12, let \u03a3 be the set of all signature symbols appearing in N and \u03b1, and d a fixed (domain) element. For each s \u2286 \u03a3, let I(s) = ({d}, \u00b7I(s)) be a singleton interpretation defined byAI(s) = {d} ifA \u2208 s and AI(s) = \u2205 otherwise.\nWe describe a recursive procedure P (O, s) that given an ontology O in N and s \u2286 \u03a3 returns true if there exists a model agreement \u00b5 for N such that I(s) \u2208 \u00b5(O), and returns false otherwise. The procedure works as follows. If I(s) 6|= O, P (O, s) return false. Otherwise, we iterate over all \u3008O,\u03a3,O\u2032\u3009 \u2208 N and for every s\u2032 \u2286 \u03a3 such that s \u2229 \u03a3 = s\u2032 \u2229 \u03a3 and run P (O\u2032, s\u2032) recursively. If for each \u3008O,\u03a3,O\u2032\u3009 \u2208 N some of the recursive call P (O\u2032, s\u2032) returned true, we return true for P (O, s). Otherwise, we return false.\nClearly, P (O, s) always terminates since N is acyclic. Furthermore, the procedure can be implemented in polynomial space in the size of N and \u03b1, since the recursion depth is bounded by the size of N and at every recursive call, only the input values O and s need to be saved (assuming the iterations over the import relations and subsets of \u03a3 use some fixed order).\nNext we show that our procedure is correct. Assume that P (O, s) returns true for some input O and s \u2286 \u03a3. For each ontology O in N , let m(O) be the set of all s \u2286 \u03a3 such that there was a (recursive) call P (O, s) with the output true. Let \u00b5 be a mapping defined by \u00b5(O) = {I(s) | s \u2208 m(O)}. We claim that \u00b5 is a model agreement for N .\nIndeed, since P (O, s) returns true only if I(s) |= O, for every O in N and I \u2208 \u00b5(O) we have I |= O. Furthermore, if \u3008O,\u03a3,O\u2032\u3009 \u2208 N and I \u2208 \u00b5(O) then, by definition of \u00b5, there exists s \u2208 m(O) such that I = I(s) and P (s,O) returned true. In particular, since \u3008O,\u03a3,O\u2032\u3009 \u2208 N , there was a recursive call P (s\u2032,O\u2032) that returned true for some s\u2032 \u2286 \u03a3 such that s \u2229 \u03a3 = s\u2032 \u2229 \u03a3. By the definition of m, this means that s\u2032 \u2208 m(O\u2032). Therefore, I =\u03a3 I(s\u2032) \u2208 \u00b5(O\u2032), by the definition of \u00b5. Thus, \u00b5 is a model agreement for N .\nConversely, assume that there exists a model agreement \u00b5 for N such that I(s) \u2208 \u00b5(O). Since N is a P-ontology network, w.l.o.g., for every O in N and every I \u2208 \u00b5(O), there exists s \u2286 \u03a3 such that I = I(s). We prove that P (O, s) returns true for everyO and s such that I(s) \u2208 \u00b5(O). Indeed, assume to the contrary that P (O, s) returns false for some s such that I(s) \u2208 \u00b5(O) and when executing P (O, s), there was no other recursive call to P (O\u2032, s\u2032) that returned false for some s\u2032 such that I(s\u2032) \u2208 \u00b5(O\u2032). Since I(s) \u2208 \u00b5(O), we have I(s) |= O, thus P (O, s) cannot return false due to\nI(s) 6|= O. Hence there exists \u3008O,\u03a3,O\u2032\u3009 \u2208 N such that for every s\u2032 \u2286 \u03a3 with s \u2229 \u03a3 = s\u2032 \u2229 \u03a3, the recursive call of P (O\u2032, s\u2032) returned false. Then I(s\u2032) /\u2208 \u00b5(O\u2032) for all such s\u2032 by our assumption above. Since \u00b5 is a model agreement, \u3008O,\u03a3,O\u2032\u3009 \u2208 N , and I(s) \u2208 \u00b5(O), there exists I \u2032 \u2208 \u00b5(O\u2032) such that I(s) =\u03a3 I \u2032. Then I \u2032 = I(s\u2032) for some s\u2032 such that s \u2229 \u03a3 = s\u2032 \u2229 \u03a3. This gives us a contradiction since I(s\u2032) \u2208 \u00b5(O\u2032) for no s\u2032, with s \u2229 \u03a3 = s\u2032 \u2229 \u03a3.\nNow, to check whether O |=N \u03b1 using the procedure P , we enumerate all s \u2286 \u03a3 and check whether I(s) 6|= \u03b1 and P (O, s) returns true. We returnO 6|=N \u03b1 if such s exists, and O |=N \u03b1 otherwise. This algorithm is correct. Indeed, if such s exists, then there exists a model agreement \u00b5 for N such that I(s) \u2208 \u00b5(O). Hence,O 6|=N \u03b1. Conversely, ifO 6|=N \u03b1 then there exists a model agreement \u00b5 for N and some I \u2208 \u00b5(O) such that I |= O and I 6|= \u03b1. By Lemma 19, w.l.o.g. one can assume that \u00b5 is a singleton model agreement. Then there exists some s \u2286 \u03a3 such that I(s) \u2208 \u00b5(O) and I(s) 6|= \u03b1. Since I(s) \u2208 \u00b5(O), P (O, s) should return true. Hence, our algorithm returns O 6|=N \u03b1."}, {"heading": "9 Conclusions", "text": "We have introduced a new mechanism for ontology integration which is based on semantic import relations between ontologies and is a generalization of the standard OWL importing. In order to import an external ontology O into a local one, one has to specify an import relation, which defines a set of symbols, whose semantics should be borrowed from O. The significant feature of the proposed mechanism, which comes natural in complex ontology integration scenarios, is that every ontology has its own view on ontologies it refines and the views on the same ontology are independent unless coordinated by import relations. We have shown that this feature can lead to an exponential increase of the time complexity of reasoning over ontologies combined with acyclic import relations. Intuitively, this is because one has to consider multiple views of the same ontology, each of which gives a different ontology. When cyclic importing is allowed, the complexity jumps to undecidability, even if every ontology in a combination is given in the DL EL. Similarly, this is because one has to consider infinitely many views on the same ontology. These complexity results are shown for situations when the imported symbols include roles. It is natural to ask whether the complexity drops when the imported symbols are concept names. The second parameter which may influence the complexity of reasoning is the semantics which is \u2018imported\u2019. In the proposed mechanism, importing the semantics of symbols is implemented via agreement of models of ontologies. One can consider refinements of this mechanism, e.g., by carefully selecting the classes of models of ontologies which must be agreed. The third way to decrease the complexity is to restrict the language in which ontologies are formulated. We conjecture that reasoning with cyclic imports is decidable for ontologies formulated in the family of DL-Lite."}], "references": [{"title": "In Modular Ontologies", "author": ["Jie Bao", "George Voutsadakis", "Giora Slutzki", "Vasant Honavar. Package-based description logics"], "venue": "pages 349\u2013371.", "citeRegEx": "Bao et al.. 2009", "shortCiteRegEx": null, "year": 2009}, {"title": "Distributed description logics: Assimilating information from peer sources", "author": ["Alexander Borgida", "Luciano Serafini"], "venue": "J. Data Semantics, pages 153\u2013184,", "citeRegEx": "Borgida and Serafini. 2003", "shortCiteRegEx": null, "year": 2003}, {"title": "OWL 2: The next step for OWL", "author": ["Bernardo Cuenca Grau", "Ian Horrocks", "Boris Motik", "Bijan Parsia", "Peter F. Patel-Schneider", "Ulrike Sattler"], "venue": "J. Web Sem., 6(4):309\u2013322,", "citeRegEx": "Cuenca Grau et al.. 2008", "shortCiteRegEx": null, "year": 2008}, {"title": "Alignment-based modules for encapsulating ontologies", "author": ["Euzenat et al", "2007] J\u00e9r\u00f4me Euzenat", "Antoine Zimmermann"], "venue": "In Proceedings of the 2nd International Workshop on Modular Ontologies,", "citeRegEx": "al. et al\\.,? \\Q2007\\E", "shortCiteRegEx": "al. et al\\.", "year": 2007}, {"title": "Reasoning over ontologies with hidden content: The import-by-query approach", "author": ["Bernardo Cuenca Grau", "Boris Motik"], "venue": "J. Artif. Intell. Res. (JAIR), pages 197\u2013255,", "citeRegEx": "Grau and Motik. 2012", "shortCiteRegEx": null, "year": 2012}, {"title": "In Modular Ontologies", "author": ["Bernardo Cuenca Grau", "Bijan Parsia", "Evren Sirin. Ontology integration using epsilonconnections"], "venue": "pages 293\u2013320.", "citeRegEx": "Grau et al.. 2009", "shortCiteRegEx": null, "year": 2009}, {"title": "mapping and importing", "author": ["Martin Homola", "Luciano Serafini. Towards formal comparison of ontology linking"], "venue": "Description Logics,", "citeRegEx": "Homola and Serafini. 2010", "shortCiteRegEx": null, "year": 2010}, {"title": "11th Int", "author": ["Yevgeny Kazakov. RIQ", "SROIQ are harder than SHOIQ. In Proc"], "venue": "Conf. on Principles of Knowledge Representation and Reasoning (KR\u201908), pages 274\u2013284. AAAI Press,", "citeRegEx": "Kazakov. 2008", "shortCiteRegEx": null, "year": 2008}, {"title": "Semantic import: An approach for partial ontology reuse", "author": ["Jeff Z. Pan", "Luciano Serafini", "Yuting Zhao"], "venue": "Peter Haase, Vasant Honavar, Oliver Kutz, York Sure, and Andrei Tamilin, editors, WoMO, volume 232 of CEUR Workshop Proceedings. CEUR-WS.org,", "citeRegEx": "Pan et al.. 2006", "shortCiteRegEx": null, "year": 2006}, {"title": "Ontology matching: State of the art and future challenges", "author": ["Pavel Shvaiko", "Jerome Euzenat"], "venue": "IEEE Trans. on Knowl. and Data Eng., 25(1):158\u2013 176, January", "citeRegEx": "Shvaiko and Euzenat. 2013", "shortCiteRegEx": null, "year": 2013}, {"title": "The OBO foundry: coordinated evolution of ontologies to support biomedical data integration", "author": ["Richard H Scheuermann", "Nigam Shah", "Patricia L Whetzel", "Suzanna Lewis"], "venue": "Nat Biotech,", "citeRegEx": "Scheuermann et al\\.,? \\Q2007\\E", "shortCiteRegEx": "Scheuermann et al\\.", "year": 2007}], "referenceMentions": [{"referenceID": 2, "context": "Logic-based ontology languages such as OWL and OWL 2 [Cuenca Grau et al., 2008] are becoming increasingly popular means for representation, integration, and querying of information, particularly in life sciences, such as Biology and Medicine.", "startOffset": 53, "endOffset": 79}, {"referenceID": 6, "context": "see an overview in [Homola and Serafini, 2010]) consider a model of a combination of ontologies as a tuple of interpretations, one for each ontology, with correspondence relations between the interpretation domains.", "startOffset": 19, "endOffset": 46}, {"referenceID": 1, "context": "The constructs are bridge rules in DDL [Borgida and Serafini, 2003], local/foreign symbol labels in PDL [Bao et al.", "startOffset": 39, "endOffset": 67}, {"referenceID": 0, "context": "The constructs are bridge rules in DDL [Borgida and Serafini, 2003], local/foreign symbol labels in PDL [Bao et al., 2009] and the approach of [Pan et al.", "startOffset": 104, "endOffset": 122}, {"referenceID": 8, "context": ", 2009] and the approach of [Pan et al., 2006], link properties in E-connections [Grau et al.", "startOffset": 28, "endOffset": 46}, {"referenceID": 5, "context": ", 2006], link properties in E-connections [Grau et al., 2009], and alignment relations in [Euzenat et al.", "startOffset": 42, "endOffset": 61}, {"referenceID": 9, "context": "The last approach originates from the field of ontology matching [Shvaiko and Euzenat, 2013], which is a neighbour topic lying out of the scope of our paper, since it concentrates on computing matchings, but not on reasoning with them.", "startOffset": 65, "endOffset": 92}, {"referenceID": 4, "context": "The approach of [Grau and Motik, 2012] tries to bridge this gap by putting restrictions on combined ontologies, i.", "startOffset": 16, "endOffset": 38}, {"referenceID": 0, "context": "This resembles the approaches [Bao et al., 2009; Pan et al., 2006], although theoretically, we do not distinguish between local and external symbols in ontologies (we note that this feature can be easily integrated).", "startOffset": 30, "endOffset": 66}, {"referenceID": 8, "context": "This resembles the approaches [Bao et al., 2009; Pan et al., 2006], although theoretically, we do not distinguish between local and external symbols in ontologies (we note that this feature can be easily integrated).", "startOffset": 30, "endOffset": 66}, {"referenceID": 7, "context": "The result is based on the construction from the proof of Theorem 7 in [Kazakov, 2008], where it is shown that the word problem for 1exp(n)-space bounded ATMs, for n > 0, reduces to satisfiability of R-ontologies.", "startOffset": 71, "endOffset": 86}, {"referenceID": 7, "context": "The result is based on the construction from the proof of Theorem 5 in [Kazakov, 2008], where it is shown that the N2ExpTime-hard problem of existence of a domino tiling of size 2exp(n) \u00d7 2exp(n), n > 0, reduces to satisfiability of ROIF-ontologies.", "startOffset": 71, "endOffset": 86}], "year": 2017, "abstractText": "We propose a new mechanism for integration of OWL ontologies using semantic import relations. In contrast to the standard OWL importing, we do not require all axioms of the imported ontologies to be taken into account for reasoning tasks, but only their logical implications over a chosen signature. This property comes natural in many ontology integration scenarios, especially when the number of ontologies is large. In this paper, we study the complexity of reasoning over ontologies with semantic import relations and establish a range of tight complexity bounds for various fragments of OWL.", "creator": "LaTeX with hyperref package"}}}