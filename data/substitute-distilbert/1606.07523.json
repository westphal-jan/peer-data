{"id": "1606.07523", "review": {"conference": "arxiv", "VERSION": "v1", "DATE_OF_SUBMISSION": "24-Jun-2016", "title": "An Axiomatic Approach to Routing", "abstract": "infrastructure delivery linking a network of agents is a key issue involving large, complex systems sometimes need to do so in a predictable, straightforward manner. the delivery quantum information in such multi - agent systems is accurately implemented through routing protocols that explore how information connects through the network. different routing protocols exist each with its own benefits, but it is generally unclear which properties can be successfully combined within a given algorithm. we approach this problem from the axiomatic point of view, i. e., we try to establish what guarantees the properties we would seek to see inside such a system, and examine the different properties which uniquely define common routing algorithms extant today.", "histories": [["v1", "Fri, 24 Jun 2016 00:32:22 GMT  (1567kb,D)", "http://arxiv.org/abs/1606.07523v1", "In Proceedings TARK 2015,arXiv:1606.07295"]], "COMMENTS": "In Proceedings TARK 2015,arXiv:1606.07295", "reviews": [], "SUBJECTS": "cs.GT cs.AI cs.NI cs.SI", "authors": ["omer lev", "moshe tennenholtz", "aviv zohar"], "accepted": false, "id": "1606.07523"}, "pdf": {"name": "1606.07523.pdf", "metadata": {"source": "CRF", "title": "An Axiomatic Approach to Routing", "authors": ["Omer Lev", "Moshe Tennenholtz", "Aviv Zohar"], "emails": ["omerl@cs.huji.ac.il", "moshet@ie.technion.ac.il", "avivz@cs.huji.ac.il"], "sections": [{"heading": null, "text": "R. Ramanujam (Ed.): TARK 2015 EPTCS 215, 2016, pp. 194\u2013206, doi:10.4204/EPTCS.215.14\nc\u00a9 O. Lev, M. Tennenholtz & A. Zohar This work is licensed under the Creative Commons Attribution License."}, {"heading": "An Axiomatic Approach to Routing", "text": "Omer Lev Hebrew University and\nMicrosoft Research Israel\nomerl@cs.huji.ac.il\nMoshe Tennenholtz Technion\nHaifa, Israel moshet@ie.technion.ac.il\nAviv Zohar Hebrew University and\nMicrosoft Research Israel\navivz@cs.huji.ac.il\nInformation delivery in a network of agents is a key issue for large, complex systems that need to do so in a predictable, efficient manner. The delivery of information in such multi-agent systems is typically implemented through routing protocols that determine how information flows through the network. Different routing protocols exist each with its own benefits, but it is generally unclear which properties can be successfully combined within a given algorithm. We approach this problem from the axiomatic point of view, i.e., we try to establish what are the properties we would seek to see in such a system, and examine the different properties which uniquely define common routing algorithms used today.\nWe examine several desirable properties, such as robustness, which ensures adding nodes and edges does not change the routing in a radical, unpredictable ways; and properties that depend on the operating environment, such as an \u201ceconomic model\u201d, where nodes choose their paths based on the cost they are charged to pass information to the next node. We proceed to fully characterize minimal spanning tree, shortest path, and weakest link routing algorithms, showing a tight set of axioms for each."}, {"heading": "1 Introduction", "text": "The proper way to distribute power, disseminate information, or establish hierarchies in organizations is an issue encountered whenever there is a large enough network of agents that needs to interact in an orderly manner. For example, when trying to establish efficient lines of communications between agents which all need to reach a central hub, there are various properties we may desire in our system. We might want the system to be able to handle small changes in connections without causing disruptions throughout the network; we may want it to be flexible when we change its parameters so that various routing options are possible, and more. Indeed, the search for the right communication structure has played a role in early work on the foundations of the area of multi-agent systems [7, 15, 5], based on classical work in organization theory [8, 16].\nMore concretely, examining networking, one of the most important aspects of the design of a communication network is the way it routes information through its physical links. Routing protocols, such as those used in packet switching networks, circuit switching, or ad-hoc networks are designed with many goals in mind. They must adapt to changing network conditions, withstand failures, and operate in a distributed fashion while constructing a \u201cgood\u201d routing scheme. Nodes in the network are, in fact, autonomous agents that can control the flow of information through them and can choose to forward it according to their own considerations. Agents may be controlled by different economic entities (such as in the internet, where different internet service providers control some of the routers), and may route according to complex preferences that are derived from economic relations [9, 14]. Even in the cooperative local-network setting where all routers are controlled by a single network operator, different considerations such as bandwidth utilization, latency, and the risks of link failures come into play.\nO. Lev, M. Tennenholtz & A. Zohar 195\nThe multitude of previous treatments of the problem suggest a myriad of routing protocols, each with their own benefits and shortcomings. In contrast, this work examines the routing problem through the lens of the axiomatic approach, which seeks to formulate different elementary properties that are desirable in this context. One approach to an axiomatic treatment, which we take in this work, is that of characterization: a set of elementary properties is shown to uniquely determine some routing algorithm, and hence the routing outcome on any specific graph. From the designer\u2019s perspective, such a result implies a great deal \u2013 any additional property that is not already achieved by the protocol cannot be added to it without giving up on another basic property. The approach thus provably bounds the design space of algorithms and makes explicit the choices made when selecting one over the other.\nAs we are not aware of any previous axiomatic treatment of routing, we focus our attention on a domain that most closely resembles the internet as it is built today, and focus our efforts within this domain on what one may consider classic, or natural routing schemes. In particular, we assume that routing choices are independent of the congestion on links (such is the case in the internet, where routing protocols such as BGP first establish paths, and congestion control protocols such as the one embedded into TCP manage the load on each flow\u2019s path and ensures that rates are throttled to match the bottleneck of the flow). Furthermore, as with internet routing where routers decide on the next hop of each packet using a routing table that maps its destination to the next hop, routing choices made to different destinations are done independently. Finally, packets addressed to the same destination are not split between different paths, and are routed in the same manner regardless of their source. These choices, which greatly restrict the power of any routing algorithm may seem arbitrary, but are in fact derived from real-world design considerations. For example, the need to quickly forward packets towards their destination at each router mandated that most routing be done in specialized hardware. No complex computation is performed (only a lookup into a routing table) and no deep inspection of the packet is performed. Keeping routing simple has made it fast and robust.\nMore advanced routing schemes that have been proposed in the literature may split traffic, allow routing choices to depend on the source of the packet or its previous hops, or may even change the routes in response to link congestion. These are notoriously difficult to coordinate and to implement. We leave treatment of these more advanced schemes to future work.\nOur set of axioms or \u201cdesirable properties\u201d are also motivated by similar considerations. For example, one of the fundamental features we desire in our algorithms is one of robustness, which is the ability of a system to endure changes in the network without creating disruption in parts of the network that have not undergone changes.\nA different feature, which might be desirable only in certain cases, is \u201cfirst hop\u201d, which is particularly relevant for diffuse networks with independent nodes. It means, broadly, that network nodes care only about their immediate surroundings, or the \u201cnext step\u201d in the network data transfer. Such a property might be relevant when nodes pursue an \u201ceconomic model\u201d, paying for transferring information, and hence only caring about the cost they need to pay to move their information to the next node, and following that, they have no preference on the route the information should pass en route to its destination. Other properties, desirable only in some cases include an indifference between two parallel paths, as long as they change their weights by the same amount concurrently.\nUltimately, after devising our axioms we successfully fully characterized 3 natural routing algorithms:\n\u2022 Minimum spanning tree: A tree with the smallest overall weight is a result, among others, of the \u201cfirst hop\u201d axiom (the \u201ceconomic model\u201d).\n\u2022 Shortest path: A tree where each node has the shortest possible path to its destination is a result,\n196 An Axiomatic Approach to Routing\namong other axioms, of viewing as immaterial to the routing decision any parallel paths which change their weight by the same amount.\n\u2022 Weakest link tree: A tree where each node takes the path with the maximal \u201clightest\u201d weight available to it. This results from considering higher edge-weights as beneficial (e.g., representing bandwidth which one wishes to increase in contrast to delay that one wishes to decrease), and from considering designers that choose between parallel paths in a slightly different manner.\nWe proceed to review relevant previous research and then continue to define our model and expand on the axioms, which are motivated with a brief explanation and presented formally. Following that we show (and prove) our characterization of the minimal spanning tree, the shortest path tree, and the weakest link tree."}, {"heading": "2 Related Work", "text": "In the past decade, as routers became more flexible, research on routing (particularly inter-domain) and its techniques has been rekindled and extended beyond the technical issues dealt with in the past. The harbinger for much of this research was [10], which was further expanded by several researchers (see updating report here: http://www.cl.cam.ac.uk/~tgg22/metarouting/ ). However, this line of research, while introducing many interesting mathematical and theoretical concepts to the field of routing, has refrained from phrasing its models as requirements by users, to be filled by various routing algorithms.\nThe axiomatic approach, which does approach problems with this outlook, has been first introduced in CS contexts as extensions to the classical theory of choice [4], and has been applied to ranking systems [1, 2] and trust systems [3], as well as to other multi-agent setups such as multi-level marketing [6].\nIn relation to networking, usage of the axiomatic approach has generally been concentrated in two main areas: applying to general graph theory (e.g., [18]) or in more technical approaches to networks: papers such as [13] which deal with particular wireless models and implementations, and, somewhat closer to our line of work, [12], whose basic axioms are basic enough to be covered through our models, while the routing related axioms involve various assumptions on how routers work (tables, etc.), which we refrain from approaching in our more abstract considerations.\nFurther work connecting networking and the axiomatic approach has focused on particular instances of problems: [11] try to use the axiomatic approach to extract the costs of multicast routing and decide who is to pay them. Trust networks and social networks (e.g., recommendation systems) have been analysed many times using the axiomatic approach to understand their desirable features and better understand desirable algorithms in these cases [17, 3]. However, none of these papers deal with the basic routing mechanism by which messages and information arrive at each node."}, {"heading": "3 Setup", "text": "Before introducing our axioms, we begin by setting up our routing model. It is, naturally, only a simplification of routing as it is done in large, complex networks such as the internet, but we believe it is robust enough to display many networking characteristics.\nOur world will be a weighted graph G(V,E,W ) and a destination d, where V is a set of nodes, E is a set of edges, and W is a function assigning weights to edges, and d \u2208V . A routing solution is a tree T over that graph, as defined below (we do not concern ourselves with non-tree routing, as passing through the same node several times does not serve any purpose).\nO. Lev, M. Tennenholtz & A. Zohar 197\nDefinition 1. A routing function fd : G \u2192T is a function from connected weighted graph G(V,E,W ) \u2208 G in which d \u2208V , to a tree T (V,E,W ) \u2208T such that T \u2286 G.\nWe can look at the graph as one with directed edges if we consider each edge\u2019s direction to be the one pointing at the vertex from which there is a path to d (without going through the same edge again).\nWe discuss 3 different routing options:\n\u2022 Minumum spanning tree (MST): a tree connecting all nodes in the graph with the minimal weight, i.e., for every tree T \u2032 \u2286 G that encompasses all of G\u2019s nodes, \u2211e\u2208 fd(G)W (e)\u2264 \u2211e\u2208T \u2032W (e).\n\u2022 Shortest path: each node is connected to d using a shortest length path in the graph. For every node v \u2208V , let (e1, . . . ,es) be a path without cycles from v to d such that ei \u2208 T , and let (e\u20321, . . . ,e\u2032k) a different path from v to d, then \u2211si=1W (ei)\u2264 \u2211kj=1W (e\u2032j).\n\u2022 Weakest link: looking at each potential path from each node to d, we give each path the value of its smallest valued edge. The routing tree will contain, for each node the path to d with the maximal value. So for every node v\u2208V , let (e1, . . . ,es) be a path without cycles from v to d such that ei \u2208 T , and let (e\u20321, . . . ,e \u2032 k) a different path from v to d, then min1\u2264i\u2264sW (ei)\u2265min1\u2264 j\u2264k W (e\u2032j).\nNotice that while for the minimal spanning tree and shortest path routing options weights are interpreted as costs (e.g. payments, delays), so these algorithms seek to minimize them, the weakest link views weights as measure for capability such as bandwidth, so seeks to maximize the weight."}, {"heading": "4 Axioms", "text": "Having introduced our framework, we introduce our axioms, which are, basically, desirable properties of the function fd (in the axioms below we use f , as these are properties which do not depend on a specific d destination).\nRobustness indicates the routing being quite unsusceptible to changes \u2013 only if a path in the routing is destroyed, will it require any change. As indicated in Figure 1, the path from node a changes, but not from node b.\nAxiom 1 (Robustness). f is robust if removing an edge e\u2208E from G(V,E,W ), yielding G\u2032, then for every vertex v \u2208 V : if the cycle-less path from v to d in fd(G) did not contain e, then this is still the selected path according to fd(G\u2032) (see example Figure 1).\nThe following axioms deal with global changes to the graph weights, additive or multiplicative:\nAxiom 2 (Scale Invariance). f is scale invariant if for a graph G(V,E,W ), for any positive scalar \u03b1 \u2208R+, defining G\u2032(V,E,\u03b1W ), for every d \u2208V , fd(G) = fd(G\u2032).\nAxiom 3 (Shift Invariance). f is shift-invariant if for a graph G(V,E,W ), for any \u03b1 \u2208 R, defining G\u2032(V,E,\u03b1 +W ), for every d \u2208V , fd(G) = fd(G\u2032).\nThe monotonicity axiom below seeks to establish that if an edge does not have to be in every tree, if its weight increases enough, it will not be a part of the routing tree:\nAxiom 4 (Monotonicity). f is monotone if for a graph G(V,E,W ) and d \u2208V , for e\u2032 \u2208 E, if e\u2032 /\u2208 fd(G), then for every G\u2032(V,E,W \u2032), there is a value MW \u2032 such that for W \u2032\u2032 such that W \u2032\u2032(e) = W \u2032(e) for all e \u2208 E \\{e\u2032} and W \u2032\u2032(e\u2032) \u2265MW \u2032 , e\u2032 /\u2208 fd(G\u2032\u2032(V,E,W \u2032\u2032)). Similarly, we can define the opposite direction, an edge in fd(G) will not be in the routing tree if it has a small enough value; we will refer to it as inverse monotonicity.\n198 An Axiomatic Approach to Routing\nWhile the phrasing of the following axiom is somewhat technical, the first hop axiom below simply means that if a vertex has several potential edges to connect to a path to d, the routing only depends on the weights of the edges connecting it to these potential paths, and unrelated to weights of other edges in the graph.\nAxiom 5 (First Hop). Let G(V,E,W ) be a weighted graph and let v,d \u2208 V and d 6= v. Suppose C = {c1, . . . ,cs} are the vertices such that (v,ci) \u2208 E and there is a path from ci to d in fd(G) which does not pass through v. W.l.o.g., let (v,c1) be the first step in the path from v to d in fd(G). We say that f satisfies first hop if for any W \u2032 such that W \u2032(v,ci) =W (v,ci) and if for all ci \u2208C fd(G\u2032(V,E,W \u2032)) contains paths to d from ci that do not pass through v, and there is no c\u2032 /\u2208 C such that (v,c\u2032) \u2208 E and there is a path from c\u2032 to d in fd(G\u2032), then the cycle-less path from v to d in fd(G\u2032(V,E,W \u2032)) starts with (v,c1).\nThe rational for the first hop axiom is to capture a common economic model, in which edge weights indicate the cost of passing information. In distributed networks, such as the internet, each agent only minds the amount it needs to pay to transfer its data to the next node, not caring about the path the data will take from there.\nPath cardinal/ordinal invariance intends to see the planner\u2019s considerations when multiple paths exist. As there might be many potential behaviours, we only limit ourselves to examining the narrow case of what the planner considers important when there is only one cycle in the graph (i.e., the axiom does not strongly enforce a general behaviour on the planner). Cardinal invariance deals with adding the same weight to potential paths, and how it does not effect the routing. Ordinal invariance similarly does not change the routing if all that has changed are the weights of the competing paths, as long as edges in each path maintain their relative position.\nAxiom 6 (Path Cardinal Invariance). Let G(V,E,W ) be a graph which contains a single cycle, d \u2208 V , and let d 6= v \u2208 V be a part of this cycle. Hence there are two alternative paths from v to d \u2013 p1 \u2282 E and p2 \u2282 E (one of them is actually a part of fd(G)). f is path cardinal invariant if it treats those paths as such: Choosing an edge e\u2032 \u2208 p1 and e\u2032\u2032 \u2208 p2, for any \u03b1 \u2208 R, we define W \u2032 as W (e) = W \u2032(e) for e \u2208 E \\{e\u2032\u222a e\u2032\u2032} and W \u2032(e\u2032) =W (e\u2032)+\u03b1 and W \u2032(e\u2032\u2032) =W (e\u2032\u2032)+\u03b1 , the path from v to d will not change\nO. Lev, M. Tennenholtz & A. Zohar 199\nF\"1 1 2 1 1 2 2 3 2 3\n1 1\n2\n1 1\n2 2\n4\n2\n4\n1 1 2 4 5\n1 1 2 1 1\n2 5\n1\n2 5\n1 1\n2 5\n4 1\n5 5 fd =\n1 1\n2 5\n1 1\n3 5\n=\n( ) )\nfd ( )\nfd (\nfd ( )\nd d\nd d\nd d\nd d\nd\nd d\nd\nd d d d\nFigure 2: Selected path does not change when each path from the top node is added 2.\nF\"1 1 2 1 1\n2 2\n3\n2\n3\n1 1\n2\n1 1\n2 2\n4\n2\n4\n1 1\n2\n4\n5\n1 1\n2\n1 1\n2 5\n1\n2 5\n1 1\n2 5\n4 1\n5 5\nfd =\n1 1\n2 5\n1 1\n3 5 =\n( ) )\nfd ( )\nfd (\nfd ( )\nd d\nd d\nd d\nd d\nd\nd d\nd\nd d\nd d\nFigure 3: Selected path does not change when the bottom right edge is slightly increased.\nin fd(G(V,E,W \u2032)) (see example Figure 2).\nAxiom 7 (Path Ordinal Invariance). Let G(V,E,W ) be a graph which contains a single cycle, d \u2208 V , and let d 6= v \u2208 V be a part of this cycle. Hence there are two alternative paths from v to d \u2013 p1 \u2282 E and p2 \u2282 E (one of them is actually a part of fd(G)). f is path ordinal invariant if it treats those paths as such: Taking an edge e\u2032 \u2208 pi (i \u2208 {1,2}) that is not maximal or minimal in p1 \u222a p2, we define W \u2032 as W (e) = W \u2032(e) for e \u2208 E \\ {e\u2032} and allow W\u2019(e\u2019) to be any value it chooses as long as for every e\u2032\u2032 \u2208 pi if W (e\u2032) \u2265W (e\u2032\u2032) then W \u2032(e\u2032) \u2265W \u2032(e\u2032\u2032) = W (e\u2032\u2032), and the path from v to d will not change in fd(G(V,E,W \u2032)) (see example Figure 3)."}, {"heading": "5 Minimal Spanning Tree", "text": "Theorem 1. A robust, scale invariant, shift invariant, monotone, first-hop (axioms 1-5) routing function f , for any graph G(V,E,W ) and d \u2208V , fd(G) will always be a minimal spanning tree of G. Reminder 1. As our minimal spanning tree proof relies on the Kruskal algorithm, we will briefly describe it:\n1. Order edges according to weights\n2. Define a set S, initialized to the empty set.\n3. Going over edges from lightest to heaviest, if the set S\u222a{e} has no cycles, S = S\u222a{e}.\nProof of Theorem 1. We shall prove the theorem using complete induction on the number of non-cycle lightest edges in the tree fd(G). Hence, we shall begin by proving that the lightest edge in the graph G is in the routing tree T = fd(G). Assuming we are mistaken, let us consider the lightest edge in G \u2013 e = (u,v) \u2208 E \u2013 and assume e /\u2208 T . We create G\u2032(V,E \u2032,W ) = fd(G)\u222a{e}, and thanks to the robustness axiom, we know fd(G) = fd(G\u2032).\n200 An Axiomatic Approach to Routing\nIf v\u2019s path to d in fd(G\u2032) goes through u, we shall switch the nodes\u2019 names, so that v\u2019s path to d does not pass through u. As e is not in fd(G\u2032), there is an edge e\u2032 = (u,s) that is the first step from u towards d. We now define x =W (e) and y =W (e\u2032), and due to our minimality assumption, we know x < y.\nUsing the monotonicity axiom, we change graph weights to W \u2032 that is identical to W except that e\u2032 weight is large enough so that we create a tree T \u2032 in which there is a path from s to d that does not pass through u (e.g., the same path that is in fd(G\u2032)), and v passes through u towards d (i.e., e\u2208 T \u2032). We define y\u2032 =W \u2032\u2032(e\u2032).\nUsing scale invariance we now multiply all edges by y\u2212xy\u2032\u2212x , and using shift invariance, we add to all edges y\u2212 y\u2212xy\u2032\u2212x y \u2032. This means the weight of edge e is now\nx y\u2212 x y\u2032\u2212 x + y\u2212 y\u2212 x y\u2032\u2212 x y\u2032 = (x\u2212 y\u2032) y\u2212 x y\u2032\u2212 x\u2032 + y = x\nWhile the weight of edge e\u2032 is now\ny\u2032 y\u2212 x y\u2032\u2212 x + y\u2212 y\u2212 x y\u2032\u2212 x y\u2032 = y\nHowever, the routing tree contains e and not e\u2032, and a path from both v and s to d, contradicting the \u201cfirst hop\u201d axiom, which should have caused e\u2032 to be chosen over e, as the edge weights for e and e\u2032 have not changed.\nWe now turn to the induction step \u2013 we assume all bottom weighted k\u22121 edges that do not create a cycle are included in the tree T = fd(G), and we now seek to include the k-lightest edge that does not create a cycle. We pursue a similar path as we did as previously, and we shall mark the edge as e = (u,v), and assume it is not included in T = fd(G), and instead e\u2032 = (u,s) is included, and there is a path to d from v and s. Again, we create G\u2032(V,E \u2032,W ) = fd(G)\u222a{e}, and thanks to the robustness axiom, we know fd(G) = fd(G\u2032). Using monotonicity we create weights W \u2032 that just increase e\u2032 weight, so that G\u2032\u2032 = (V,E \u2032,W \u2032) has T \u2032 = fd(G\u2032\u2032) which include the same bottom k which do not create cycles (from the induction hypothesis), and u reaches d via the edge e. Recall that we know the bottom k\u2212 1 edges will definitely be in fd(G\u2032\u2032), and we wish to ensure that there will still be a path from v to d and from s to d. The same arguments used in the initial step of the induction ensure that, as well as returning the weights of e and e\u2032 to their values in G, while routing u through e and not e\u2032 in the routing tree, reaching a contradiction with our initial assumption due to the \u201cfirst hop\u201d axiom.\nWhat is left is to show MST indeed follows our axioms:\nRobustness (axiom 1) Trivial thanks to the Kruskal algorithm \u2013 if the removed edge (e\u2032) was not in the routing tree, it means it was not selected in the first place, and hence the same routing tree will be chosen. If it was, then any edge added after its removal (e\u2032\u2032) closed a cycle with it, and hence, if affecting the edges in any path that did not include e\u2032, it means e\u2032\u2032 closes a cycle with them, hence e\u2032 would have closed a cycle as well.\nScale invariance (axiom 2) Multiplying all edges by a fixed amount does not change their order in relation to others, hence Kruskal will choose the same routing tree.\nShift invariance (axiom 3) Adding a fixed amount to all edges does not change their order in relation to others, hence Kruskal will choose the same routing tree.\nMonotonicity (axiom 4) Giving an edge the maximal possible edge value ensures it will only be selected if no other edge can replace it \u2013 and if there exists a tree without some edge, we know it will be chosen before.\nO. Lev, M. Tennenholtz & A. Zohar 201\n\u201cFirst hop\u201d (axiom 5) Kruskal ensures that if there are the same possible options of connecting a node to the tree, only the lightest edge will be chosen."}, {"heading": "6 Shortest Path", "text": "Theorem 2. A robust, scale invariant, monotone, and path cardinal invariant (axioms 1-2, 4, 6) routing function f , for any graph G(V,E,W ) and d \u2208V , fd(G) will always be a shortest path graph to d of G.\nProof. Suppose T = fd(G) is not a shortest path routing tree. Let u be the closest node to d that is not connected to d with a shortest path. Hence, there is an edge e = (u,v) which will make u\u2019s path a shortest path one (v, being closer to d, is already connected to d with a shortest path), but e /\u2208 T , and instead e\u2032 = (u,s) is included in T . Using robustness, we create G\u2032(V,E \u2032,W ) = T \u222a e. G\u2032 contains two alternate paths from u to d, and fd(G) = fd(G\u2032).\nUsing path cardinal invariant, we \u201cmove\u201d all the value of the edges on each path to it\u2019s \u201csource\u201d, i.e., to (u,v) or (u,s) (we do this by adding to the weight of (u,v) and (u,s) the value of \u2211e\u2208(p1\u222ap2)\\(p1\u2229p2)W (e)\u2212W ((u,v))\u2212W ((u,s)), and reduce from W ((u,s)) the weight of all edges of the path from u to d through (u,v) and vice versa). We shall refer to W (e) = x and W (e\u2032) = y. We now use monotonicity to create a new tree, with e but without e\u2032, with the graph\u2019s weight now W \u2032 (identical to W except for increase in e\u2032 weight). Once again, we transfer all value of the paths from u to d to e and e\u2032 respectively, with everything else being 0. Now, using monotonicity, we increase the weight of e\u2032 above that of e, with the weight of (u,v) being x (its path weights have not changed) and (u,s) being y\u2032.\nFinally, we multiply all edges by y\u2212xy\u2032\u2212x (using scale invariance), and using path cardinal invariance, we add to e and e\u2032 the amount y\u2212 y\u2212xy\u2032\u2212x y \u2032. The weight of e is now:\nx y\u2212 x y\u2032\u2212 x + y\u2212 y\u2212 x y\u2032\u2212 x y\u2032 = (x\u2212 y\u2032) y\u2212 x y\u2032\u2212 x + y = x\nWhile the weight of edge e\u2032 is now\ny\u2032 y\u2212 x y\u2032\u2212 x + y\u2212 y\u2212 x y\u2032\u2212 x y\u2032 = y\nAs all edges are the same weight as before, therefore we reached a contradiction regarding the inclusion of e\u2032 instead of e (whose weights are the same as well).\nWe will now show shortest path follows our axioms: Robustness (axiom 1) Removing an edge, at most, eliminates a potential path from a node to the desti-\nnation d. If the path was not on the shortest path, the previous shortest path remains so.\nScale invariance (axiom 2) Multiplying by a fixed amount all edges means the value of each path is multiplied by the same amount, maintaining their relative ordering, hence what was shortest remains so.\nMonotonicity (axiom 4) Giving an edge the value of the sum of all other edges ensures it will only be selected if no other path can replace it \u2014 and if there exists a tree without some edge, we know there is such a path.\nPath cardinal invariance (axiom 6) Having multiple paths from a node, adding the same amount to each path doesn\u2019t change the ordering of the paths (i.e., which path is \u201cshorter\u201d than another), hence selection of shortest path will be identical.\n202 An Axiomatic Approach to Routing"}, {"heading": "7 Weakest Link", "text": "Theorem 3. A robust, scale invariant, shift invariant, inverse monotone, and path ordinal invariant (axioms 1-4, 7) routing function f , for any graph G(V,E,W ) and d \u2208V , fd(G) will always be a weakest link graph to d of G.\nProof. Suppose T = fd(G) is not a weakest link routing tree. Let u be a node that requires just one edge missing from T that is not connected to d with a weakest link1, and we mark this edge as e = (u,v). Since e /\u2208 T , there is an edge instead e\u2032 = (u,s) that is included in T . Using robustness, we create G\u2032(V,E \u2032,W ) = T \u222a e. G\u2032 contains two alternate paths from u to d, and fd(G) = fd(G\u2032).\nUsing path ordinal invariant, we change the value of all edges on each alternate path from u to d to its weakest link value (we do this by taking the 2nd smallest edge in the path and changing its value to that of the weakest link, which by the axiom does not change the path chosen, and we proceed doing so to all edges on the path). We shall refer to W (e) = x and W (e\u2032) = y (from assuming u is not in a weakest link path we know x > y). Using inverse monotonicity, we create W \u2032 identical to W except for e\u2032 weight, that is low enough that it is not included in fd(G\u2032\u2032(V,E \u2032,W \u2032)). Once again, we change the values of the paths from u to d to their weakest link value (this is only relevant for the path through e\u2032, as the other path has not changed). We term the the new value for e\u2032 \u2013 y\u2032, and we know x > y\u2032.\nFinally, we multiply all edges by y\u2212xy\u2032\u2212x (using scale invariance), and using shift invariance, we add to all edges y\u2212 y\u2212xy\u2032\u2212x y \u2032. Edge e now has the weight:\nx y\u2212 x y\u2032\u2212 x + y\u2212 y\u2212 x y\u2032\u2212 x y\u2032 = (x\u2212 y\u2032) y\u2212 x y\u2032\u2212 x + y = x\nWhile the weight of edge e\u2032 is now\ny\u2032 y\u2212 x y\u2032\u2212 x + y\u2212 y\u2212 x y\u2032\u2212 x y\u2032 = y\nAs all edges are the same weight as before, hence we reached a contradiction regarding the inclusion of e\u2032 instead of e.\nWe shall now show weakest link also follows our axioms:\nRobustness (axiom 1) Removing an edge, at most, eliminates a potential path from a node to the destination d. If the path was not a weakest link, the previous weakest link remains so.\nScale invariance (axiom 2) Multiplying by a fixed amount all edges means the value of each path (its smallest edge) is multiplied by the same amount, maintaining their relative ordering, hence what was weakest link remains so.\nShift invariance (axiom 3) Adding a fixed amount all edges means the value of each path (its smallest edge) is added the same amount, maintaining their relative ordering, hence what was weakest link remains so.\nMonotonicity (axiom 4) Giving an edge the value of the minimum of all other edges ensures it will only be selected if no other path can replace it \u2014 and if there exists a tree without some edge, we know there is such a path.\n1such a node exists as there is a node not connected by weakest link in T , hence adding the necessary path for that node, taking the node just before the final edge that we add to T (i.e., closest to d), answers our criterion.\nO. Lev, M. Tennenholtz & A. Zohar 203\nF\"1 1\n2\n1 1\n2 2\n3\n2\n3\n1 1\n2\n1 1\n2 2\n4\n2\n4\n1 1\n2\n4\n5\n1 1\n2\n1 1\n2 5\n1\n2 5\n1 1\n2 5\n4 1\n5 5 fd =\n1 1\n2 5\n1 1\n3 5 =\n( ) )\nfd ( )\nfd (\nfd ( )\nd d\nd d\nd d\nd d\nd\nd d\nd\nd d\nd d\nFigure 4: Lack of robustness results in a minimal spanning tree/shortest path routing (above) ending up in a routing tree that is weakest link but not MST or shortest path (below).\nPath ordinal invariance (axiom 7) Having multiple paths from a node, the weakest link edge (the one with smallest value) of the selected path can\u2019t become lower than the weakest link of the nonselected path, hence weakest link choice does not change."}, {"heading": "8 Tightness of Axioms", "text": "We will now show that the above characterizations are tight, and that without each axiom, other routing algorithms become possible.\nTheorem 4. All MST axioms (1-5) are necessary, and without even one of them, other routing algorithms are possible.\nProof. Going over all MST axioms, we detail potential algorithms which work with all axioms except that one, and are not MST. We will refer below to each relaxed axiom, and to the new/additional system which can obtained by that relaxation:\nRobustness See example in Figure 4. Apply MST to any other graph that is not a linear transformation of the bottom one.\nScale invariance See example in Figure 5. On all graphs except those which contain as a subgraph a linear transformations of the bottom one, apply MST.\nShift invariance See example in Figure 6. On all graphs except those which contain as a subgraph a linear transformations of the bottom one, apply MST.\nMonotonicity A maximal spanning tree implements all axioms but monotonicity.\nFirst Hop Weakest link implements all of the other axioms.\nTheorem 5. All shortest path axioms (1-2, 4, 6) are necessary, and without even one of them, other routing algorithms are possible.\n204 An Axiomatic Approach to Routing\nF\"1 1 2 1 1\n2 2\n3\n2\n3\n1 1\n2\n1 1\n2 2\n4\n2\n4\n1 1\n2\n4\n5\n1 1\n2\n1 1\n2 5\n1\n2 5\n1 1\n2 5\n4 1\n5 5\nfd =\n( ) )\nfd (\nd d\nd d\nd d\nd\nd d\nd\nd d\nd d\n1 1\n2\n1 1\n2 2\n4\n2\n4\n2 5\n2 5\n1 1\n2 5\n4 1\n5 5 fd =\n1 1\n2 5\n1 1\n3 5 =\n( ) ) fd ( ) fd ( fd ( )\nd d\nd d\nd d\nd\nd d\nd\nProof. Going over all shortest path axioms, we detail potential algorithms which work with all axioms except one, and are not shortest path. We will refer below to the each relaxed axiom, and to the new/additional system which can obtained by that relaxation: Robustness See example in Figure 4. Apply shortest path to any other graph that isn\u2019t a scale of the\nstructure of the bottom one. Any edge in that structure that is 100 times all the others is removed in the tree.\nScale invariance See example in Figure 5. Taking the bottom example and for the group that includes all graphs for which it is a subgraph and those that can be formed by path cardinal invariance, and only for them do not apply shortest path but rather the example (it won\u2019t trample on the top example, as if the upper example adds y to lower-right edge, and y to the rest, and the bottom example adds x, it would require 2+ x = 4+ x, reaching an impossibility).\nInverse Monotonicity A longest path tree implements all axioms but monotonicity. Path cardinal invariant Minimal spanning tree implements all other axioms.\nTheorem 6. All weakest link axioms (1-4, 7) are necessary, and without even one of them, other routing algorithms are possible.\nProof. Going over all weakest link axioms, we detail potential algorithms which work with all axioms except one, and are not weakest link. We will refer below to the each relaxed axiom, and to the new/additional system which can obtained by that relaxation:\nRobustness See example in Figure 4. Apply weakest link to any other graph that isn\u2019t of the structure of the bottom one, Any edge that in that structure that is 100 times less that all the others\u2019 weight is removed.\nO. Lev, M. Tennenholtz & A. Zohar 205\nScale invariance See example in Figure 5. Taking the bottom example and for the group that includes all graphs for which it is a subgraph and those that can be formed by shift invariance and only for them do not apply weakest link but rather the example (it won\u2019t trample on the top example, as it can\u2019t be reached by shift invariance, and as the edge weights are all minimal/maximal, they change change by ordinal invariance).\nShift invariance See example in Figure 6. Taking the bottom example and for the group that includes all graphs for which it is a subgraph and those that can be formed by scale invariance and only for them do not apply weakest link but rather the example (it won\u2019t trample on the top example, as it can\u2019t be reached by shift invariance, and as the edge weights are all minimal/maximal, they change change by ordinal invariance).\nMonotonicity A strongest link tree implements all axioms but monotonicity.\nPath ordinal invariant Minimal spanning tree implements all other axioms."}, {"heading": "9 Discussion", "text": "In this paper we explore the basic issue of routing \u2013 how should information flow through a network and what properties might this process have. In the process of considering this issue we developed several properties we believe might be desirable by system planners. For example, robustness, or the ability of a routing protocol to keep small changes from disrupting the whole routing process, is a property especially required in fast, changing networks.\nNaturally, creating a structure from possible interactions between agents defined by a connections\u2019 graph is not limited just to information routing in networks such as the internet. Looking at organizations, where workers are connected according to their ability to work with other workers, and instead of routing messages between them we seek to construct an organizational hierarchy, we face a similar challenge. Again, robustness is a desirable property, as it means that if some workers have a worsening relationship with others, if they\u2019re not very senior in the organization, it has little effect on many others. In this case, we may consider the \u201ceconomic model\u201d (\u201cfirst hop\u201d axiom) appropriate as well \u2013 if workers only interact with their boss, we only care about the edge from each worker to his/her boss, and each worker does not care what happens further up in the hierarchy2.\nBeyond setting up the axioms, we also examined common routing algorithms \u2013 minimal spanning tree, shortest path and weakest link, and fully characterized them. Obviously, this is only the beginning of the road for this line of research \u2013 further steps will entail developing more axioms and using them to characterize more algorithms, with the aim of giving a set of tools for system designers, allowing them to choose desirable properties which would dictate appropriate routing protocols."}, {"heading": "Acknowledgments", "text": "The authors thank Michael Schapira for his insightful discussions on this matter. Moshe Tennenholtz carried out this work while at Microsoft Research, Israel. Aviv Zohar is supported in part by the Israel Science Foundation (Grants 616/13 and 1773/13), and by the Israel Smart Grid (ISG) Consortium.\n2Similarly, in a highly centralized organization, a path cardinal invariance is probably a sensible axiom.\n206 An Axiomatic Approach to Routing"}], "references": [{"title": "Ranking systems: The PageRank axioms", "author": ["Alon Altman", "Moshe Tennenholtz"], "venue": "Proceedings of the 6th ACM conference on Electronic commerce (EC), Vancouver, Canada,", "citeRegEx": "1", "shortCiteRegEx": "1", "year": 2005}, {"title": "An axiomatic approach to personalized ranking systems", "author": ["Alon Altman", "Moshe Tennenholtz"], "venue": "Journal of the ACM 57(4),", "citeRegEx": "2", "shortCiteRegEx": "2", "year": 2010}, {"title": "Trust-based recommendation systems: an axiomatic approach", "author": ["Reid Andersen", "Christian Borgs", "Jennifer Chayes", "Uriel Feige", "Abraham Flaxman", "Adam Kalai", "Vahab Mirrokni", "Moshe Tennenholtz"], "venue": "Proceedings of the 17th international conference on World Wide Web (WWW), Beijing,", "citeRegEx": "3", "shortCiteRegEx": "3", "year": 2008}, {"title": "Social Choice and Individual Values", "author": ["Kenneth Joseph Arrow"], "venue": null, "citeRegEx": "4", "shortCiteRegEx": "4", "year": 1951}, {"title": "Coherent Cooperation Among Communicating Problem Solvers", "author": ["Edmund Durfee", "Victor R. Lesser", "Daniel D. Corkill"], "venue": "IEEE Transactions on Computers", "citeRegEx": "5", "shortCiteRegEx": "5", "year": 1987}, {"title": "Mechanisms for multi-level marketing", "author": ["Yuval Emek", "Ron Karidi", "Moshe Tennenholtz", "Aviv Zohar"], "venue": "Proceedings of the 12th ACM conference on Electronic commerce (EC),", "citeRegEx": "6", "shortCiteRegEx": "6", "year": 2011}, {"title": "An organizational view of distributed systems", "author": ["Mark S. Fox"], "venue": "IEEE Transactions on Systems, Man and Cybernetics", "citeRegEx": "7", "shortCiteRegEx": "7", "year": 1981}, {"title": "Designing Complex Organizations", "author": ["Jay R. Galbraith"], "venue": null, "citeRegEx": "8", "shortCiteRegEx": "8", "year": 1973}, {"title": "Stable internet routing without global coordination", "author": ["Lixin Gao", "Jeniffer Rexford"], "venue": "IEEE/ACM Transactions on Networking", "citeRegEx": "9", "shortCiteRegEx": "9", "year": 2001}, {"title": "Sharing the \u201dcost\u201d of Multicast Trees: An Axiomatic Analysis", "author": ["Shai Herzog", "Scott Shenker", "Deborah Estrin"], "venue": "IEEE/ACM Transactions on Networking", "citeRegEx": "11", "shortCiteRegEx": "11", "year": 1997}, {"title": "An axiomatic basis for communication", "author": ["Martin Karsten", "S. Keshav", "Sanjiva Prasad", "Mirza Beg"], "venue": "Proceedings of the 2007 conference on Applications,", "citeRegEx": "12", "shortCiteRegEx": "12", "year": 2007}, {"title": "Experimental evaluation of wireless simulation assumptions. In: Proceedings of the 7th ACM international symposium on Modeling, analysis and simulation of wireless and mobile systems (MSWiM)", "author": ["David Kotz", "Calvin Newport", "Robert S. Gray", "Jason Liu", "Yougu Yuan", "Chip Elliott"], "venue": "Venice, Italy,", "citeRegEx": "13", "shortCiteRegEx": "13", "year": 2004}, {"title": "Interdomain routing and games", "author": ["Hagay Levin", "Michael Schapira", "Aviv Zohar"], "venue": "Proceedings of the 40th annual ACM symposium on Theory of computing (STOC), Victoria, Canada,", "citeRegEx": "14", "shortCiteRegEx": "14", "year": 2008}, {"title": "Informational Efficiency in Networks and Hierarchies", "author": ["T.W. Malone"], "venue": "Sloan School of Management Working Paper 1849,", "citeRegEx": "15", "shortCiteRegEx": "15", "year": 1986}, {"title": "Information theoretic framework of trust modeling and evaluation for ad hoc networks", "author": ["Yan Lindsay Sun", "Wei Yu", "Zhu Han", "K.J.R. Liu"], "venue": "IEEE Journal on Selected Areas in Communications", "citeRegEx": "17", "shortCiteRegEx": "17", "year": 2006}, {"title": "Causal Networks: Semantics and Expressiveness", "author": ["Tom S. Verma", "Judea Pearl"], "venue": "Proceedings of the 4th Conference on Uncertainty in Artificial Intelligence (UAI),", "citeRegEx": "18", "shortCiteRegEx": "18", "year": 1988}], "referenceMentions": [{"referenceID": 6, "context": "Indeed, the search for the right communication structure has played a role in early work on the foundations of the area of multi-agent systems [7, 15, 5], based on classical work in organization theory [8, 16].", "startOffset": 143, "endOffset": 153}, {"referenceID": 13, "context": "Indeed, the search for the right communication structure has played a role in early work on the foundations of the area of multi-agent systems [7, 15, 5], based on classical work in organization theory [8, 16].", "startOffset": 143, "endOffset": 153}, {"referenceID": 4, "context": "Indeed, the search for the right communication structure has played a role in early work on the foundations of the area of multi-agent systems [7, 15, 5], based on classical work in organization theory [8, 16].", "startOffset": 143, "endOffset": 153}, {"referenceID": 7, "context": "Indeed, the search for the right communication structure has played a role in early work on the foundations of the area of multi-agent systems [7, 15, 5], based on classical work in organization theory [8, 16].", "startOffset": 202, "endOffset": 209}, {"referenceID": 8, "context": "Agents may be controlled by different economic entities (such as in the internet, where different internet service providers control some of the routers), and may route according to complex preferences that are derived from economic relations [9, 14].", "startOffset": 243, "endOffset": 250}, {"referenceID": 12, "context": "Agents may be controlled by different economic entities (such as in the internet, where different internet service providers control some of the routers), and may route according to complex preferences that are derived from economic relations [9, 14].", "startOffset": 243, "endOffset": 250}, {"referenceID": 3, "context": "The axiomatic approach, which does approach problems with this outlook, has been first introduced in CS contexts as extensions to the classical theory of choice [4], and has been applied to ranking systems [1, 2] and trust systems [3], as well as to other multi-agent setups such as multi-level marketing [6].", "startOffset": 161, "endOffset": 164}, {"referenceID": 0, "context": "The axiomatic approach, which does approach problems with this outlook, has been first introduced in CS contexts as extensions to the classical theory of choice [4], and has been applied to ranking systems [1, 2] and trust systems [3], as well as to other multi-agent setups such as multi-level marketing [6].", "startOffset": 206, "endOffset": 212}, {"referenceID": 1, "context": "The axiomatic approach, which does approach problems with this outlook, has been first introduced in CS contexts as extensions to the classical theory of choice [4], and has been applied to ranking systems [1, 2] and trust systems [3], as well as to other multi-agent setups such as multi-level marketing [6].", "startOffset": 206, "endOffset": 212}, {"referenceID": 2, "context": "The axiomatic approach, which does approach problems with this outlook, has been first introduced in CS contexts as extensions to the classical theory of choice [4], and has been applied to ranking systems [1, 2] and trust systems [3], as well as to other multi-agent setups such as multi-level marketing [6].", "startOffset": 231, "endOffset": 234}, {"referenceID": 5, "context": "The axiomatic approach, which does approach problems with this outlook, has been first introduced in CS contexts as extensions to the classical theory of choice [4], and has been applied to ranking systems [1, 2] and trust systems [3], as well as to other multi-agent setups such as multi-level marketing [6].", "startOffset": 305, "endOffset": 308}, {"referenceID": 15, "context": ", [18]) or in more technical approaches to networks: papers such as [13] which deal with particular wireless models and implementations, and, somewhat closer to our line of work, [12], whose basic axioms are basic enough to be covered through our models, while the routing related axioms involve various assumptions on how routers work (tables, etc.", "startOffset": 2, "endOffset": 6}, {"referenceID": 11, "context": ", [18]) or in more technical approaches to networks: papers such as [13] which deal with particular wireless models and implementations, and, somewhat closer to our line of work, [12], whose basic axioms are basic enough to be covered through our models, while the routing related axioms involve various assumptions on how routers work (tables, etc.", "startOffset": 68, "endOffset": 72}, {"referenceID": 10, "context": ", [18]) or in more technical approaches to networks: papers such as [13] which deal with particular wireless models and implementations, and, somewhat closer to our line of work, [12], whose basic axioms are basic enough to be covered through our models, while the routing related axioms involve various assumptions on how routers work (tables, etc.", "startOffset": 179, "endOffset": 183}, {"referenceID": 9, "context": "Further work connecting networking and the axiomatic approach has focused on particular instances of problems: [11] try to use the axiomatic approach to extract the costs of multicast routing and decide who is to pay them.", "startOffset": 111, "endOffset": 115}, {"referenceID": 14, "context": ", recommendation systems) have been analysed many times using the axiomatic approach to understand their desirable features and better understand desirable algorithms in these cases [17, 3].", "startOffset": 182, "endOffset": 189}, {"referenceID": 2, "context": ", recommendation systems) have been analysed many times using the axiomatic approach to understand their desirable features and better understand desirable algorithms in these cases [17, 3].", "startOffset": 182, "endOffset": 189}], "year": 2016, "abstractText": "Information delivery in a network of agents is a key issue for large, complex systems that need to do so in a predictable, efficient manner. The delivery of information in such multi-agent systems is typically implemented through routing protocols that determine how information flows through the network. Different routing protocols exist each with its own benefits, but it is generally unclear which properties can be successfully combined within a given algorithm. We approach this problem from the axiomatic point of view, i.e., we try to establish what are the properties we would seek to see in such a system, and examine the different properties which uniquely define common routing algorithms used today. We examine several desirable properties, such as robustness, which ensures adding nodes and edges does not change the routing in a radical, unpredictable ways; and properties that depend on the operating environment, such as an \u201ceconomic model\u201d, where nodes choose their paths based on the cost they are charged to pass information to the next node. We proceed to fully characterize minimal spanning tree, shortest path, and weakest link routing algorithms, showing a tight set of axioms for each.", "creator": "LaTeX with hyperref package"}}}