{"id": "1706.04389", "review": {"conference": "arxiv", "VERSION": "v1", "DATE_OF_SUBMISSION": "14-Jun-2017", "title": "Fine-grained human evaluation of neural versus phrase-based machine translation", "abstract": "we compare three approaches into statistical tool translation ( unlike tree - based, factored phrase - matrix hierarchical neural ) by performing a plain - grained manual evaluation via error annotation of the systems'texts. the error types in resource annotation are compliant with dual multidimensional quality paradigm ( mqm ), and the annotation is performed by two annotators. inter - annotator agreement is high for such a task, and results show that the best performing system ( neural ) reduces the errors produced by the worst system ( phrase - squared ) by 54 %.", "histories": [["v1", "Wed, 14 Jun 2017 09:59:47 GMT  (172kb,D)", "http://arxiv.org/abs/1706.04389v1", "12 pages, 2 figures, The Prague Bulletin of Mathematical Linguistics"]], "COMMENTS": "12 pages, 2 figures, The Prague Bulletin of Mathematical Linguistics", "reviews": [], "SUBJECTS": "cs.CL", "authors": ["filip klubi\\v{c}ka", "antonio toral", "v\\'ictor m s\\'anchez-cartagena"], "accepted": false, "id": "1706.04389"}, "pdf": {"name": "1706.04389.pdf", "metadata": {"source": "CRF", "title": "Fine-grained human evaluation of neural versus phrase-based machine translation", "authors": ["Filip Klubi\u010dka", "Antonio Toral", "V\u00edctor M. S\u00e1nchez-Cartagena"], "emails": ["fklubick@ffzg.hr"], "sections": [{"heading": null, "text": "tored phrase-based and neural) by performing a fine-grained manual evaluation via error annotation of the systems\u2019 outputs. The error types in our annotation are compliant with the multidimensional quality metrics (MQM), and the annotation is performed by two annotators. Inter-annotator agreement is high for such a task, and results show that the best performing system (neural) reduces the errors produced by the worst system (phrase-based) by 54%."}, {"heading": "1. Introduction", "text": "A paradigm to machine translation (MT) based on deep neural networks and usually referred to as neural MT (NMT) has emerged in the past few years. This has disrupted the MT field as NMT, despite its infancy, has already surpassed the performance of phrase-based MT (PBMT), the mainstream approach to date.\nWe have witnessed the potential of NMT in terms of overall performance scores, be those automatic (e.g. BLEU) or human (e.g. system rankings); for example, in last year\u2019s news translation shared task at WMT.1 There, out of 9 language directions where NMT systems were submitted, they significantly outperformed PBMT in 8, according to the human evaluation. In the remaining language direction (Russian-to-\n1http://www.statmt.org/wmt16/translation-task.html\nc\u00a9 2017 PBML. Distributed under CC BY-NC-ND. Corresponding author: fklubick@ffzg.hr Cite as: Filip Klubi\u010dka, Antonio Toral, V\u00edctor M. S\u00e1nchez-Cartagena. Fine-grained human evaluation of neural versus phrase-based machine translation. The Prague Bulletin of Mathematical Linguistics No. 108, 2017, pp. 121\u2013132. doi: 10.1515/pralin-2017-0014\nar X\niv :1\n70 6.\n04 38\n9v 1\nEnglish), the best PBMT submission was ranked higher than the best NMT system, but the difference was found not to be significant.\nGiven the impressive overall performance ofNMT, some researchers have attempted in the past year to analyse the potential of NMT in a more detailed manner. The motivation comes from the fact that while overall scores give an indication of the general performance of a system, they do not provide any additional information. Hence, in order to delve further and try to shed light on the strengths and weaknesses of this new paradigm to MT, two recent papers have looked at conducting multifaceted evaluations.\n\u2022 Bentivogli et al. (2016) conducted a detailed analysis for the English-to-German language direction where they compared state-of-the-art PBMT and NMT systems on transcribed speeches. They found out that NMT (i) decreases postediting effort, (ii) degrades faster than PBMT with sentence length and (iii) improves notably on reordering and inflection. \u2022 Toral and S\u00e1nchez-Cartagena (2017) carried out a series of analyses and evaluations for NMT and PBMT systems on the domain of news for 9 language pairs. They corroborated the findings of Bentivogli et al. (2016) with respect to NMT outstanding performance on reordering and inflection and its degradation with sentence length. They also contributed additional findings: NMT systems (i) exhibit higher inter-system variability, (ii) lead to more fluent outputs and (iii) perform more reordering than PBMT but less than hierarchical PBMT.\nA limitation of these analyses lies in the fact that all of them were performed automatically. E.g. reordering and inflection errors were detected based on automatic evaluation metrics. Hence, one could argue that their outcomes are somewhat affected as automatic tools are, of course, never perfect.\nIn this paper we conduct a detailed human analysis of the outputs produced by NMT and PBMT systems. Namely, we annotate manually the errors found according to a detailed error taxonomy, that is compliant with the hierarchical listing of issue types defined as part of theMultidimensional QualityMetrics (MQM) (Lommel et al., 2014a). Specifically, we carry out this analysis for the news domain in the English-toCroatian language direction. First, we define an error taxonomy that is relevant to the problematic linguistic phenomena of this language pair. Subsequently, we annotate the errors produced by 3 state-of-the-art translation systems that belong to the following paradigms: PBMT, factored PBMT and NMT. Finally, we analyse the annotations.\nThe main contributions of this paper can then be summarised as follows: 1. We conduct, to the best of our knowledge, the first human fine-grained error\nanalysis of NMT in the literature. 2. We analyse NMT in comparison not only to pure PBMT and hierarchical PBMT,\nas in previous works, but also with respect to factored models. 3. We develop an MQM-compliant error taxonomy for Slavic languages. 4. We develop a novel approach to statistically analyzing and interpreting the re-\nsults of MQM error annotation.\nThe rest of the paper is organised as follows. Section 2 describes the MT systems and the datasets used in our experiments. Section 3 covers the analysis, including the definition of the error taxonomy, the annotation setup and guidelines and finally the results obtained and their discussion. Finally, Section 4 outlines the conclusions and lines of future work."}, {"heading": "2. MT Systems", "text": "This section describes the MT systems and the datasets used in our experiments. We built PBMT, factored PBMT and NMT systems.\nThe 3 systems were trained on the same parallel data. We considered a set of publicly available English\u2013Croatian parallel corpora, comprising the DGT Translation Memory 2, HrEnWaC3, JRC Acquis 4, OpenSubtitles 2013, SETimes and Ted talks. We concatenated all these corpora and performed cross-entropy based data selection (Moore and Lewis, 2010) using the development set. Once the data is ranked we keep the highest ranked 25% sentence pairs (4,786,516).\nPBMT systems used also monolingual data for language modelling. To this end we used the concatenation of the hrWaC corpus (Ljube\u0161i\u0107 and Klubi\u010dka, 2014) and the target side of the aforementioned parallel corpora.\nAs development set we used the first 1,000 sentences of the English test set used at the WMT12 news translation task5, translated by a professional translator into Croatian. Similarly, our test set is made of the first 1,000 sentences of the English test set of the WMT13 translation task6, again manually translated into Croatian.\nThe PBMT systemwas builtwithMoses v3.07. In addition to the defaultmodelswe also used hierarchical reordering (Galley and Manning, 2008), an operation sequence model (Durrani et al., 2011) and a bilingual neural languagemodel (Devlin et al., 2014).\nThe factored PBMT system maps one factor in the source language (surface form) to two factors in the target (surface form and morphosyntactic description). This system is described in detail by S\u00e1nchez-Cartagena et al. (2016).\nThe NMT system is based on the sequence-to-sequence architecture with attention and we applied sub-word segmentation with byte pair encoding (Sennrich et al., 2015) jointly on the source and target languages. We performed 85 000 join operations. Training was run for 10 days and a model was saved every 4.5 hours. We decoded the\n2https://ec.europa.eu/jrc/en/language-technologies/dgt-translation-memory 3https://www.clarin.si/repository/xmlui/handle/11356/1058 4http://tinyurl.com/CroatianAcquis 5http://www.statmt.org/wmt12/translation-task.html 6http://www.statmt.org/wmt13/translation-task.html 7https://github.com/moses-smt/mosesdecoder/tree/RELEASE-3.0\ntest set using an ensemble of 4 models. These were the 4 models with the highest BLEU scores on the development set."}, {"heading": "2.1. Evaluation", "text": "We report the scores obtained in terms of the BLEU and TER automatic evaluation metrics for the 3 systems described in the previous section. Table 1 shows the results.\nAs the table shows, the use of factored models leads to a substantial improvement upon pure PBMT (6% relative in terms of BLEU). NMT, on its turn, allows us to obtain a further notable improvement; 14% relative in terms of BLEU compared to the factored PBMT system and 21% compared to the initial PBMT system."}, {"heading": "3. Error analysis", "text": "In this section we report on the motivation for conducting the manual error analysis, describe the framework and overall annotation process, and present the results.\nThe fact that Croatian is rich in inflection, has rather free word order and other similar phenomena that English does not, gives rise to specific translation issues. For example, grammatical categories that do not exist in English, like gender and case, may be particularly hard to generate reliably in a Croatian translation. We built our factored PBMT system aiming to directly address such issues. Similarly motivated, we wished to see how an NMT system would grapple with the same issues.\nIndeed, as shown in Section 2, automatic evaluation shows significant improvement for both systems, compared to the pure PBMT system. However, as is the nature of automatic metrics, the automatic scoring methods do not indicate whether any of the linguistic problems mentioned earlier have been addressed by the systems. The question of whether the linguistic quality, or rather, grammaticality of the output is improved has not been answered by automatic evaluation. Are cases and gender handled better? Is there better agreement? Is the fluency of the translation higher?\nIn order to provide answers to these research questions, we decide to thoroughly compare these systems by systematically analyzing their outputs via manual error analysis. In this way we can obtain a more complete picture of what is happening in\nthe translation, which can provide pointers onwhere to act to obtain further improvements in the future."}, {"heading": "3.1. Multidimensional Quality Metrics and the Slavic tagset", "text": "After looking into different ways of performing the task of manual evaluation via error analysis, we decided to make use of the MQM framework, developed in the QTLaunchpad project8. This is a framework for describing and defining custom translation quality metrics. It provides a flexible vocabulary of quality issue types and a mechanism for applying them to generate quality scores. It does not impose a single metric for all uses, but rather provides a comprehensive catalog of quality issue types, with standardized names and definitions, that can be used to describe particular metrics for specific tasks.\nThe main reason we chose the MQM framework was the flexibility of the issue types and their granularity \u2014 it gave us a reliable methodology for quality assessment, that still allowed us to pick and choose which error tags we wish to use.\nTheMQM guidelines propose a great variety of tags on several annotation layers9. However, the full tagset is too comprehensive to be viable for any annotation task, so the process begins with choosing the tags to use in accordance to our research questions. Initially we started off with the core tagset, a default set of evaluation metrics (i.e. error categories) proposed by the MQM guidelines, as seen in Figure 1.\nHowever, given the morphological complexity of Croatian and the level at which wemade interventions in the system, we found that these core categories were not detailed enough, or rather, did not allow for an analysis of the specific phenomena we were interested in. Some categories that were of interest to us, like specific Agreement types, were not present in the tagset, while some errors, like Typography, were irrele-\n8http://www.qt21.eu/mqm-definition/definition-2015-06-16.html 9http://www.qt21.eu/mqm-definition/issues-list-2015-12-30.html\nvant to us. So we created our own set of tags by modifying the core set, rearranging the hierarchy, adding new tags and removing those that are of little relevance. We call this new tagset the Slavic tagset, as its expansion allows for the identification of grammatical errors which are commonly shared by Slavic languages. This tagset is outlined in Figure 2."}, {"heading": "3.2. Annotation setup", "text": "In order to carry out the annotations we used translate510, a web-based tool that implements annotations of MT outputs using hierarchical taxonomies, as is the case of MQM.\nWe had two annotators at our disposal, who both had prior experience withMQM as well as the same background - an MA in English linguistics and information science. They were thoroughly familiarized with the official annotation guidelines and the decision process11 prior to annotation.\nThe annotators annotated 100 random sentences from the test set introduced in Section 2. These sentences were translated by all three MT systems, and the annotators were presented with the source text, a reference translation and the unannotated system outputs at the same time. All three translations were then annotated by both our annotators (i.e. each system translated the same 100 sentences, each annotator annotated the 300 translated sentences, making a total of 600 annotated sentences).\n10http://www.translate5.net/ 11http://www.qt21.eu/downloads/annotatorsGuidelines-2014-06-11.pdf\nOnce the sentences were annotated, the annotation data was extracted, we calculated inter-annotator agreement and analyzed the output to see what the number of error tags can tell us about the performance of each system."}, {"heading": "3.3. Inter-Annotator Agreement", "text": "Though carefully thought out and developed, the MQMmetrics, and manual MT evaluation in general, are notorious for resulting in low inter-annotator agreement scores. This is attested by the body ofwork that has addressed this issue, most notably Lommel et al. (2014b), who worked specifically on MQM, and (Callison-Burch et al., 2007), who investigated several tasks. This is why it is important that we check how well our annotators agree on the task at hand, and whether this is consistent with other work done with MQM so far.\nOnce the data was annotated, agreement was observed at the sentence level, and inter-annotator agreement was calculated using the Cohen\u2019s Kappa (\u03ba) metric (Cohen, 1960). Agreement was calculated on the annotations of every system separately, as well as on a concatenation of annotations, in order to both see whether there are differences in agreement across systems, as well as to gain insight into the overall agreement between annotators. Additionally, Coehn\u2019s \u03bawas also calculated for every error type separately. Detailed results can be found in Table 2.\nGenerally, one can see that our annotators agree best on evaluations of the PBMT system, less so on evaluations of the Factored SMT system, and least in evaluations of the NMT system. Overall agreement scores are relatively low - the average total \u03ba is approximately 0.51. Furthermore, the \u03ba scores are relatively consistent across all error types, mostly ranging between 0.35 and 0.55. According to Cohen, such scores constitute moderate agreement. However, as already stated, this is to be expected, given the complexity of the problem and annotation schema. In fact, this is a notably higher score than what has been reported in similar work, e.g. Lommel et al. (2014b), who achieve \u03ba scores ranging between 0.25 and 0.34. However, this comparison should be taken with a grain of salt, as our calculations are just an approximation compared to Lommel et al.\u2019s, given that in our setup we looked only at sentence level agreement, while they calculated agreement on the token level."}, {"heading": "3.4. Results of annotation", "text": "Directly extracting raw annotation data from the translate5 system provides a sum of error tags annotated for each error type by each annotator and system. The total values are presented in Table 3.\nLooking at the aggregate data alone, one can easily detect that both annotators have judged that the PBMT system contains the most errors, and that the NMT system contains the smallest number of errors. This trend is consistent across most finegrained error categories as well.\nHowever, even though simply counting the errors can provide insight into which system performs better, we thought that this approach does not adequately represent our findings, as it does not allow a proper quantification of the quality of the outputs. Certainly, based on data from Table 3 we can claim, for example, that the NMT system produces less errors in general, or less errors of a specific type, but given that the outputs are different, as is the number of tokens in each translation, we decided to normalize the data.\nTo the best of our knowledge there is no related work on how to approach this, as previous work simply counts the number of MQM tags and stops there. After some consideration, we decided to normalize at the token level. I.e. instead of counting just error tags produced by each annotator, we count the tokens that these errors are assigned to \u2013 tokens that do and tokens that do not have an error annotation. Once these numbers are divided by the total number of tokens in the system\u2019s output, they provide a concrete idea of the ratio of tokens with and without errors.\nThe results of such analysis again show that the PBMT system has the largest error ratio, while the NMT system has the smallest one. This is further backed up by a pairwise chi-squared (\u03c72) statistical significance test; we calculate statistical significance from 2x2 contingency tables for every system pair (PBMTxFactored, PBMTxNMT and FactoredxNMT). The results show that the differences in the total number of tokens with errors are statistically significant for all three systempairs, with the p value being lower than 0.0001 in each case.\nFurthermore, we also wanted to see which error types are the ones making a significant impact on this result. So we repeated these same measurements, but instead of performing them on all error types combined, they were performed separately for each specific error category. The combined results of the calculations and transformations are presented in Table 4.\nWe can derive several findings from this table. Firstly, when looking simply at the grand total of tokens with and without errors, the difference between the systems is statistically significant by a widemargin. When looking at PBMT and factored PBMT, the factored system has significantly less errors than the pure PBMT system. The overall error rate is in this case reduced by 20%. A separate analysis of specific error types that contribute to this score reveals that only some of the error categories are significantly different between the two systems. In the table, those categories are filled in with green. One can see that, when it comes to agreement, the only agreement type that produces significantly less errors is agreement in case.\nHowever, taking a look at NMT shows that, not only does it result in a 42% overall error reduction compared to the factored system, and 54%with respect to pure PBMT, but it produces even less agreement errors \u2013 overall, as well as at the level of number, gender and case \u2013 while not using any kind of linguistic information at all. This might in part be due to the use of sub-word segmentation, as inflections in Croatian are relatively regular. In addition to improving in the Agreement category, NMT also produces significantly less errors in many more categories than the factored model\ndoes. Interestingly, it produces more Omission errors than either of the other two systems. It seems that it tends to sacrifice completeness of translation in order to increase overall fluency. Indeed, extrapolating from the data in Table 4, shows that, though differences are very small, NMT does have the lowest token per sentence ratio (PBMT 18.99, Factored PBMT 18.89, NMT 18.36)."}, {"heading": "4. Conclusion", "text": "The fine-grained manual evaluation performed for the purpose of this research has provided answers to several questions, one of which was the main drive behind our developing the factored system: is there a way to handle better agreement when translating to Croatian? We can now confidently claim that factored models result in significantly less agreement errors overall compared to pure PBMT.\nWe can also confidently claim that NMT handles all types of agreement better than both pure PBMT and factored PBMT, which corroborates the findings of other researchers\u2019 NMT evaluations. Our system produces sentences with far less errors, and a language that is more fluent and more grammatical, which should be of help when it comes to the task of post-editing.\nFurthermore, the error taxonomy that was developed for this research, while only used for the English-to-Croatian language direction, should be applicable for the analysis of errors for any translation direction towards a Slavic language, as it takes into account grammatical properties specific to these languages.\nAmongother possible lines of futurework, including the application of ourmethodology to another language pair (e.g. English-Czech), performingmore controlled IAA analysis or IAA adjudication, as well as comparing to an NMT model without subword segmentation, another one is adapting the tagset further. In its current version, it has proved to be informative when comparing PBMT to factored PBMT. However, NMT has shown itself to produce language that is so fluent that the fine-grained hierarchy in the Fluency branch is of little use. Meanwhile, the most common error type in the NMT output is Mistranslation, which, according to the MQM guidelines, covers both lexical selection and, less intuitively, translation of grammatical properties (e.g. if \u2019cats[pl.]\u2019 is translated as \u2019ma\u010dka[sg.]\u2019, this is to be tagged as Mistranslation, in spite of correct lexical choice). This makes it quite a vague category, so if one wouldwish to perform an even more nuanced linguistic error analysis for NMT, adding additional layers to the Accuracy branch would seem a promising direction to follow."}, {"heading": "Acknowledgements", "text": "We would like to extend our thanks to Maja Popovi\u0107, who provided valuable advice on how to approach the annotation and evaluation, and Denis Kranj\u010di\u0107, who participated in the annotation task. The research leading to these results has received funding from the European Union Seventh Framework Programme FP7/2007-2013\nunder grant agreement PIAP-GA-2012-324414 (Abu-MaTran) and the Swiss National Science Foundation grant 74Z0_160501 (ReLDI)."}], "references": [], "referenceMentions": [], "year": 2017, "abstractText": "We compare three approaches to statistical machine translation (pure phrase-based, factored phrase-based and neural) by performing a fine-grained manual evaluation via error annotation of the systems\u2019 outputs. The error types in our annotation are compliant with the multidimensional quality metrics (MQM), and the annotation is performed by two annotators. Inter-annotator agreement is high for such a task, and results show that the best performing system (neural) reduces the errors produced by the worst system (phrase-based) by 54%.", "creator": "XeLaTeX"}}}