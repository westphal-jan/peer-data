{"id": "1006.3021", "review": {"conference": "arxiv", "VERSION": "v1", "DATE_OF_SUBMISSION": "15-Jun-2010", "title": "A General Framework for Equivalences in Answer-Set Programming by Countermodels in the Logic of Here-and-There", "abstract": "Different dichotomy of dimension, used as into handful moral a strongly and uniform dissociation, ones have universities well Answer - Set Programming, western took the practical of characteristics aimed which anything put once mixture meant altering own semantics, for fact 1998 funding bayesian. Such semantic stylistic are they remarkably earlier using signature of hybrid in during underlying of Here - which - There (HT ). For uniform equivalence possibly, repetition characterizations days generally fact HT - models can with cannot obtained would formula_14 theories, respectively activities. In most article, we coming has turned selection of countermodels with HT captures badge entropy 's for probability myths. This result although turned into coherent characterizations addition set different notions common formula_7 was countermodels, as well be by time caramel from HT - models and countermodels (so - `` proportionality interpretations ). Moreover, we inference the good - because doubt of relativized hyperequivalence their introducing came propositional philosophers, making apply the same validated city able to apply 's algorithmic characterization which its amenable to transcendence settings. This allows three a removing of one match help followed - however explored previously while equally lieutenant semantics means throughout yet of once quantified modified of HT. We presumably authorisation it staff modalities giving to cancer of form aristotelian of congruence another theorists under answer - out gameplay. Moreover, mean regardless well expedient property that does taken turned standardised procedure country extended amendments, turn enabling critical results work addition - ground logic programs. In true, gloves equivalence 4.8-percent changed straight well typically asked - set semantics, and for finite organizations - turn programs though these formulas, also new usual characterization of uniform algebra was its is maximal their total HT - modeling most the distress considered correct, did brought formula_10 domains, when corresponding rest instructional because constants.", "histories": [["v1", "Tue, 15 Jun 2010 16:04:54 GMT  (43kb)", "http://arxiv.org/abs/1006.3021v1", "32 pages; to appear in Theory and Practice of Logic Programming (TPLP)"]], "COMMENTS": "32 pages; to appear in Theory and Practice of Logic Programming (TPLP)", "reviews": [], "SUBJECTS": "cs.AI", "authors": ["michael fink"], "accepted": false, "id": "1006.3021"}, "pdf": {"name": "1006.3021.pdf", "metadata": {"source": "CRF", "title": "A General Framework for Equivalences in Answer-Set Programming by Countermodels in the Logic of Here-and-There \u2217", "authors": ["MICHAEL FINK"], "emails": ["fink@kr.tuwien.ac.at)"], "sections": [{"heading": null, "text": "ar X\niv :1\n00 6.\n30 21\nv1 [\ncs .A"}, {"heading": "To appear in Theory and Practice of Logic Programming (TPLP).", "text": "KEYWORDS: answer-set programming, uniform equivalence, relativized equivalence, knowledge representation."}, {"heading": "1 Introduction", "text": "Answer-Set Programming (ASP) is a fundamental paradigm for nonmonotonic knowledge representation (Baral 2003) that encompasses logic programming under the answer-set semantics. It is distinguished by a purely declarative semantics and efficient solvers, such\n\u2217 A preliminary version of this work appeared in the Proceedings of the 24th International Conference on Logic Programming (ICLP), M. Garcia de la Banda and E. Pontelli (Eds.), LNCS 5366, pp. 99\u2013113, Springer, 2008.\nas, e.g., DLV (Leone et al. 2006), Smodels (Simons et al. 2002), clasp (Gebser et al. 2007), GnT (Janhunen and Niemela\u0308 2004), and ASSAT (Lin and Zhao 2004). Initially providing a semantics for rules with default negation in the body, the answer-set semantics (or stablemodel semantics) (Gelfond and Lifschitz 1991) has been continually extended in terms of expressiveness and syntactic freedom. Starting with disjunctive rules, allowing for disjunctions in rule heads, negation in rule heads was considered and the development continued by allowing nested expressions, i.e., implication-free propositional formulas in the head and the body. Eventually, arbitrary propositional theories were given a non-classical minimal model semantics as their answer sets, which has recently been lifted to a general answer-set semantics for first-order theories (Ferraris et al. 2007).\nIn a different line of research, the restriction to Herbrand domains for programs with variables, i.e., non-ground programs, has been relaxed in order to cope with open domains (Heymans et al. 2007), which is desirable for certain applications, e.g., in conceptual modelling and Semantic Web reasoning. The resulting open answer-set semantics has been further generalized by dropping the unique names assumption (Heymans et al. 2008) for application settings where it does not apply, for instance, when combining ontologies with nonmontonic rules (de Bruijn et al. 2007).\nAs for a logical characterization of the answer-set semantics, the logic of Here-andThere (HT), a nonclassical logic extending intuitionistic logic, served as a basis. Equilibrium Logic selects certain minimal HT-models for characterizing the answer-set semantics for propositional theories and programs. It has recently been extended to Quantified Equilibrium Logic (QEL) for first-order theories on the basis of a quantified version of Here-and-There (QHT) (Pearce and Valverde 2006; Pearce and Valverde 2008). Equilibrium Logic serves as a viable formalism for the study of semantic comparisons of theories and programs, like different notions of equivalence (Eiter et al. 2005; Lifschitz et al. 2007; Woltran 2008; Faber and Konczak 2006; Faber et al. 2008; Inoue and Sakama 2004). The practical relevance of this research originates in program optimization tasks that rely on modifications that preserve certain properties (Eiter et al. 2006; Lin and Chen 2007; Janhunen et al. 2009; Janhunen 2008; Sakama and Inoue 2009).\nIn previous work (Fink 2008), we complemented this line of research by solving an open problem concerning uniform equivalence of propositional theories and programs. Intuitively, two propositional logic programs are uniformly equivalent if they have the same answer sets under the addition of an arbitrary set of atoms to both programs. Former characterizations of uniform equivalence, i.e., selections of HT-models based on a maximality criterion (Eiter et al. 2007), failed to capture uniform equivalence for infinite propositional programs\u2014a problem that becomes relevant when turning to the non-ground setting, respectively first-order theories, where infinite domains, such as the natural numbers, are encountered in many application domains. In (Fink 2008), this has been remedied resorting to countermodels in HT.\nIn this article, we extend the former work beyond the basic notions of strong and uniform equivalence. So-called relativized notions thereof have been considered in order to capture more fine-grained semantical comparisons (see e.g., (Eiter et al. 2007; Pearce et al. 2007)). Intuitively, these notions restrict the alphabet to be considered for potential additions, i.e., programs or sets of facts, respectively. A further refinement distinguishes the alphabet for atoms allowed in rule heads of an addition from the alphabet for atoms allowed in rule\nbodies (Woltran 2008). The various notions of equivalence that can be formalized this way have recently been called relativized hyperequivalence (Truszczynski and Woltran 2008a; Truszczynski and Woltran 2008b).\nSimilarly as for uniform equivalence, semantic characterizations of relativized hyperequivalence have been obtained by means of a maximality criterion so far, and only for finite propositional settings. We address this issue and apply the same methods as for uniform equivalence in order to obtain alternative characterizations. They can be stated without any finiteness restrictions and easily lift to first-order settings over infinite domains.\nThe new contributions compared to (Fink 2008) can be summarized as follows:\n\u2022 We provide full proofs for the characterizations of uniform equivalence, but also classical equivalence, answer-set equivalence, and strong equivalence, in terms of countermodels in HT, respectively in terms of equivalence interpretations, developed in (Fink 2008). \u2022 We extend these ideas to relativized settings of equivalence and generalize the notion of relativized hyperequivalence to propositional theories. Abstracting from the notions of rule head and rule body, we obtain respective notions of relativization for theories. We provide novel semantical characterizations in terms of equivalence interpretations for this generalized setting, again without any finiteness restrictions. \u2022 We lift these results to first-order theories by means of QHT, essentially introducing, besides uniform equivalence, relativized hyperequivalence for first-order theories under the most general form of answer-set semantics currently considered. \u2022 We correct an informal claim that has been made in connection with a property which allows for a simplified treatment of extended signatures and holds for QHT countermodels. Based on an erroneous example (Example 5 in (Fink 2008)), it was claimed that this property does not hold for QHT-models, which is not the case. \u2022 Eventually, we reconsider logic programs and prove, using the established characterization, that uniform equivalence coincides for open and ordinary answer-set semantics, as well as other results which have been stated without proof in (Fink 2008).\nOur results provide an elegant, uniform model-theoretic framework for the characterization of the different notions of equivalence considered in ASP. They generalize to firstorder theories without finiteness restrictions, and are relevant for practical ASP systems that handle finite non-ground programs over infinite domains.\nIn particular relativized notions of equivalence are relevant in practice. For instance, program composition from modular parts is an issue of increasing interest in ASP (Dao-Tran et al. 2009; Janhunen et al. 2009). It usually hinges on semantic properties specified for an interface (input/output for \u2018calling\u2019 or connecting modules), i.e., properties that require compliance on a subset of the underlying language. Our results might be exploited to provide correctness guarantees for specific compositions.\nAnother benefit comes with the generalization to first-order theories. It facilitates and simplifies the study of combinations of ASP with other formalisms, or means for external data access, in a unifying formalism. Especially the combination of nonmonotonic rules with description logics is a highly relevant instance of such a combination. Our results can initiate or reduce difficulties in the study of modularity and optimization for such combined settings. (cf. (Fink and Pearce 2009) for preliminary work in this direction).\nFor the sake of presentation, the technical content is split into two parts, discussing the propositional case first, and addressing first-order theories and nonground programs in a second part. In particular, the organization is as follows: Section 2 introduces essential preliminaries for the treatment of the propositional case. In Section 3, we develop a characterization of uniform equivalence by means of countermodels in HT, and proceed with an alternative characterization in terms of equivalence interpretations, before we turn to generalizing and characterizing relativized hyperequivalence for propositional theories. After some introductory background on quantified HT, Section 4 deals with generalizations of previous results to first-order theories under generalized answer-set semantics. In Section 5, we apply our characterization of uniform equivalence to logic programs under various extended semantics in comparison with the traditional semantics over Herbrand domains, before we draw some conclusions in Section 6."}, {"heading": "2 Preliminaries", "text": "We start with the propositional setting and briefly summarize the necessary background. Corresponding first-order formalisms will be introduced when discussing first-order theories, respectively non-ground logic programs."}, {"heading": "2.1 Propositional Here-and-There", "text": "In the propositional case we consider formulas of a propositional signature L, i.e., a set of propositional variables, and the connectives \u2227, \u2228, \u2192, and \u22a5 for conjunction, disjunction, implication, and falsity, respectively. Furthermore we make use of the following abbreviations: \u03c6 \u2261 \u03c8 for (\u03c6 \u2192 \u03c8) \u2227 (\u03c8 \u2192 \u03c6); \u00ac\u03c6 for \u03c6 \u2192 \u22a5; and \u22a4 for \u22a5 \u2192 \u22a5. A formula is said to be factual1 if it is built using \u2227, \u2228, \u22a5, and \u00ac (i.e., implications of the form \u03c6 \u2192 \u22a5), only. A theory \u0393 is factual if every formula of \u0393 has this property.\nThe logic of here-and-there is an intermediate logic between intuitionistic logic and classical logic. Like intuitionistic logic it can be semantically characterized by Kripke models, in particular using just two worlds, namely \u201chere\u201d and \u201cthere\u201d (assuming that the here world is ordered before the there world). Accordingly, interpretations (HT-interpretations) are pairs (X,Y ) of sets of atoms from L, such that X \u2286 Y . An HT-interpretation is total if X = Y . The intuition is that atoms in X (the here part) are considered to be true, atoms not in Y (the there part) are considered to be false, while the remaining atoms (from Y \\X) are undefined.\nWe denote classical satisfaction of a formula\u03c6 by an interpretationX , i.e., a set of atoms, as X |= \u03c6, whereas satisfaction in the logic of here-and-there (an HT-model), symbolically (X,Y ) |= \u03c6, is defined recursively:\n1. (X,Y ) |= a if a \u2208 X , for any atom a, 2. (X,Y ) 6|= \u22a5, 3. (X,Y ) |= \u03c6 \u2227 \u03c8 if (X,Y ) |= \u03c6 and (X,Y ) |= \u03c8,\n1 When uniform equivalence of theories is considered, then factual theories can be considered instead of facts\u2014 hence the terminology\u2014see also the discussion at the end of this section.\n4. (X,Y ) |= \u03c6 \u2228 \u03c8 if (X,Y ) |= \u03c6 or (X,Y ) |= \u03c8, 5. (X,Y ) |= \u03c6 \u2192 \u03c8 if (i) (X,Y ) 6|= \u03c6 or (X,Y ) |= \u03c8, and (ii) Y |= \u03c6 \u2192 \u03c82.\nAn HT-interpretation (X,Y ) satisfies a theory \u0393, iff it satisfies all formulas \u03c6 \u2208 \u0393. For an axiomatic proof system see, e.g., (Lifschitz et al. 2007).\nA total HT-interpretation (Y, Y ) is called an equilibrium model of a theory\u0393, iff (Y, Y ) |= \u0393 and for all HT-interpretations (X,Y ), such that X \u2282 Y , it holds that (X,Y ) 6|= \u0393. An interpretation Y is an answer set of \u0393 iff (Y, Y ) is an equilibrium model of \u0393.\nWe will make use of the following simple properties: if (X,Y ) |= \u0393 then (Y, Y ) |= \u0393; and (X,Y ) |= \u00ac\u03c6 iff Y |= \u00ac\u03c6; as well as of the following lemma.\nLemma 1 (Lemma 5 in (Pearce and Valverde 2004))\nIf \u03c6 is a factual propositional formula, (X,Y ) |= \u03c6, and X \u2286 X \u2032 \u2286 Y , then (X \u2032, Y ) |= \u03c6."}, {"heading": "2.2 Propositional Logic Programming", "text": "A (disjunctive) rule r is of the form\na1 \u2228 \u00b7 \u00b7 \u00b7 \u2228 ak \u2228 \u00acak+1 \u2228 \u00b7 \u00b7 \u00b7 \u2228 \u00acal \u2190 b1, . . . , bm,\u00acbm+1, . . . ,\u00acbn, (1)\nwhere a1, . . . , al, b1, . . . , bn are atoms of a propositional signature L, such that l \u2265 k \u2265 0, n \u2265 m \u2265 0, and l + n > 0. We refer to \u201c\u00ac\u201d as default negation. The head of r is the set H(r) = {a1, . . . , ak,\u00acak+1, . . . ,\u00acal}, and the body of r is denoted by B(r) = {b1, . . . , bm, \u00acbm+1, . . . , \u00acbn}. Furthermore, we define the sets H+(r) = {a1, . . . , ak}, H\u2212(r) = {ak+1, . . . , al}, B+(r) = {b1, . . . , bm}, and B\u2212(r) = {bm+1, . . . , bn}. A program \u03a0 (over L) is a set of rules (over L).\nAn interpretation I , i.e., a set of atoms, satisfies a rule r, symbolically I |= r, iff I \u2229 H+(r) 6= \u2205 orH\u2212(r) 6\u2286 I , if B+(r) \u2286 I andB\u2212(r)\u2229I = \u2205. Adapted from (Gelfond and Lifschitz 1991), the reduct of a program \u03a0 with respect to an interpretation I , symbolically \u03a0I , is given by the set of rules\na1 \u2228 \u00b7 \u00b7 \u00b7 \u2228 ak \u2190 b1, . . . , bm,\nobtained from rules in \u03a0, such that H\u2212(r) \u2286 I and B\u2212(r) \u2229 I = \u2205. An interpretation I is called an answer set of \u03a0 iff I |= \u03a0I and it is subset minimal among the interpretations of L with this property."}, {"heading": "2.3 Notions of Equivalence", "text": "For any two theories, respectively programs, and a potential extension by \u0393, we consider the following notions of equivalence which have been shown to be the only forms of equivalence obtained by varying the logical form of extensions in the propositional case in (Pearce and Valverde 2004).\n2 That is, Y satisfies \u03c6 \u2192 \u03c8 classically.\nDefinition 1 Two theories \u03931,\u03932 over L are called\n\u2022 classically equivalent, \u03931 \u2261c \u03932, if and only if they have the same classical models; \u2022 answer-set equivalent, \u03931 \u2261a \u03932, if and only if they have the same answer sets, i.e.,\nequilibrium models; \u2022 strongly equivalent, \u03931 \u2261s \u03932, if and only if, for any theory \u0393 over L\u2032 \u2287 L, \u03931 \u222a \u0393\nand \u03932 \u222a \u0393 are answer-set equivalent; \u2022 uniformly equivalent,\u03931 \u2261u \u03932, if and only if, for any factual theory \u0393 over L\u2032 \u2287 L, \u03931 \u222a \u0393 and \u03932 \u222a \u0393 are answer-set equivalent.\nEmanating from a logic programming setting, uniform equivalence is usually understood wrt. sets of facts (i.e., atoms). Obviously, uniform equivalence wrt. factual theories implies uniform equivalence wrt. sets of facts. The converse direction has been shown as well for general propositional theories (cf. Theorem 2 in (Pearce and Valverde 2004)). Therefore, in general there is no difference whether uniform equivalence is considered wrt. sets of facts or factual theories. The latter may be regarded as facts, i.e., rules with an empty body, of so-called nested logic program rules. One might also consider sets of disjunctions of atomic formulas and their negations (i.e., clauses), accounting for facts according to the definition of program rules in this article. Note that clauses constitute factual formulas and the classical transformation of clauses into implications is not valid under answer set semantics (respectively in HT)."}, {"heading": "3 Equivalence of Propositional Theories by HT-Countermodels", "text": "Uniform equivalence is usually characterized by so-called UE-models, i.e., total and maximal non-total HT-models, which fail to capture uniform equivalence for infinite propositional theories.\nExample 1 ((Eiter et al. 2007)) Let \u03931 and \u03932 over L = {ai | i \u2265 1} be the following propositional theories\n\u03931 = {ai | i \u2265 1}, and \u03932 = {\u00acai \u2192 ai, ai+1 \u2192 ai | i \u2265 1}.\nBoth, \u03931 and \u03932, have the single total HT-model (L,L). Furthermore, \u03931 has no non-total HT-model (X,L), i.e, such that X \u2282 L, while \u03932 has the non-total HT-models (Xi,L), where Xi = {a1, . . . , ai} for i \u2265 0. Both theories have the same total and maximal nontotal (namely none) HT-models. But they are not uniformly equivalent as witnessed by the fact that (L,L) is an equilibrium model of \u03931 but not of \u03932.\nThe reason for this failure is the inability of the concept of maximality to capture differences exhibited by an infinite number of HT-models."}, {"heading": "3.1 HT-Countermodels", "text": "The above problem can be avoided by taking HT-countermodels that satisfy a closure condition instead of the maximality criterion.\nDefinition 2\nAn HT-interpretation (X,Y ) is an HT-countermodel of a theory \u0393 if (X,Y ) 6|= \u0393. The set of HT-countermodels of a theory \u0393 is denoted by Cs(\u0393).\nIntuitively, an HT-interpretation fails to be an HT-model of a theory \u0393 when the theory is not satisfied at one of the worlds (here or there). Note that satisfaction at the there world amounts to classical satisfaction of the theory by Y . A simple consequence is that if Y 6|= \u0393, then (X,Y ) is an HT countermodel of \u0393 for any X \u2286 Y . At the here world, classical satisfaction is a sufficient condition but not necessary. For logic programs, satisfaction at the here world is precisely captured by the reduct of the program \u03a0 wrt. the interpretation at the there world, i.e., if X |= \u03a0Y .\nDefinition 3\nA total HT-interpretation (Y, Y ) is total-closed in a set S of HT-interpretations if (X,Y ) \u2208 S for every X \u2286 Y . We say that an HT-interpretation (X,Y ) is\n\u2022 closed in a set S of HT-interpretations if (X \u2032, Y ) \u2208 S for every X \u2286 X \u2032 \u2286 Y . \u2022 there-closed in a set S of HT-interpretations if (Y, Y ) 6\u2208 S and (X \u2032, Y ) \u2208 S for every X \u2286 X \u2032 \u2282 Y .\nA set S of HT-interpretations is total-closed, if every total HT-interpretation (Y, Y ) \u2208 S is total-closed in S. By the remarks on the satisfaction at the there world above, it is obvious that every total HT-countermodel of a theory is also total-closed in Cs(\u0393). Consequently, Cs(\u0393) is a total-closed set for any theory \u0393. By the same argument, if (X,Y ) is an HT-countermodel such that X \u2282 Y and Y 6|= \u0393, then (X,Y ) is closed in Cs(\u0393). The more relevant cases concerning the characterization of equivalence are HT-countermodels (X,Y ) such that Y |= \u0393.\nExample 2\nConsider the theory \u03931 in Example 1 and a non-total HT-interpretation (X,L). Since (X,L) is non-total, X \u2282 L holds, and therefore (X,L) 6|= ai, for some ai \u2208 L. Thus, we have identified a HT-countermodel of \u03931. Moreover the same argument holds for any non-total HT-interpretation of the from (X \u2032,L) (in particular such that X \u2286 X \u2032 \u2282 Y ). Therefore, (X,L) is there-closed in Cs(\u03931).\nThe intuition that, essentially, there-closed countermodels can be used instead of maximal non-total HT-models for characterizing uniform equivalence draws from the following observation. If (X,Y ) is a maximal non-total HT-model, then every (X \u2032, Y ), such that X \u2282 X \u2032 \u2282 Y , is a there-closed HT-countermodel. However, there-closed HTcountermodels are not sensitive to the problems that infinite chains cause for maximality.\nGiven a theory \u0393, let Cu(\u0393) denote the set of there-closed HT-interpretations in Cs(\u0393).\nTheorem 1\nTwo propositional theories \u03931, \u03932 are uniformly equivalent iff they have the same sets of there-closed HT-countermodels, in symbols \u03931 \u2261u \u03932 iff Cu(\u03931) = Cu(\u03932)."}, {"heading": "Proof", "text": "For the only-if direction, assume that two theories, \u03931 and \u03932, are uniformly equivalent. Then they are classically equivalent, i.e., they coincide on total HT-models, and therefore also on total HT-countermodels. Since a total HT-interpretation (Y, Y ) is there-closed in Cs(\u0393) if (Y, Y ) 6\u2208 Cs(\u0393), i.e., if (Y, Y ) is an HT-model of \u0393, this proves that \u03931 and \u03932 coincide on total HT-interpretations that are there-closed in Cs(\u03931), respectively in Cs(\u03932).\nTo prove our claim, it remains to show that \u03931 and \u03932 coincide on non-total thereclosed HT-countermodels (X,Y ), i.e., such that (Y, Y ) is an HT-model of both theories. Consider such a there-closed HT-countermodel of \u03931. Then, (Y, Y ) is a total HT-model of \u03931 \u222a X and no X \u2032 \u2282 Y exists such that (X \u2032, Y ) |= \u03931 \u222a X , either because it is an HT-countermodel of \u03931 (in case X \u2286 X \u2032 \u2282 Y ) or of X (in case X \u2032 \u2282 X). Thus, Y is an answer set of \u03931 \u222a X and, by hypothesis since X is factual, it is also an answer set of \u03932 \u222a X . The latter implies for all X \u2286 X \u2032 \u2282 Y that (X \u2032, Y ) 6|= \u03932 \u222a X . All these HT-interpretations are HT-models of X . Therefore we conclude that they all are HTcountermodels of \u03932 and hence (X,Y ) is a there-closed HT-countermodel of \u03932. Again by symmetric arguments, we establish the same for any there-closed HT countermodel (X,Y ) of \u03932 such that (Y, Y ) is a common total HT-model. This proves that \u03931 and \u03932 have the same sets of there-closed HT countermodels.\nFor the if direction, assume that two theories, \u03931 and \u03932, have the same sets of thereclosed HT-countermodels. This implies that they have the same total HT-models (since these are there-closed). Consider any factual theory \u0393\u2032 such that Y is an answer set of \u03931 \u222a \u0393\u2032. We show that Y is an answer set of \u03932 \u222a \u0393\u2032 as well. Clearly, (Y, Y ) |= \u03931 \u222a \u0393\u2032 implies (Y, Y ) |= \u0393\u2032 and therefore (Y, Y ) |= \u03932 \u222a \u0393\u2032. Consider any X \u2282 Y . Since Y is an answer set of \u03931 \u222a \u0393\u2032, it holds that (X,Y ) 6|= \u03931 \u222a \u0393\u2032. We show that (X,Y ) 6|= \u03932 \u222a \u0393\u2032. If (X,Y ) 6|= \u0393\u2032 this is trivial, and in particular the case if (X,Y ) |= \u03931. So let us consider the case where (X,Y ) 6|= \u03931 and (X,Y ) |= \u0393\u2032. By Lemma 1 we conclude from the latter that, for any X \u2286 X \u2032 \u2282 Y , (X \u2032, Y ) |= \u0393\u2032. Therefore, (X \u2032, Y ) 6|= \u03931, as well. This implies that (X,Y ) is a there-closed HT-countermodel of \u03931. By hypothesis, (X,Y ) is a there-closed HT-countermodel of \u03932, i.e., (X,Y ) 6|= \u03932. Consequently, (X,Y ) 6|= \u03932 \u222a \u0393\u2032. Since this argument applies to any X \u2282 Y , (Y, Y ) is an equilibrium model of \u03932 \u222a \u0393\u2032, i.e., Y is an answer set of \u03932 \u222a \u0393\u2032. The argument with \u03931 and \u03932 interchanged, proves that Y is an answer set of \u03931 \u222a\u0393\u2032 if it is an answer set of \u03932 \u222a\u0393\u2032. Therefore, the answer sets of \u03931 \u222a\u0393\u2032 and \u03932 \u222a \u0393\u2032 coincide for any factual \u0393\u2032, i.e., \u03931 and \u03932 are uniformly equivalent.\nExample 3 Reconsider the theories in Example 1. Every non-total HT-interpretation (Xi,L) is an HTcountermodel of \u03931, and thus, each of them is there-closed in Cs(\u03931). On the other hand, none of these HT-interpretations is an HT-countermodel of \u03932. Therefore, \u03931 and \u03932 are not uniformly equivalent.\nCountermodels have the drawback however, that they cannot be characterized directly in HT itself, i.e., as the HT-models of a \u2018dual\u2019 theory. The usage of \u201cdual\u201d here is nonstandard compared to its application to particular calculi or consequence relations, but it likewise conveys the idea of a dual concept. In this sense HT therefore is non-dual:\nProposition 1 Given a theory \u0393, in general there is no theory \u0393\u2032 such that (X,Y ) is an HT-countermodel of \u0393 iff it is a HT-model of \u0393\u2032, for any HT-interpretation (X,Y )."}, {"heading": "Proof", "text": "As observed in (Cabalar and Ferraris 2007), any theory has a total-closed set of countermodels. Consider the theory \u0393 = {a} and suppose there exists a theory \u0393\u2032, such that (X,Y ) is an HT-countermodel of \u0393 iff it is an HT-model of \u0393\u2032. Then, vice versa, (X,Y ) is an HT-countermodel of \u0393\u2032 iff it is an HT-model of \u0393. Since for Y = {a}, (Y, Y ) is an HT-model of \u0393, we conclude that (Y, Y ) is an HT-countermodel of \u0393\u2032. Because any theory has a total-closed set of countermodels, it follows that (\u2205, Y ) is an HT-countermodel of \u0393\u2032, hence, an HT-model of \u0393. Contradiction."}, {"heading": "3.2 Characterizing Equivalence by means of Equivalence Interpretations", "text": "The characterization of countermodels by a theory in HT essentially fails due to total HTcountermodels. However, total HT-countermodels of a theory are not necessary for characterizing equivalence, in the sense that they can be replaced by total HT-models of the theory for this purpose.\nDefinition 4 An HT-countermodel (X,Y ) of a theory \u0393 is called a here-countermodel of \u0393 if Y |= \u0393.\nDefinition 5 An HT-interpretation is an equivalence interpretation of a theory \u0393 if it is a total HT-model of \u0393 or a here-countermodel of \u0393. The set of equivalence interpretations of a theory \u0393 is denoted by Es(\u0393).\nTheorem 2 Two theories \u03931 and \u03932 coincide on their HT-countermodels iff they have the same equivalence interpretations, symbolically Cs(\u03931) = Cs(\u03932) iff Es(\u03931) = Es(\u03932)."}, {"heading": "Proof", "text": "For the only-if direction, assume that two theories, \u03931 and \u03932, have the same sets of HTcountermodels. This implies that they have the same here-countermodels. Furthermore, since the total HT-countermodels are equal, they also coincide on total HT-models. Consequently, \u03931 and \u03932 have the same equivalence interpretations.\nFor the if direction, assume that two theories, \u03931 and \u03932, coincide on their equivalence interpretations. Then they have the same total HT-models and hence the same total HTcountermodels. Since total HT-countermodels of every theory are total-closed in the set of HT-countermodels, the sets of HT-countermodels coincide on all HT-interpretations (X,Y ) such that (Y, Y ) is a (total) HT countermodel. All remaining HT-countermodels are here-countermodels and therefore coincide by hypothesis and the definition of equivalence interpretations. This proves the claim.\nAs a consequence of this result, and the usual relationships on HT-models, we can characterize equivalences of propositional theories also by selections of equivalence interpretations, i.e., a mixture of non-total here-countermodels and total HT-models, such that the characterizations, in particular for uniform equivalence, are also correct for infinite theories.\nDefinition 6 Given a theory \u0393, we denote by\n\u2022 Cc(\u0393), respectively Ec(\u0393), the restriction to total HT-interpretations in Cs(\u0393), respectively in Es(\u0393); \u2022 Ca(\u0393) the set of there-closed HT-interpretations of the form (\u2205, Y ) in Cs(\u0393), and by Ea(\u0393) the set of total-closed HT-interpretations in Es(\u0393) (i.e., equilibrium models); \u2022 Eu(\u0393) the set of closed HT-interpretations in Es(\u0393).\nBy means of the above sets of HT-countermodels, respectively equivalence interpretations, equivalences of propositional theories can be characterized as follows.\nCorollary 1 Given two propositional theories \u03931 and \u03932, the following propositions are equivalent for e \u2208 {c, a, s, u}:\n(1) \u03931 \u2261e \u03932; (2) Ce(\u03931) = Ce(\u03932); (3) Ee(\u03931) = Ee(\u03932).\nExample 4 In our running example, Cu(\u03931) 6= Cu(\u03932), as well as Eu(\u03931) 6= Eu(\u03932), by the remarks on non-total HT-interpretations in Example 3.\nSince equivalence interpretations do not encompass total HT-countermodels, we attempt a direct characterization in HT.\nLemma 2 For any HT-interpretation (X,Y ) of signature L and \u03c4\u01eb = {\u00ac\u00aca \u2192 a | a \u2208 L}, it holds that (X,Y ) |= \u03c4\u01eb iff X = Y ."}, {"heading": "Proof", "text": "(X,Y ) |= \u03c4\u01eb for all a \u2208 L iff (X,Y ) |= \u00ac\u00aca \u2192 a for all a \u2208 L iff, for every a \u2208 L, it holds that (X,Y ) 6|= \u00ac\u00aca or (X,Y ) |= a, and Y |= \u00ac\u00aca \u2192 a. The latter is a tautology, and (X,Y ) 6|= \u00ac\u00aca iff a 6\u2208 Y . We conclude that (X,Y ) |= \u03c4\u01eb iff (X,Y ) |= a for all a \u2208 Y , i.e., iff X = Y .\nBy means of this lemma, we can use formulas of the form \u00ac\u00aca \u2192 a to ensure for a given formula \u03c6 of \u0393 that if (X,Y ) |= \u03c6 then X = Y , i.e., that the HT-interpretation is total.\nProposition 2 Let M be an HT-interpretation over L. Then, M \u2208 Es(\u0393) for a theory \u0393 iff M |= \u0393\u03c6 for some \u03c6 \u2208 \u0393, where \u0393\u03c6 = {\u00ac\u00ac\u03c8 | \u03c8 \u2208 \u0393} \u222a {\u03c6 \u2192 (\u00ac\u00aca \u2192 a) | a \u2208 L}."}, {"heading": "Proof", "text": "For the only-if direction, assume (X,Y ) is an equivalence interpretation of \u0393. Then Y |= \u03c8 for all \u03c8 \u2208 \u0393 and therefore (X,Y ) |= \u00ac\u00ac\u03c8 for all \u03c8 \u2208 \u0393. If X = Y , then by Lemma 2, (X,Y ) also satisfies \u00ac\u00aca \u2192 a for all a \u2208 L. In this case, (X,Y ) |= \u0393\u03c6 for all \u03c6 \u2208 \u0393. We continue with the case where X \u2282 Y . Then, (X,Y ) is a here-countermodel of \u0393, i.e., there exists \u03c6 \u2208 \u0393 such that (X,Y ) 6|= \u03c6. This implies that (X,Y ) |= \u03c6 \u2192 (\u00ac\u00aca \u2192 a) for all a \u2208 L, i.e., (X,Y ) |= \u0393\u03c6. This proves the claim for X \u2282 Y .\nFor the if direction, assume that (X,Y ) |= \u0393\u03c6 for some \u03c6 \u2208 \u0393. Then, (X,Y ) |= \u00ac\u00ac\u03c8 for all \u03c8 \u2208 \u0393, which implies Y |= \u03c8 for all \u03c8 \u2208 \u0393. Consequently, (X,Y ) is an equivalence interpretation of \u0393 if X = Y . If X \u2282 Y , we conclude that (X,Y ) does not satisfy \u00ac\u00aca \u2192 a for some a \u2208 L by Lemma 2. However, (X,Y ) |= \u0393\u03c6 for some \u03c6 \u2208 \u0393, hence (X,Y ) |= \u03c6 \u2192 (\u00ac\u00aca \u2192 a) for all a \u2208 L. Therefore, (X,Y ) 6|= \u03c6 must hold for some \u03c6 \u2208 \u0393. This proves, since X \u2282 Y , that (X,Y ) is a here-countermodel of \u0393, i.e., an equivalence interpretation of \u0393.\nFor infinite propositional theories, we thus end up with a characterization of equivalence interpretations as the union of the HT-models of an infinite number of (infinite) theories. At least for finite theories, however, a characterization in terms of a (finite) theory is obtained (even for a potentially extended infinite signature).\nIf L\u2032 \u2283 L and M = (X,Y ) is an HT-interpretation over L\u2032, then M |L denotes the restriction of M to L: M |L = (X |L, Y |L). The restriction is totality preserving, if X \u2282 Y implies X |L \u2282 Y |L.\nProposition 3 Let \u0393 be a theory over L, let L\u2032 \u2283 L, and let M an HT-interpretation over L\u2032 such that M |L is totality preserving. Then, M \u2208 Cs(\u0393) implies M |L \u2208 Cs(\u0393)."}, {"heading": "Proof", "text": "Let M = (X \u2032, Y \u2032), M |L = (X,Y ), and assume M 6|= \u0393. First, suppose M is total, hence, Y \u2032 6|= \u0393. Then, Y 6|= \u0393, because otherwise Y \u2032 |= \u0393 would hold, since \u0393 is over L. This proves the claim for total HT-countermodels, and since HT countermodels are total-closed, for any HT-countermodel M = (X \u2032, Y \u2032), such that Y \u2032 6|= \u0393.\nWe continue with the case that Y \u2032 |= \u0393. Then X \u2032 \u2282 Y \u2032 holds, which means that M is an equivalence interpretation of \u0393. Therefore, M 6|= \u03c6 for some \u03c6 \u2208 \u0393. Additionally, M |= \u00ac\u00ac\u03c8 for all \u03c8 \u2208 \u0393 (recall that Y \u2032 |= \u0393). This implies M |= \u0393\u03c6, where \u0393\u03c6 = {\u00ac\u00ac\u03c8 | \u03c8 \u2208 \u0393} \u222a {\u03c6 \u2192 (\u00ac\u00aca \u2192 a) | a \u2208 L}. Therefore, M |L |= \u0393\u03c6, i.e., M |L is an equivalence interpretation of \u0393. Since the restriction is totality preserving, M |L is non-total. This proves M |L 6|= \u0393.\nThis eventually enables the characterization of the HT-countermodels of a finite theory by another finite theory, as stated in the next result.\nTheorem 3 Let \u0393 be a finite theory over L, and let M be an HT-interpretation. Then, M \u2208 Es(\u0393) iff M |L |= \u2228 \u03c6\u2208\u0393 \u2227 \u03c8\u2208\u0393\u03c6 \u03c8, and M |L is totality preserving."}, {"heading": "Proof", "text": "For the only-if direction let M \u2208 Es(\u0393). If M is total thenM |L is total andM |= \u0393 implies M |L |= \u0393. Hence, M |L \u2208 Es(\u0393) and M |L |= \u2228 \u03c6\u2208\u0393 \u2227 \u03c8\u2208\u0393\u03c6\n\u03c8. So let M be non-total. We show that M |L is totality-preserving. Towards a contradiction assume the contrary. Then, M |L is total. From Y |= \u0393 we conclude Y |L |= \u0393 and the same for X |L by X |L = Y |L. Because \u0393 is over L, X |= \u0393 follows, hence M |= \u0393, which is a contradiction. Thus, M |L is totality-preserving. Then M |L is also non-total and in Cs(\u0393). Therefore M |L \u2208 Es(\u0393), which implies M |L |= \u2228 \u03c6\u2208\u0393 \u2227 \u03c8\u2208\u0393\u03c6\n\u03c8. For the if direction, consider any HT-interpretationM such that M |L satisfies the theory\u2228 \u03c6\u2208\u0393 \u2227 \u03c8\u2208\u0393\u03c6\n\u03c8 and M |L is totality preserving. If M is total then M |L is total and M |L |= \u0393, which implies M |= \u0393, since \u0393 is over L. If M is non-total then M |L is non-total and M |L 6|= \u0393, which implies M 6|= \u0393.\nExample 5 Let \u0393 = {a} over L = {a} and recall what the proof of Proposition 1 established: There is no theory \u0393\u2032 such that (X,Y ) is an HT-model of \u0393\u2032 iff it is an HT-countermodel of \u0393. According to Theorem 3 however, we can characterize Es(\u0393) by means of totalitypreserving HT-models of the theory \u0393\u2032 = {\u00ac\u00ac a \u2227 (a \u2192 (\u00ac\u00aca \u2192 a))}. Consider any HT-interpretation (X,Y ) over L\u2032 \u2283 L. It is easily verified that (X,Y ) |= \u0393\u2032 iff a \u2208 Y . If additionally a \u2208 X and X \u2282 Y , then (X |L, Y |L) is not totality preserving. Thus, (X,Y ) is a totality-preserving HT-model of \u0393\u2032 iff a \u2208 Y and either X = Y or a 6\u2208 X . These interpretations respectively correspond to the total models and the here-countermodels, i.e., the equivalence interpretations of \u0393 over L\u2032."}, {"heading": "3.3 Relativized Hyperequivalence for Propositional Theories", "text": "We now turn to the notion of relativized hyperequivalence. The term \u2018hyperequivalence\u2019 has been coined in the context of ASP, as a general expression for different forms of equivalence, which guarantee that the semantics is preserved under the addition of arbitrary programs (called contexts) from a particular class of programs (Truszczynski and Woltran 2008a). Relativized hyperequivalence emanates from the study of relativized notions of equivalence by restricting contexts to particular alphabets (see e.g., (Eiter et al. 2007; Pearce et al. 2007)). It has been generalized to the setting, where possibly different alphabets are used to restrict the head atoms and the body atoms allowed to appear in context rules (Woltran 2008).\nWhile up to now relativized hyperequivalence has only been studied for finite programs, we aim at a generalization of relativized hyperequivalence for propositional theories under the answer-set semantics, without any finiteness restrictions. For this purpose, we first generalize the notions of \u2018head atom\u2019 and \u2018body atom\u2019 for theories.\nThe occurrence of an atom a in a formula \u03c6 is called positive if \u03c6 is implication free, if a occurs in the consequent of an implication in \u03c6, or if \u03c6 is of the form (\u03c61 \u2192 \u03c62) \u2192 \u03c63 and a occors in \u03c61. An occurrence of a is called negative if a occurs in the antecedent of an implication. The notion of positive and negative occurrence is extended to (sub-)formulas in the obvious way. Note that any occurrence under negation therefore is a negative occurrence, and that the occurrence of an atom or subformula may be both positive and negative, for instance the occurrence of b in a \u2192 (b \u2192 \u22a5), viz. a \u2192 \u00acb.\nA propositional theory \u0393 over A+ \u222a A\u2212, where A+ and A\u2212 are sets of propositional variables, is called an A+-A\u2212-theory if every formula in \u0393 has positive occurrences of atoms from A+, and negative occurrences of atoms from A\u2212, only. Note that \u22a5 is always allowed to appear both, positively and negatively. An A+-A\u2212-theory is called extended, if additionally factual formulas over A+ are permitted.\nBy means of these notions, relativized hyperequivalence for propositional theories can be expressed as follows, which is a proper generalization of the logic programming setting.\nDefinition 7 Two propositional theories \u03931,\u03932 over L are called relativized hyperequivalent wrt. A+ and A\u2212, symbolically \u03931 A + A\u2212 \u2261 \u03932, iff for any A+-A\u2212-theory \u0393 over L\u2032 \u2287 L, \u03931 \u222a \u0393 and \u03932 \u222a \u0393 are answer-set equivalent.\nTowards a characterization of relativized hyperequivalence, our goal is to follow the same methodology that we used to characterize uniform equivalence, i.e., resorting to HTcountermodels and respective closure conditions. However, while in the logic programming setting such closure conditions may be obtained from certain monotonicity properties of the program reduct, we first have to establish corresponding properties for theories. A first property in this respect is the following. Note that although the next result is stated for extended A+-A\u2212-theories (for reasons which will become clear later), it trivially also holds for any (non-extended) A+-A\u2212-theory.\nProposition 4 Consider an extended propositional A+-A\u2212-theory \u0393, and an HT-interpretation (X,Y ). Then, (X,Y ) |= \u0393 implies (X \u2032, Y ) |= \u0393, for all X \u2032 \u2286 Y such that X |A+ \u2286 X \u2032|A+ and X \u2032|A\u2212 \u2286 X |A\u2212 ."}, {"heading": "Proof", "text": "Consider any A+-A\u2212-formula \u03c6 in \u0393, i.e., any formula that has positive occurrences of atoms from A+, and negative occurrences of atoms from A\u2212, only. We show by induction on the formula structure of \u03c6, that for all X \u2032 \u2286 Y such that X |A+ \u2286 X \u2032|A+ and X \u2032|A\u2212 \u2286 X |A\u2212 :\n(a) (X,Y ) |= \u03c6 implies (X \u2032, Y ) |= \u03c6 if \u03c6 is a positive occurrence; and (b) (X,Y ) 6|= \u03c6 implies (X \u2032, Y ) |= \u03c6 if \u03c6 is a negative occurrence.\nFor the base case, consider any atomic formula \u03c6, and suppose first that (a) the occurrence of \u03c6 is a positive occurrence. Then, (X,Y ) |= \u03c6 implies that \u03c6 is not \u22a5, and thus is an atom a from A+ such that a \u2208 X . Since X |A+ \u2286 X \u2032|A+ for all X \u2032 under consideration, we conclude that a \u2208 X \u2032. Hence, (X \u2032, Y ) |= \u03c6. Suppose (b) \u03c6 is a negative occurrence. If (X,Y ) 6|= \u03c6, then either \u03c6 is \u22a5, and (X \u2032, Y ) 6|= \u03c6 follows trivially. Otherwise, \u03c6 is an atom b from A\u2212, such that b 6\u2208 X |A\u2212 . Since X \u2032|A\u2212 \u2286 X |A\u2212 for all X \u2032 under consideration, we conclude that b 6\u2208 X \u2032, i.e., (X \u2032, Y ) 6|= \u03c6. This proves (a) and (b) for atomic formulas.\nFor the induction step, assume that (a) and (b) hold for any A+-A\u2212-formula of connective nesting depth n\u22121, and let \u03c6 be a formula of connective nesting depth n. Consider the case where \u03c6 is of the form \u03c61 \u2227\u03c62, respectively \u03c61 \u2228\u03c62. If \u03c6 is a positive occurrence (a), then so are \u03c61 and \u03c62, both of connective nesting depth depth n\u2212 1. From (X,Y ) |= \u03c6 we\nconclude (X,Y ) |= \u03c61 and (or) (X,Y ) |= \u03c62. The induction hypothesis applies, proving (X \u2032, Y ) |= \u03c61 and (or) (X \u2032, Y ) |= \u03c62, for all X \u2032 \u2286 Y such that X |A+ \u2286 X \u2032|A+ and X \u2032|A\u2212 = X |A\u2212 , i.e., (X \u2032, Y ) |= \u03c6 for all X \u2032 under consideration. In case \u03c6 is a negative occurrence (b), then so are \u03c61 and \u03c62, both of connective nesting depth n \u2212 1. Then, (X,Y ) 6|= \u03c6 implies (X,Y ) 6|= \u03c61 or (and) (X,Y ) 6|= \u03c62, and the same holds for any (X \u2032, Y ) under consideration by induction hypothesis. This proves (X,Y ) 6|= \u03c6 implies (X \u2032, Y ) |= \u03c6.\nFinally, let \u03c6 be of the form \u03c61 \u2192 \u03c62. Then, independent of whether \u03c6 occurs positively or negatively, \u03c61 is a negative occurrence and \u03c62 is a positive occurrence, both of connective nesting depth n \u2212 1. First, suppose that \u03c6 is a positive occurrence (a), as well as that (X,Y ) |= \u03c6. Towards a contradiction assume that there exists X \u2032 \u2286 Y such that X |A+ \u2286 X \u2032|A+ , X \u2032|A\u2212 \u2286 X |A\u2212 , and (X \u2032, Y ) 6|= \u03c6. Since (X,Y ) |= \u03c6 implies that Y |= \u03c6, we conclude that both, (X \u2032, Y ) |= \u03c61 and (X \u2032, Y ) 6|= \u03c62, hold. From the latter, since \u03c62 is a positive occurrence of connective nesting depth n \u2212 1, it follows that (X,Y ) 6|= \u03c62 (otherwise by induction hypothesis (a) (X \u2032, Y ) |= \u03c62). This implies (X,Y ) 6|= \u03c61 since (X,Y ) |= \u03c6. However, \u03c61 is a negative occurrence of connective nesting depth n \u2212 1, thus by induction hypothesis (b) we conclude that (X \u2032, Y ) 6|= \u03c61, a contradiction. Therefore, (X \u2032, Y ) |= \u03c6 for all X \u2032 under consideration, which proves (a). For (b), let \u03c6 be a negative occurrence and suppose (X,Y ) 6|= \u03c6. If Y 6|= \u03c6, then also (X \u2032, Y ) 6|= \u03c6 for all X \u2032 under consideration. In case Y |= \u03c6, we conclude that (X,Y ) |= \u03c61 and (X,Y ) 6|= \u03c62. Since \u03c6 is a negative occurrence, not only \u03c61 but also \u03c62 is a negative occurrence, both of connective nesting depth n \u2212 1. Therefore, by induction hypothesis (b) we conclude that (X \u2032, Y ) 6|= \u03c62. Moreover, also because \u03c6 is a negative occurrence, \u03c61 is a positive occurrence as well. Hence, by induction hypothesis (a) we conclude (X \u2032, Y ) |= \u03c61 from (X,Y ) |= \u03c61, viz. (X \u2032, Y ) 6|= \u03c6, for all X \u2032 under consideration. This concludes the inductive argument and proves (a) and (b) for A+-A\u2212-formulas of arbitrary connective nesting.\nNext, we turn to factual formulas \u03c8 in \u0393, and prove by induction on the formula structure of \u03c8, that\n(c) (X,Y ) |= \u03c8 implies (X \u2032, Y ) |= \u03c8, for all X \u2032 \u2286 Y such that X |A+ \u2286 X \u2032|A+ and X \u2032|A\u2212 \u2286 X |A\u2212 ; and (d) (Y, Y ) 6|= \u03c8 implies (X \u2032, Y ) 6|= \u03c8, for all X \u2032 \u2286 Y .\nFor the base case, consider any atomic formula\u03c8, and suppose first that (c) (X,Y ) |= \u03c8. Then, \u03c8 is not \u22a5, but an atom a from A+ such that a \u2208 X . Since X |A+ \u2286 X \u2032|A+ for all X \u2032 such that X |A+ \u2286 X \u2032|A+ and X \u2032|A\u2212 \u2286 X |A\u2212 , we conclude that a \u2208 X \u2032. Hence, (X \u2032, Y ) |= \u03c8. For (d), assume (Y, Y ) 6|= \u03c8. Then \u03c8 is \u22a5 or \u03c8 is a an atom not in Y . In the former case, (X \u2032, Y ) 6|= \u03c8 follows trivially for all X \u2032 \u2286 Y . In the latter case, the atom also cannot be a member of any X \u2032 such that X \u2032 \u2286 Y . Therefore, (X \u2032, Y ) 6|= \u03c8, for all X \u2032 \u2286 Y . This proves (c) and (d) for atomic formulas.\nFor the induction step, assume that (c) and (d) hold for any factual formula of connective nesting depth n\u22121, and let \u03c8 be a factual formula of connective nesting depth n. Consider the case where \u03c8 is of the form \u03c81 \u2227 \u03c82, respectively \u03c81 \u2228 \u03c82. Since \u03c8 is factual, so are \u03c81 and \u03c82, both of connective nesting depth depth n \u2212 1. In case (c), from (X,Y ) |= \u03c8 we conclude (X,Y ) |= \u03c81 and (or) (X,Y ) |= \u03c82. The induction hypothesis applies,\nproving (X \u2032, Y ) |= \u03c81 and (or) (X \u2032, Y ) |= \u03c82, for all X \u2032 \u2286 Y such that X |A+ \u2286 X \u2032|A+ and X \u2032|A\u2212 \u2286 X |A\u2212 , i.e., (X \u2032, Y ) |= \u03c8 for all X \u2032 under consideration. Assume (d), i.e., (Y, Y ) 6|= \u03c8. As a consequence, (Y, Y ) 6|= \u03c81 or (and) (Y, Y ) 6|= \u03c82, hence by induction hypothesis, for all X \u2032 \u2286 Y , it holds that (X \u2032, Y ) 6|= \u03c81 or (and) (X \u2032, Y ) 6|= \u03c82. Therefore, (X \u2032, Y ) 6|= \u03c8, for all X \u2032 \u2286 Y .\nFinally, let \u03c8 be of the form\u03c81 \u2192 \u22a5. Then,\u03c81 is factual and of connective nesting depth depth n \u2212 1. In case (c), if (X,Y ) |= \u03c8, then Y |= \u03c8, hence Y 6|= \u03c81, i.e., (Y, Y ) 6|= \u03c81 and by induction hypothesis (d), the same holds for any (X \u2032, Y ) such that X \u2032 \u2286 Y . Thus, in particular for X \u2032 \u2286 Y such that X |A+ \u2286 X \u2032|A+ and X \u2032|A\u2212 \u2286 X |A\u2212 , it follows that (X \u2032, Y ) 6|= \u03c81. Moreover, Y |= \u03c8, and therefore (X \u2032, Y ) |= \u03c8 \u2192 \u22a5, for all X \u2032 \u2286 Y such that X |A+ \u2286 X \u2032|A+ and X \u2032|A\u2212 \u2286 X |A\u2212 . For (d), assume (Y, Y ) 6|= \u03c8. Consequently Y 6|= \u03c8, and this implies (X \u2032, Y ) 6|= \u03c8, for all X \u2032 \u2286 Y . This concludes the inductive argument and proves (c) and (d) for factual formulas over A+ of arbitrary connective nesting.\nConcerning the claim of the proposition, since (X,Y ) |= \u0393 implies (X,Y ) |= \u03c6 and (X,Y ) |= \u03c8, for every A+-A\u2212-formula \u03c6 in \u0393 and every factual formula \u03c8 in \u0393, we conclude that (X \u2032, Y ) |= \u03c6 and (X \u2032, Y ) |= \u03c8, for all X \u2032 \u2286 Y such that X |A+ \u2286 X \u2032|A+ and X \u2032|A\u2212 \u2286 X |A\u2212 . This proves (X \u2032, Y ) |= \u0393, for all X \u2032 under consideration.\nComplementary to this result, given a total HT-model of an (extended) A+-A\u2212-theory, we can infer its satisfaction for the following class of non-total HT-interpretations.\nProposition 5 Consider an extended propositionalA+-A\u2212-theory\u0393, and a total HT-interpretation (Y, Y ). Then, (Y, Y ) |= \u0393 implies (X \u2032, Y ) |= \u0393, for all X \u2032 \u2286 Y such that X \u2032|A+ = Y |A+ ."}, {"heading": "Proof", "text": "Consider any A+-A\u2212-formula \u03c6 in \u0393, i.e., any formula that has positive occurrences of atoms from A+, and negative occurrences of atoms from A\u2212, only. We show by induction on the formula structure of \u03c6, that for all X \u2032 \u2286 Y such that X \u2032|A+ = Y |A+ :\n(a) (Y, Y ) |= \u03c6 implies (X \u2032, Y ) |= \u03c6 if \u03c6 is a positive occurrence; and (b) (Y, Y ) 6|= \u03c6 implies (X \u2032, Y ) 6|= \u03c6 if \u03c6 is a negative occurrence.\nFor the base case, consider any atomic formula\u03c6, and suppose first (a) that \u03c6 is a positive occurrence such that (Y, Y ) |= \u03c6. Then \u03c6 is not \u22a5, and thus is an atom a from A+ such that a \u2208 Y . Since X \u2032|A+ = Y |A+ for all X \u2032 under consideration, we conclude that a \u2208 X \u2032. Hence, (X \u2032, Y ) |= \u03c6. Suppose (b) \u03c6 is a negative occurrence. If (Y, Y ) 6|= \u03c6, then \u03c6 is either \u22a5, or an atom b from A\u2212, such that b 6\u2208 Y . Since X \u2032 \u2286 Y implies X \u2032|A\u2212 \u2286 Y |A\u2212 for all X \u2032 under consideration, we conclude that b 6\u2208 X \u2032. Hence, (X \u2032, Y ) 6|= \u03c6.\nFor the induction step, assume that (a) and (b) hold for any A+-A\u2212-formula of connective nesting depth n \u2212 1, and let \u03c6 be a formula of connective nesting depth n. Consider the case where \u03c6 is of the form \u03c61 \u2227 \u03c62, respectively \u03c61 \u2228 \u03c62. If \u03c6 is a positive occurrence (a), then so are \u03c61 and \u03c62, both of connective nesting depth depth n\u2212 1. From (Y, Y ) |= \u03c6 we conclude (Y, Y ) |= \u03c61 and (or) (Y, Y ) |= \u03c62. The induction hypothesis applies, proving (X \u2032, Y ) |= \u03c61 and (or) (X \u2032, Y ) |= \u03c62, for all X \u2032 \u2286 Y such that X \u2032|A+ = Y |A+ , i.e., (X \u2032, Y ) |= \u03c6 for all X \u2032 under consideration. In case \u03c6 is a negative occurrence (b), then so are \u03c61 and \u03c62, both of connective nesting depth n\u2212 1. Then, (Y, Y ) 6|= \u03c6 implies\n(Y, Y ) 6|= \u03c61 or (and) (Y, Y ) 6|= \u03c62, and the same holds for any (X \u2032, Y ) under consideration by induction hypothesis. This proves (X \u2032, Y ) 6|= \u03c6. Finally, let \u03c6 be of the form \u03c61 \u2192 \u03c62. Then, independent of whether \u03c6 occurs positively or negatively, \u03c61 is a negative occurrence and \u03c62 is a positive occurrence, both of connective nesting depth n \u2212 1. First, suppose (Y, Y ) |= \u03c6. Towards a contradiction assume that there exists X \u2032 \u2286 Y such that X \u2032|A+ = Y |A+ and (X \u2032, Y ) 6|= \u03c6. Since (Y, Y ) |= \u03c6 implies that Y |= \u03c6, we conclude that both, (X \u2032, Y ) |= \u03c61 and (X \u2032, Y ) 6|= \u03c62, hold. From the latter, since \u03c62 is a positive occurrence of connective nesting depth n \u2212 1, it follows that (Y, Y ) 6|= \u03c62 (otherwise by induction hypothesis (a) (X \u2032, Y ) |= \u03c62). This implies (Y, Y ) 6|= \u03c61 since (Y, Y ) |= \u03c6. However, \u03c61 is a negative occurrence of connective nesting depth n\u2212 1, thus by induction hypothesis (b) we conclude that (X \u2032, Y ) 6|= \u03c61, a contradiction. Therefore, (X \u2032, Y ) |= \u03c6 for all X \u2032 under consideration, which proves (a). For (b), let \u03c6 be a negative occurrence and suppose (Y, Y ) 6|= \u03c6. Then Y 6|= \u03c6, hence also (X \u2032, Y ) 6|= \u03c6 for all X \u2032 under consideration. This concludes the inductive argument and proves (a) and (b) for A+-A\u2212-formulas of arbitrary connective nesting.\nNext, we turn to factual formulas \u03c8 in \u0393, and prove by induction on the formula structure of \u03c8, that (Y, Y ) |= \u03c8 implies (X \u2032, Y ) |= \u03c8, for all X \u2032 \u2286 Y such that X \u2032|A+ = Y |A+ .\nFor the base case, consider any atomic formula \u03c8, and suppose that (Y, Y ) |= \u03c8. Then, \u03c8 is not \u22a5, but an atom a from A+ such that a \u2208 Y . Since X \u2032|A+ = Y |A+ for all X \u2032 under consideration, we conclude that a \u2208 X \u2032. Hence, (X \u2032, Y ) |= \u03c8, for all X \u2032 \u2286 Y such that X \u2032|A+ = Y |A+ .\nFor the induction step, assume that the claim holds for any factual formula of connective nesting depth n\u22121, and let \u03c8 be a factual formula of connective nesting depth n. Consider the case where \u03c8 is of the form \u03c81 \u2227 \u03c82, respectively \u03c81 \u2228 \u03c82. Since \u03c8 is factual, so are \u03c81 and \u03c82, both of connective nesting depth depth n \u2212 1. From (Y, Y ) |= \u03c8 we conclude (Y, Y ) |= \u03c81 and (or) (Y, Y ) |= \u03c82. The induction hypothesis applies, proving (X \u2032, Y ) |= \u03c81 and (or) (X \u2032, Y ) |= \u03c82, for all X \u2032 \u2286 Y such that X \u2032|A+ = Y |A+ , i.e., (X \u2032, Y ) |= \u03c8 for all X \u2032 under consideration. Finally, let \u03c8 be of the form \u03c81 \u2192 \u22a5. Then, \u03c81 is factual and of connective nesting depth depth n\u2212 1. If (Y, Y ) |= \u03c8, then Y |= \u03c8, hence Y 6|= \u03c81, i.e., (Y, Y ) 6|= \u03c81 and by Case (d) in the proof of Proposition 4, the same holds for any (X \u2032, Y ) such that X \u2032 \u2286 Y . Thus, in particular for X \u2032 \u2286 Y such that X \u2032|A+ = Y |A+ , it follows that (X \u2032, Y ) 6|= \u03c81. Moreover, Y |= \u03c8, and therefore (X \u2032, Y ) |= \u03c8 \u2192 \u22a5, for all X \u2032 \u2286 Y such that X \u2032|A+ = Y |A+ . This concludes the inductive argument and proves the claim for factual formulas over A+ of arbitrary connective nesting.\nConcerning the claim of the proposition, since (Y, Y ) |= \u0393 implies (Y, Y ) |= \u03c6 and (Y, Y ) |= \u03c8, for every A+-A\u2212-formula \u03c6 in \u0393 and every factual formula \u03c8 in \u0393, we conclude that (X \u2032, Y ) |= \u03c6 and (X \u2032, Y ) |= \u03c8, for all X \u2032 \u2286 Y such that X \u2032|A+ = Y |A+ . This proves (X \u2032, Y ) |= \u0393, for all X \u2032 under consideration.\nHaving established these properties of A+-A\u2212-theories, we can state respective closure conditions for HT-interpretations referring to countermodels, or which we consider more convenient here, referring to equivalence interpretations.\nDefinition 8 Given a propositional theory \u0393 over L, sets of propositional variables A+ \u2286 L\u2032, A\u2212 \u2286 L\u2032, L\u2032 \u2287 L, and an HT-interpretation (X,Y ), we say that\n\u2022 (Y, Y ) is A+-total iff (Y |A+ , Y ) is closed in Es(\u0393); \u2022 (X,Y ) is A+-closed in Es(\u0393) iff (X \u2032, Y ) \u2208 Es(\u0393), for all X \u2032 \u2286 Y such that X |A+ \u2286 X \u2032|A+ and X \u2032|A\u2212 \u2286 X |A\u2212 .\nWith these concepts, a semantic characterization of relativized hyperequivalence for propositional theories can be established by means of the following characteristic equivalence interpretations.\nDefinition 9 An HT-interpretation (X,Y ) is an HT-hyperequivalence interpretation wrt. A+ and A\u2212 of a propositional theory \u0393 iff (Y, Y ) is A+-total and there exists an HT-interpretation (X \u2032, Y ) such that X = X \u2032|A+\u222aA\u2212 and (X \u2032, Y ) is A+-closed in Es(\u0393). The set of HT-hyperequivalence interpretations wrt. A+ and A\u2212 of a propositional theory \u0393 is denoted by EA +\nA\u2212 (\u0393).\nThis definition intuitively generalizes the characterization of Woltran (2008) for the logic programming setting to propositional theories. Note however, that rather than resorting to HT-models and a maximality criterion, the above definition refers to equivalence interpretations (i.e., HT-countermodels in case of non-totality) and respective closure conditions. As in the case of uniform equivalence, this not only simplifies the definition, but also avoids difficulties in infinite settings. The next result establishes that HT-hyperequivalence interpretations precisely characterize relativized hyperequivalence.\nTheorem 4 Two propositional theories \u03931,\u03932 are relativized hyperequivalent wrt. A+ and A\u2212 if and only if they coincide on their HT-hyperequivalence interpretations wrt. A+ and A\u2212, symbolically \u03931 A + A\u2212 \u2261 \u03932 iff EA + A\u2212 (\u03931) = E A+ A\u2212 (\u03932)."}, {"heading": "Proof", "text": "In the following, we will use the following notational simplification: For any set of atoms X , we write X+ for X |A+ , and X\u2212 for X |A\u2212 .\nFor the only-if direction suppose \u03931 A +\nA\u2212 \u2261 \u03932 and towards a contradiction assume that\nEA +\nA\u2212 (\u03931) 6= EA\n+\nA\u2212 (\u03932). W.l.o.g. let (X,Y ) \u2208 EA\n+\nA\u2212 (\u03931) and (X,Y ) 6\u2208 EA\n+\nA\u2212 (\u03932) (the other\ncase is symmetric). Note that (X,Y ) \u2208 EA + A\u2212 (\u03931) implies that (Y, Y ) is A+-total, i.e., (Y+, Y ) is closed in Es(\u03931). This implies that (Y+, Y ) is in EA +\nA\u2212 (\u03931). Suppose (Y+, Y )\nis not in EA +\nA\u2212 (\u03932). Then, either (Y, Y ) 6|= \u03932, or there exists Y+ \u2286 X \u2032 \u2282 Y such that\n(X \u2032, Y ) |= \u03932. Let \u0393 = Y+ and observe that in both cases Y is not an answer set of \u03932 \u222a \u0393. In the former case because (Y, Y ) 6|= \u03932 \u222a \u0393, in the latter because X \u2032 \u2282 Y and (X \u2032, Y ) |= \u03932 \u222a \u0393 (note that (X \u2032, Y ) |= \u0393 by Proposition 5). However, Y is an answer set of \u03931 \u222a \u0393. Indeed, (Y+, Y ) is closed in Es(\u03931). And for any X \u2032 \u2282 Y such that Y+ 6\u2286 X \u2032+, obviously (X \u2032, Y ) is a non-total HT-countermodel of \u0393. Consequently (Y, Y ) is total-closed in Es(\u03931\u222a\u0393). Because \u0393 is an A+-A\u2212-theory, this contradicts \u03931 A +\nA\u2212 \u2261 \u03932.\nThus, we conclude that (Y+, Y ) \u2208 EA + A\u2212 (\u03932). Note that therefore (Y, Y ) is A+-total for \u03932, which implies that (Y |A, Y ) is in EA +\nA\u2212 (\u03932), hence X \u2282 Y |A and X+ \u2282 Y+. Consider\nthe following theory \u0393 = X+ \u222a {\u03b1 \u2192 \u03b2 | \u03b1 \u2208 Y\u2212 \\X\u2212, \u03b2 \u2208 Y+ \\X+}. We show that Y is an answer set of \u03931 \u222a \u0393. Obviously, Y |= \u0393 because X+ \u2282 Y+ and \u03b2 \u2208 Y for every\n\u03b2 \u2208 Y+ \\ X+. Therefore, (Y, Y ) |= \u03931 \u222a \u0393. Towards a contradiction, assume that there exists X \u2032 \u2282 Y such that (X \u2032, Y ) |= \u03931 \u222a \u0393. From (X \u2032, Y ) |= \u0393, we conclude that either X \u2032+ = Y+, or that X+ \u2286 X \u2032 + \u2282 Y+ and X \u2032 \u2212 \u2286 X\u2212. In both cases, (X\n\u2032, Y ) 6|= \u03931. In the former case because (Y, Y ) is A+-total, i.e., (Y+, Y ) is closed in Es(\u03931). In the latter case, it is a consequence of the fact that (X,Y ) \u2208 EA +\nA\u2212 (\u03931), which implies (X \u2032, Y ) 6|= \u03931\nby A+-closure. This contradicts our assumption concerning the existence of X \u2032 \u2282 Y such that (X \u2032, Y ) |= \u03931 \u222a \u0393, and proves that Y is an answer set of \u03931 \u222a \u0393. However, Y is not an answer set of \u03932 \u222a \u0393. To wit, since (X,Y ) 6\u2208 EA + A\u2212 (\u03932), there exists X \u2032 \u2282 Y such that X+ \u2286 X \u2032+, X \u2032 \u2212 \u2286 X\u2212, and (X\n\u2032, Y ) |= \u03932. Moreover, (X \u2032, Y ) is an HT-model of \u0393. Observe that X \u2032\u2212 \u2286 X\u2212 implies that (X\n\u2032, Y ) is an HT-model of every formula of the form \u03b1 \u2192 \u03b2 in \u0393. Hence, (X \u2032, Y ) |= \u03932 \u222a \u0393, and since X \u2032 \u2282 Y , it follows that Y is not an answer set of \u03932 \u222a \u0393. Note that \u0393 is an A+-A\u2212-theory, which contradicts \u03931 A +\nA\u2212 \u2261 \u03932.\nThis proves EA +\nA\u2212 (\u03931) = E\nA+ A\u2212 (\u03932).\nFor the if direction, suppose EA +\nA\u2212 (\u03931) = E\nA+ A\u2212 (\u03932) and towards a contradiction assume\nthat \u03931 A + A\u2212 6\u2261 \u03932. W.l.o.g. let Y be an answer set of \u03931 \u222a \u0393 for some A+-A\u2212-theory \u0393, such that Y is not an answer set of \u03932\u222a\u0393 (the other case is symmetric). Then, (Y, Y ) is an equivalence interpretation of both, \u03931 and \u0393, and (Y+, Y ) is closed in Es(\u03931 \u222a \u0393), which implies (taking Proposition 5 into account) that (Y, Y ) is A+-total for \u03931 and (Y |A, Y ) is in EA +\nA\u2212 (\u03931). Therefore, (Y |A, Y ) is also in EA\n+\nA\u2212 (\u03932), with the consequence that (Y, Y ) is\nin Es(\u03932), and thus (Y, Y ) \u2208 Es(\u03932 \u222a \u0393). Since by assumption Y is not an answer set of \u03932 \u222a \u0393, there exists X \u2282 Y such that (X,Y ) 6\u2208 Es(\u03932 \u222a \u0393), i.e., (X,Y ) |= \u03932 \u222a \u0393. Since (Y |A, Y ) \u2208 EA + A\u2212 (\u03932), it holds that X |A \u2282 Y |A. Moreover, X+ \u2282 Y+ due to A+-totality of (Y, Y ). Clearly, (X |A, Y ) is not in EA +\nA\u2212 (\u03932) as witnessed by (X,Y ) |= \u03932, and thus\n(X |A, Y ) 6\u2208 EA + A\u2212 (\u03931) since EA + A\u2212 (\u03931) = E A+ A\u2212 (\u03932). From (X |A, Y ) 6\u2208 EA + A\u2212 (\u03931), we conclude that there exists X \u2032 \u2286 Y , such that X+ \u2286 X \u2032+, X \u2032 \u2212 \u2286 X\u2212, and (X\n\u2032, Y ) 6\u2208 Es(\u03931), i.e., X \u2032 \u2282 Y and (X \u2032, Y ) |= \u03931. By Proposition 4, (X,Y ) |= \u0393 implies (X \u2032, Y ) |= \u0393. Consequently, (X \u2032, Y ) |= \u03931 \u222a \u0393, and since X \u2032 \u2282 Y , this contradicts our assumption that Y is an answer set of \u03931 \u222a \u0393, and proves \u03931 A +\nA\u2212 \u2261 \u03932.\nLike in the logic programming setting, the framework obtained by the consideration of relativized hyperequivalence interpretations provides a general unified characterization of semantic characterizations of equivalence notions. In other words, the notions of equivalence considered in the previous subsection are obtained as special cases. For this purpose, one needs to refer to the universal alphabet (respectively signature), denoted by A, explicitely. Then, by definition, setting A+ = A\u2212 = \u2205 amounts to answer-set equivalence, A+ = A\u2212 = A yields strong equivalence, and A+ = A, A\u2212 = \u2205 characterizes uniform equivalence. The latter is not by definition but follows from two simple observations: every set of facts over A is a A-\u2205-theory, and every A-\u2205-theory is a factual theory modulo formulas of the form \u22a5 \u2192 \u03c6, which are tautologies in HT.\nCorollary 2 Given two propositional theories \u03931 and \u03932 over L \u2286 A, the following propositions are equivalent for e \u2208 {a, s, u}, A+(a) = A\u2212(a) = \u2205, A+(s) = A\u2212(s) = A, A+(u) = A, and A\u2212(u) = \u2205:\n(1) \u03931 \u2261e \u03932; (2) \u03931 A+(e)\nA\u2212(e)\u2261 \u03932.\nIn these particular cases, not only the notions of equivalence but also the characteristic semantic structures coincide, i.e., relativized hyperequivalence interpretations coincide with the respective characteristic sets of equivalence interpretations.\nProposition 6 Let \u0393 be a propositional theory over L \u2286 A, and let e \u2208 {a, s, u}, A+(a) = A\u2212(a) = \u2205, A+(s) = A\u2212(s) = A, A+(u) = A, and A\u2212(u) = \u2205. Then,\nEe(\u0393) = E A+(e) A\u2212(e)(\u0393)."}, {"heading": "Proof", "text": "First consider answer-set equivalence, i.e., e = a and A+ = A\u2212 = \u2205. Then for any HTinterpretation (X,Y ), it holds that (X,Y ) \u2208 EA +\nA\u2212 (\u0393) = E A+(e) A\u2212(e)(\u0393) iff (\u2205, Y ) is there-\nclosed in Es(\u0393) and X = \u2205. The former follows from the first condition in Definition 9 since Y |A+ = \u2205, and the latter from the second condition in Definition 9, i.e., from the existence of an X \u2032 such that X = X \u2032|A+ (since X \u2032|\u2205 = \u2205 for any X \u2032). Note that X = \u2205 and (\u2205, Y ) there-closed in Es(\u0393) are exactly the requirements for (X,Y ) \u2208 Ea(\u0393). This proves (X,Y ) \u2208 EA +\nA\u2212 (\u0393) iff (X,Y ) \u2208 Ea(\u0393).\nTurning to strong equivalence, let e = s and A+ = A\u2212 = A. Then for any HT-\ninterpretation (X,Y ) over A, it holds that (X,Y ) \u2208 EA +\nA\u2212 (\u0393) = E A+(e) A\u2212(e)(\u0393) iff (Y, Y ) in\nEs(\u0393) and (X,Y ) in Es(\u0393). The former follows from the first condition in Definition 9 since Y |A = Y , and the latter from the second condition in Definition 9, i.e., from the existence of an X \u2032 such that X = X \u2032|A (which implies X \u2032 = X since X \u2032|A = X \u2032 for any X \u2032) and such that X \u2032\u2032 \u2208 Es(\u0393) for all X \u2032\u2032 \u2286 Y where X \u2032|A = X \u2032\u2032|A (i.e., for X \u2032\u2032 = X \u2032 = X). Note that (X,Y ) \u2208 Es(\u0393) implies (Y, Y ) \u2208 Es(\u0393). Consequently, it holds that (X,Y ) \u2208 EA +\nA\u2212 (\u0393) iff (X,Y ) \u2208 Es(\u0393).\nEventually consider uniform equivalence, i.e., e = u, A+ = A, and A\u2212 = \u2205. In this\ncase, (X,Y ) \u2208 EA +\nA\u2212 (\u0393) = E A+(e) A\u2212(e)(\u0393), for any HT-interpretation (X,Y ) over A, iff\n(Y, Y ) in Es(\u0393) and (X \u2032, Y ) in Es(\u0393) for all X \u2286 X \u2032\u2032 \u2286 Y . The former follows from the first condition in Definition 9 since Y |A = Y , and the latter from the second condition in Definition 9, i.e., from the existence of an X \u2032 such that X = X \u2032|A (which implies X \u2032 = X since X \u2032|A = X \u2032 for any X \u2032) and such that X \u2032\u2032 \u2208 Es(\u0393) for all X \u2032\u2032 \u2286 Y where X \u2032|A \u2286 X \u2032\u2032|A (i.e., for X \u2032 = X \u2286 X \u2032\u2032 \u2286 Y ). Note that this are exactly the requirements for (X,Y ) being closed in Es(\u0393), thus for (X,Y ) \u2208 Eu(\u0393). Therefore, (X,Y ) \u2208 EA +\nA\u2212 (\u0393)\niff (X,Y ) \u2208 Eu(\u0393), which proves the claim.\nMoreover, a setting whereA+ = A\u2212 is termed relativized strong equivalence, andA\u2212 = \u2205 denotes relativized uniform equivalence. A further remark is in place, however. While we proved for uniform equivalence of propositional theories, that it is indifferent to whether we restrict additions (contexts) to sets of atoms or whether we allow for factual theories,A\u2205-theories syntactically do not encompass factual theories, since negation, i.e., formulas of the form a \u2192 \u22a5, are not permitted. One question that this raises is: would allowing factual theories as contexts make a difference for relativized notions of uniform equivalence?\nThe answer is by inspection of the proof of Theorem 4 in connection with Proposition 4 and Proposition 5. Recall that the propositions have been stated for extended A+A\u2212-theories. Therefore, the only-if direction of Theorem 4 also holds for extended A+-\nA\u2212-theories. Since the if direction just referred to A+-A\u2212-theories (which, trivially, are extended A+-A\u2212-theories too), we obtain the following.\nCorollary 3 Two propositional theories \u03931,\u03932 are relativized hyperequivalent wrt. extended A+-A\u2212theories if and only if they coincide on their HT-hyperequivalence interpretations wrt. A+ and A\u2212.\nThus, also relativized uniform equivalence is independent of whether sets of atoms or factual theories are permitted as contexts. More generally, for any notion of relativized hyperequivalence, factual theories over A+ can be allowed in the context without altering the notion of equivalence captured. This holds essentially due to Proposition 4, which generalizes Lemma 1 (Lemma 5 in (Pearce and Valverde 2004)) in this respect.\nA final result establishes, that the notion of relativized hyperequivalence which has been introduced in this section is a proper generalization of the respective logic programming version to the more general case of propositional theories under answer-set semantics. It is a straight forward consequence of Theorem 4, since the A+-A\u2212-theories in the proof of the if direction consist of formulas corresponding to rules with heads restricted to positive atoms from A+ and body atoms from A\u2212. Let us say that two propositional programs \u03a01 and \u03a02 are relativized hyperequivalent wrt. A+ and A\u2212 in the logic programming sense, in symbols \u03a01 A +\nA\u2212 \u2261 lp \u03a02, if and only if \u03a01 \u222a \u03a0 \u2261a \u03a02 \u222a\u03a0 for any program \u03a0, such that\nH\u2212(r) = \u2205, H+(r) \u2286 A+, and B(r) \u2286 A\u2212, for all r \u2208 \u03a0.\nCorollary 4 Given two programs \u03a01 and \u03a02, let A+ and A\u2212 be sets of propositional variables. Then, \u03a01 A+ A\u2212 \u2261 lp \u03a02 if and only if \u03a01 A + A\u2212 \u2261 \u03a02."}, {"heading": "4 Generalization to First-Order Theories", "text": "Since the characterizations, in particular of uniform equivalence, presented in the previous section capture also infinite theories, they pave the way for generalizing this notion of equivalence to non-ground settings without any finiteness restrictions. In this section we study first-order theories.\nAs first-order theories we consider sets of sentences (closed formulas) of a first-order signature L = \u3008F ,P\u3009 in the sense of classical first-order logic. Hence, F and P are pairwise disjoint sets of function symbols and predicate symbols with an associated arity, respectively. Elements of F with arity 0 are called object constants. A 0-ary predicate symbol is a propositional constant. Formulas are constructed as usual and variable-free formulas or theories are called ground. A sentence is said to be factual if it is built using connectives \u2227, \u2228, \u2203, \u2200, and \u00ac (i.e., implications of the form \u03c6 \u2192 \u22a5), only. A theory \u0393 is factual if every sentence of \u0393 has this property. The abbreviations introduced for propositional formulas carry over: \u03c6 \u2261 \u03c8 for (\u03c6 \u2192 \u03c8) \u2227 (\u03c8 \u2192 \u03c6); \u00ac\u03c6 for \u03c6 \u2192 \u22a5; and \u22a4 for \u22a5 \u2192 \u22a5."}, {"heading": "4.1 Static Quantified Logic of Here-and-There", "text": "Semantically we refer to the static quantified version of here-and-there with decidable equality as captured axiomatically by the system QHTs= (Pearce and Valverde 2006; Lifschitz et al. 2007;\nPearce and Valverde 2008). It is characterized by Kripke models of two worlds with a common universe (hence static) that interpret function symbols in the same way.\nMore formally, consider a first-order interpretation I of a first-order signature L on a universe U . We denote by LI the extension of L obtained by adding pairwise distinct names c\u03b5 as object constants for the objects in the universe, i.e., for each \u03b5 \u2208 U . We write CU for the set {c\u03b5 | \u03b5 \u2208 U} and identify I with its extension to LI given by I(c\u03b5) = \u03b5. Furthermore, let tI denote the value assigned by I to a ground term t (of signature LI ), let LF denote the restriction of L to function symbols (thus including object constants), and let BP,CU be the set of atomic formulas built using predicates from P and constants CU .\nWe represent a first-order interpretation I of L on U as a pair \u3008I|LF , I|CU \u3009, 3 where I|LF is the restriction of I on function symbols, and I|CU is the set of atomic formulas from BP,CU which are satisfied in I . Correspondingly, classical satisfaction of a sentence \u03c6 by a first-order interpretation \u3008I|LF , I|CU \u3009 is denoted by \u3008I|LF , I|CU \u3009 |= \u03c6. We also define a subset relation for first-order interpretations I1, I2 of L on U (ie., over the same domain) by I1 \u2286 I2 if I1|LF = I2|LF and I1|CU \u2286 I2|CU .\nA QHT-interpretation of L is a triple \u3008I, J,K\u3009, such that (i) I is an interpretation of LF on U , and (ii) J \u2286 K \u2286 BP,CU .\nThe satisfaction of a sentence \u03c6 of signature LI by a QHT-interpretationM = \u3008I, J,K\u3009 (a QHT-model) is defined as:\n1. M |= p(t1, . . . , tn) if p(ctI 1 , . . . , ctIn) \u2208 J ; 2. M |= t1 = t2 if tI1 = t I 2; 3. M 6|= \u22a5; 4. M |= \u03c6 \u2227 \u03c8 if M |= \u03c6 and M |= \u03c8, 5. M |= \u03c6 \u2228 \u03c8, if M |= \u03c6 or M |= \u03c8, 6. M |= \u03c6 \u2192 \u03c8 if (i) M 6|= \u03c6 or M |= \u03c8, and (ii) \u3008I,K\u3009 |= \u03c6 \u2192 \u03c84; 7. M |= \u2200x\u03c6(x) if M |= \u03c6(c\u03b5) and \u3008I,K\u3009 |= \u03c6(c\u03b5) for all \u03b5 \u2208 U ; 8. M |= \u2203x\u03c6(x) if M |= \u03c6(c\u03b5) for some \u03b5 \u2208 U ;.\nA QHT-interpretation M = \u3008I, J,K\u3009 is called a QHT-countermodel of a theory \u0393 iff M 6|= \u0393; it is called total if J = K . A total QHT-interpretation M = \u3008I,K,K\u3009 is called a quantified equilibrium model (QEL-model) of a theory \u0393, iff M |= \u0393 and M \u2032 6|= \u0393, for all QHT-interpretations M \u2032 = \u3008I, J,K\u3009 such that J \u2282 K . A first-order interpretation \u3008I,K\u3009 is an answer set of \u0393 iff M = \u3008I,K,K\u3009 is a QEL-model of a theory \u0393.\nIn analogy to the propositional case, we will use the following simple properties. If \u3008I, J,K\u3009 |= \u03c6 then \u3008I,K,K\u3009 |= \u03c6; and \u3008I, J,K\u3009 |= \u00ac\u03c6 iff \u3008I,K\u3009 |= \u00ac\u03c6."}, {"heading": "4.2 Characterizing Equivalence by QHT-countermodels", "text": "We aim at generalizing uniform equivalence for first-order theories, in its most liberal form, which means wrt. factual theories. For this purpose, we first lift Lemma 1.\nLemma 3 Let \u03c6 be a factual sentence. If \u3008I, J,K\u3009 |= \u03c6 and J \u2286 J \u2032 \u2286 K , then \u3008I, J \u2032,K\u3009 |= \u03c6.\n3 We use angle brackets to distinguish from HT-interpretations. 4 That is, \u3008I,K\u3009 satisfies \u03c6\u2192 \u03c8 classically."}, {"heading": "Proof", "text": "The proof is by induction on the formula structure of \u03c6. Let M = \u3008I, J,K\u3009, M |= \u03c6, and M \u2032 = \u3008I, J \u2032,K\u3009 for some J \u2286 J \u2032 \u2286 K . For the base case, consider an atomic sentence \u03c6. If \u03c6 is of the form p(t1, . . . , tn), then p(ctI\n1 , . . . , ctIn) \u2208 J because M |= \u03c6. By the fact\nthat J \u2032 \u2287 J we conclude that p(ctI 1 , . . . , ctIn) \u2208 J \u2032 and hence M \u2032 |= \u03c6. If \u03c6 is of the form t1 = t2 then M |= \u03c6 implies tI1 = t I 2, and thus M\n\u2032 |= \u03c6. Note also that M |= \u03c6 implies \u03c6 6= \u22a5. This proves the claim for atomic formulas.\nFor the induction step, assume that M |= \u03c6 implies M \u2032 |= \u03c6, for any sentence of depth n\u22121, and let \u03c6 be a sentence of depth n. We show that M |= \u03c6 implies M \u2032 |= \u03c6. Suppose \u03c6 is the conjunction or disjunction of two sentences \u03c61 and \u03c62. Then \u03c61 and \u03c62 are sentences of depth n \u2212 1. Hence, M |= \u03c61 implies M \u2032 |= \u03c61, and the same for \u03c62. Therefore, if M models both or one of the sentences then so does M \u2032, which implies M |= \u03c6 implies M \u2032 |= \u03c6 if \u03c6 is the conjunction or disjunction of two sentences. As for implication, since \u03c6 is factual we just need to consider the case where \u03c6 is of the form \u03c61 \u2192 \u22a5, i.e., \u00ac\u03c61. Then, M |= \u00ac\u03c61 iff \u3008I,K\u3009 |= \u00ac\u03c61 iff M \u2032 |= \u00ac\u03c61. This proves M |= \u03c6 implies M \u2032 |= \u03c6 if \u03c6 is an implication with \u22a5 as its consequence. Eventually, consider a quantified sentence \u03c6, i.e., \u03c6 is of the form \u2200x\u03c61(x) or \u2203x\u03c61(x). In this case, M |= \u03c6 implies M |= \u03c61(c\u03b5) and \u3008I,K\u3009 |= \u03c61(c\u03b5), for all \u03b5 \u2208 U , respectively M |= \u03c61(c\u03b5), for some \u03b5 \u2208 U , in case of existential quantification. Since each of the sentences \u03c61(c\u03b5) is of depth n \u2212 1, the same is true for M \u2032 by assumption, i.e., M \u2032 |= \u03c61(c\u03b5) and \u3008I,K\u3009 |= \u03c61(c\u03b5), for all \u03b5 \u2208 U , respectively M \u2032 |= \u03c61(c\u03b5), for some \u03b5 \u2208 U . It follows that M |= \u03c6 implies M \u2032 |= \u03c6 also for quantified sentences \u03c6 of depth n, and therefore, for any sentence \u03c6 of depth n. This proves the claim.\nThe different notions of closure naturally extend to (sets of) QHT-interpretations. In particular, a total QHT-interpretation M = \u3008I,K,K\u3009 is called total-closed in a set S of QHT-interpretations if \u3008I, J,K\u3009 \u2208 S for every J \u2286 K . A QHT-interpretation \u3008I, J,K\u3009 is closed in a set S of QHT-interpretations if \u3008I, J \u2032,K\u3009 \u2208 S for every J \u2286 J \u2032 \u2286 K , and it is there-closed in S if \u3008I,K,K\u3009 6\u2208 S and \u3008I, J \u2032,K\u3009 \u2208 S for every J \u2286 J \u2032 \u2282 K .\nThe first main result lifts the characterization of uniform equivalence for theories by HT-countermodels to the first-order case.\nTheorem 5\nTwo first-order theories are uniformly equivalent iff they have the same sets of there-closed QHT-countermodels.\nThe proof idea is the same as in the propositional case, thus for space reasons the proof is skipped. The same applies to Theorem 6 and Proposition 7 (cf. (Fink 2009) for full proofs).\nWe next turn to an alternative characterization by a mixture of QHT-models and QHTcountermodels as in the propositional case. A QHT-countermodel \u3008I, J,K\u3009 of a theory \u0393 is called QHT here-countermodel of \u0393 if \u3008I,K\u3009 |= \u0393. A QHT-interpretation \u3008I, J,K\u3009 is an QHT equivalence-interpretation of a theory \u0393, if it is a total QHT-model of \u0393 or a QHT here-countermodel of \u0393. In slight abuse of notation, we reuse the notation Se, S \u2208 {C,E} and e \u2208 {c, a, s, u}, for respective sets of QHT-interpretations, and arrive at the following formal result:\nTheorem 6 Two theories coincide on their QHT-countermodels iff they have the same QHT equivalenceinterpretations, in symbols Cs(\u03931) = Cs(\u03932) iff Es(\u03931) = Es(\u03932).\nAs a consequence of these two main results, we obtain an elegant, unified formal characterization of the different notions of equivalence for first-order theories under generalized answer-set semantics.\nCorollary 5 Given two first-order theories \u03931 and \u03932, the following propositions are equivalent for e \u2208 {c, a, s, u}: \u03931 \u2261e \u03932; Ce(\u03931) = Ce(\u03932); Ee(\u03931) = Ee(\u03932).\nMoreover, lifting the characterization of HT-countermodels provided in Proposition 2 to the first-order setting, allows us to prove a property, which simplifies the treatment of extended signatures.\nProposition 7 Let M be a QHT-interpretation over L on U . Then, M \u2208 Es(\u0393) for a theory \u0393 iff M |= \u0393\u03c6(M) for some \u03c6 \u2208 \u0393, where \u0393\u03c6(M) = {\u00ac\u00ac\u03c8 | \u03c8 \u2208 \u0393} \u222a {\u03c6 \u2192 (\u00ac\u00aca \u2192 a) | a \u2208 BP,CU}.\nFor QHT-models it is known that M |= \u0393 implies M |L |= \u0393 (cf. e.g., Proposition 3 in (de Bruijn et al. 2007)), hence M |L 6|= \u0393 implies M 6|= \u0393, i.e., M |L \u2208 Cs(\u0393) implies M \u2208 Cs(\u0393). The converse direction holds for totality preserving restrictions (the proof appeared in (Fink 2008) and can also be found in (Fink 2009)):\nTheorem 7 Let \u0393 be a theory over L, let L\u2032 \u2283 L, and let M a QHT-interpretation over L\u2032 such that M |L is totality preserving. Then, M \u2208 Cs(\u0393) implies M |L \u2208 Cs(\u0393).\nNote that this property carries over to QHT-models, i.e., M |L |= \u0393 implies M |= \u0393, if M |L is the restriction of M to L and this restriction is totality preserving. Otherwise, by the above result M 6|= \u0393 would imply M |L 6|= \u0393. We remark that in (Fink 2008) it is erroneously stated informally that this property does not hold for QHT-models, however the counter-example given there is flawed (Example 5 in (Fink 2008))."}, {"heading": "4.3 Relativized Hyperequivalence for First-Order Theories", "text": "In this section we extend the notion of relativized hyperequivalence to first-order theories. For this purpose, we distinguish positive and negative occurrences of predicates in sentences. More precisely, the occurrence of a predicate p in a sentence \u03c6 is called positive if \u03c6 is implication free, if p occurs in the consequent of an implication in \u03c6, or if \u03c6 is of the form (\u03c61 \u2192 \u03c62) \u2192 \u03c63 and p occurs in \u03c61. An occurrence of p is called negative if p occurs in the antecedent of an implication. The notion of positive and negative occurrence is again extended to (sub-)sentences in the obvious way.\nLet \u0393 be a first-order theory over L = \u3008F , L+ \u222a L\u2212\u3009, where L+ and L\u2212 are sets of predicate symbols with an associated arity, such that if a predicate symbol p occurs in both L+ and L\u2212, then it is also associated the same arity. We say that \u0393 is an L+-L\u2212-theory if\nits sentences have positive occurrences of predicates from L+, and negative occurrences of predicates from L\u2212, only. As in the propositional case, \u22a5 is allowed to appear positively and negatively, and the same holds for equality in the first-order case. Moreover, an L+L\u2212-theory is called extended, if additionally factual formulas over L+ are permitted.\nDefinition 10 Two first-order theories \u03931,\u03932 over L are called relativized hyperequivalent wrt. L+ and L\u2212, symbolically \u03931 L + L\u2212 \u2261 \u03932, iff for any L+-L\u2212-theory \u0393 over L\u2032 \u2287 L, \u03931\u222a\u0393 and \u03932\u222a\u0393 are answer-set equivalent.\nThe properties proven for HT-interpretations and extendedA+-A\u2212-theories in the propositional case, carry over to QHT-interpretations and extended L+-L\u2212-theories in a straight forward manner.\nProposition 8 Consider an extended first-order L+-L\u2212-theory \u0393, and a QHT-interpretation \u3008I, J,K\u3009. Then, \u3008I, J,K\u3009 |= \u0393 implies \u3008I, J \u2032,K\u3009 |= \u0393, for all J \u2032 \u2286 K such that J |L+ \u2286 J \u2032|L+ and J \u2032|L\u2212 \u2286 J |L\u2212 .\nThe proof is lengthy and does not convey particular new insights, therefore it is skipped here (cf. (Fink 2009)). The main differences to the propositional case concern the treatment of equality of terms and that quantification has to be taken into account. The former depends solely on the interpretation part I , which is the same for the QHT-interpretations under consideration, and thus has no further influence on the argument. The latter, is a further case to be considered in the inductive argument, however one that reduces easily to the respective induction hypotheses. The remainder simply mirrors the propositional case, with the polarity being considered on the predicate level, rather than for propositional variables. The same holds for the proofs of the remaining results in this section.\nProposition 9 Consider an extended first-orderL+-L\u2212-theory\u0393, and a total QHT-interpretation \u3008I,K,K\u3009. Then, \u3008I,K,K\u3009 |= \u0393 implies \u3008I, J \u2032,K\u3009 |= \u0393, for all J \u2032 \u2286 K such that J \u2032|L+ = K|L+ .\nHaving lifted the essential properties to the case of L+-L\u2212-theories, it comes at no surprise that we end up with respective closure conditions for QHT-equivalence interpretations.\nDefinition 11 Given a first-order theory \u0393 over L, sets of predicate symbols L+ \u2286 L\u2032, L\u2212 \u2286 L\u2032, L\u2032 \u2287 L, and a QHT-interpretation M = \u3008I, J,K\u3009, we say that\n\u2022 \u3008I,K,K\u3009 is L+-total iff \u3008I,K|L+ ,K\u3009 is closed in Es(\u0393); \u2022 M is L+-closed in Es(\u0393) iff \u3008I, J \u2032,K\u3009 \u2208 Es(\u0393), for all J \u2032 \u2286 K such that J |L+ \u2286 J \u2032|L+ and J \u2032|L\u2212 \u2286 J |L\u2212 .\nAlso the characteristic structures for a semantic characterization are defined in straightforward analogy.\nDefinition 12 A QHT-interpretation M = \u3008I, J,K\u3009 is a QHT-hyperequivalence interpretation wrt. L+ and L\u2212 of a first-order theory \u0393 iff \u3008I,K,K\u3009 is L+-total and there exists a QHT-interpretation \u3008I, J \u2032,K\u3009 such that J = J \u2032|L+\u222aL\u2212 and \u3008I, J \u2032,K\u3009 is L+-closed in Es(\u0393). The set of QHT-hyperequivalence interpretations wrt. L+ and L\u2212 of a first-order theory \u0393 is denoted by EL +\nL\u2212 (\u0393).\nEventually, we arrive at a characterization of relativized hyperequivalence for general first-order theories under answer-set semantics, where contexts are restricted on the predicate level.\nTheorem 8 Two first-order theories \u03931,\u03932 are relativized hyperequivalent wrt. L+ and L\u2212 if and only if they coincide on their QHT-hyperequivalence interpretations wrt. L+ and L\u2212, symbolically \u03931 L + L\u2212 \u2261 \u03932 iff EL + L\u2212 (\u03931) = E L+ L\u2212 (\u03932).\nIn the same way as for propositional theories, the prominent notions of equivalence are obtained as special cases, and the framework gives rise to relativized notions of strong and uniform equivalence for general first-order theories under answer-set semantics. Also in analogy, the role of factual theories is governed by Proposition 8, yielding the following:\nCorollary 6 Two first-order theories \u03931,\u03932 are relativized hyperequivalent wrt. extended L+-L\u2212-theories if and only if they coincide on their QHT-hyperequivalence interpretations wrt. L+ and L\u2212."}, {"heading": "5 Non-ground Logic Programs", "text": "In this section we apply the characterizations obtained for first-order theories to non-ground logic programs under various extended semantics\u2014compared to the traditional semantics in terms of Herbrand interpretations. For a proper treatment of these issues, further background is required and introduced (succinctly, but at sufficient detail) below.\nIn non-ground logic programming, we restrict to a function-free first-order signature L = \u3008F ,P\u3009 (i.e., F contains object constants only) without equality. A program \u03a0 (over L) is a set of rules (over L) of the form (1). A rule r is safe if each variable occurring in H(r) \u222a B\u2212(r) also occurs in B+(r); a rule r is ground, if all atoms occurring in it are ground. A program is safe, respectively ground, if all of its rules enjoy this property.\nGiven \u03a0 over L and a universe U , let LU be the extension of L as before. The grounding of \u03a0 wrt. U and an interpretation I|LF of LF on U is defined as the set grdU (\u03a0, I|LF ) of ground rules obtained from r \u2208 \u03a0 by (i) replacing any constant c in r by c\u03b5 such that I|LF (c) = \u03b5, and (ii) all possible substitutions of elements in CU for the variables in r.\nAdapted from (Gelfond and Lifschitz 1991), the reduct of a program \u03a0 with respect to a first-order interpretation I = \u3008I|LF , I|CU \u3009 on universe U , in symbols grdU (\u03a0, I|LF )\nI , is given by the set of rules\na1 \u2228 \u00b7 \u00b7 \u00b7 \u2228 ak \u2190 b1, . . . , bm,\nobtained from rules in grdU(\u03a0, I|LF ) of the form (1), such that I |= ai for all k < i \u2264 l and I 6|= bj for all m < j \u2264 n.\nA first-order interpretation I satisfies a rule r, I |= r, iff I |= \u0393r, where \u0393r = \u2200~x(\u03b2r \u2192 \u03b1r), ~x are the free variables in r, \u03b1r is the disjunction of H(r), and \u03b2r is the conjunction of B(r). It satisfies a program \u03a0, symbolically I |= \u03a0, iff it satisfies every r \u2208 \u03a0, i.e., if I |= \u0393\u03a0, where \u0393\u03a0 = \u22c3 r\u2208\u03a0 \u0393r.\nA first-order interpretation I is called a generalized answer set of \u03a0 iff it satisfies grdU(\u03a0, I|LF )\nI and it is subset minimal among the interpretations of L on U with this property.\nTraditionally, only Herbrand interpretations are considered as the answer sets of a logic program. The set of all (object) constants occurring in \u03a0 is called the Herbrand universe of \u03a0, symbolically H. If no constant appears in \u03a0, then H = {c}, for an arbitrary constant c. A Herbrand interpretation is any interpretation I of LH = \u3008H,P\u3009 on H interpreting object constants by identity, id , i.e., I(c) = id(c) = c for all c \u2208 H. A Herbrand interpretation I is an ordinary answer set of \u03a0 iff it is subset minimal among the interpretations of LH on H satisfying grdH(\u03a0, id)\nI . Furthermore, an extended Herbrand interpretation is an interpretation of L on U \u2287 F interpreting object constants by identity. An extended Herbrand interpretation I is an open answer set (Heymans et al. 2007) of \u03a0 iff it is subset minimal among the interpretations of L on U satisfying grdU (\u03a0, id)\nI . Note that since we consider programs without equality, we semantically resort to the logic QHTs, which results from QHTs= by dropping the axioms for equality. Concerning Kripke models, however, in slight abuse of notation, we reuse QHT-models as defined for the general case. A QHT-interpretation M = \u3008I, J,K\u3009 is called an (extended) QHT Herbrand interpretation, if \u3008I,K\u3009 is an (extended) Herbrand interpretation. Given a program \u03a0, \u3008I,K\u3009 is a generalized answer set of \u03a0 iff \u3008I,K,K\u3009 is a QEL-model of \u0393\u03a0, and \u3008I,K\u3009 is an open, respectively ordinary, answer set of \u03a0 iff \u3008I,K,K\u3009 is an extended Herbrand, respectively Herbrand, QEL-model of \u0393\u03a0. Notice that the static interpretation of constants introduced by Item (i) of the grounding process is essential for this correspondences in terms of QHTs. Abusing notation, we further on identify \u03a0 and \u0393\u03a0.\nAs already mentioned for propositional programs, uniform equivalence is usually understood wrt. sets of ground facts (i.e., ground atoms). Obviously, uniform equivalence wrt. factual theories implies uniform equivalence wrt. ground atoms. We show the converse direction (lifting Theorem 2 in (Pearce and Valverde 2004), for a proof see (Fink 2009)).\nProposition 10\nGiven two programs \u03a01,\u03a02, then \u03a01 \u2261u \u03a02 iff (\u03a01 \u222a A) \u2261a (\u03a02 \u222a A), for any set of ground atoms A.\nThus, there is no difference whether we consider uniform equivalence wrt. sets of ground facts or factual theories. Since one can also consider sets of clauses, i.e. disjunctions of atomic formulas and their negations, which is a more suitable representation of facts according to the definition of program rules in this article, we adopt the following terminology. A rule r is called a fact if B(r) = \u2205, and a factual program is a set of facts. Then, by our result \u03a01 \u2261u \u03a02 holds for programs \u03a01,\u03a02 iff (\u03a01 \u222a\u03a0) \u2261a (\u03a02 \u222a\u03a0), for any factual program \u03a0."}, {"heading": "5.1 Uniform Equivalence under Herbrand Interpretations", "text": "The results in the previous section generalize the notion of uniform equivalence to programs under generalized open answer-set semantics and provide alternative characterizations for other notions of equivalence. They apply to programs under open answer-set semantics and ordinary answer-set semantics, when QHT-interpretations are restricted to extended Herbrand interpretations and Herbrand interpretations, respectively. In order to capture strong and uniform equivalence under ordinary answer-set semantics correctly, interpretations under the Standard Name Assumption (SNA) have to be considered, accounting for the potential extensions. For programs \u03a01 and \u03a02 and e \u2208 {c, a, s, u}, we use \u03a01 \u2261Ee \u03a02 and \u03a01 \u2261 H e \u03a02 to denote (classical, answer-set, strong, or uniform) equivalence under open answer-set semantics and ordinary answer-set semantics, respectively.\nCorollary 7 Given two programs \u03a01 and \u03a02, it holds that\n\u2022 \u03a01 \u2261Ee \u03a02, C E e (\u03a01) = C E e (\u03a02), and E E e (\u03a01) = E E e (\u03a02) are equivalent; and \u2022 \u03a01 \u2261He \u03a02, C H e (\u03a01) = C H e (\u03a02), and E H e (\u03a01) = E H e (\u03a02) are equivalent;\nwhere e \u2208 {c, a, s, u}, superscript E denotes the restriction to extended Herbrand interpretations, and superscriptH denotes the restriction to Herbrand interpretations for e \u2208 {c, a}, respectively to SNA interpretations for e \u2208 {s, u}.\nFor safe programs open answer sets and ordinary answer sets coincide (de Bruijn et al. 2007). Note that a fact is safe if it is ground. We obtain that uniform equivalence coincides under the two semantics even for programs that are not safe. Intuitively, the potential addition of arbitrary facts accounts for the difference in the semantics since it requires to consider larger domains than the Herbrand universe.5\nTheorem 9 Let \u03a01,\u03a02 be programs over L. Then, \u03a01 \u2261Eu \u03a02 iff \u03a01 \u2261 H u \u03a02."}, {"heading": "Proof", "text": "The only-if direction is trivial. For the if direction, towards a contradiction assume that \u03a01 \u2261 H u \u03a02 and \u03a01 6\u2261 E u \u03a02. Let \u03a0 be a factual program such that M = \u3008id ,K,K\u3009 is an extended Herbrand QHT-interpretation over L\u2032 \u2287 L on U \u2032, such that M is in EEa (\u03a01 \u222a\u03a0), but M 6\u2208 EEa (\u03a02 \u222a \u03a0). Consider the signature LU \u2032 = \u3008U \u2032,L\u2032P \u222a {d}\u3009, where L \u2032 P are the predicate symbols of L\u2032, and d 6\u2208 L\u2032P is a fresh unary predicate symbol. Clearly, LU \u2032 \u2283 L \u2032. Furthermore let \u03a0\u20321 = \u03a01 \u222a\u03a0\u222a {d(X)}, \u03a0 \u2032 2 = \u03a02 \u222a\u03a0\u222a {d(X)}, and K \u2032 = K \u222a {d(c) | c \u2208 U \u2032}. We show that M \u2032 = \u3008id ,K \u2032,K \u2032\u3009 is in EHa (\u03a0 \u2032 1), but M \u2032 6\u2208 EHa (\u03a0 \u2032 2). Since M |= \u03a01 \u222a \u03a0 and no sentence in \u03a01 \u222a \u03a0 involves d, we conclude M \u2032 |= \u03a01 \u222a \u03a0. By construction, M \u2032 is also a QHT-model of d(X), hence M \u2032 |= \u03a0\u20321. Moreover, \u3008id , J,K\u3009 6|= \u03a01\u222a\u03a0, for every J \u2282 K . Therefore, for every J \u2032 = J \u222a{d(c) | c \u2208 U \u2032} such that J \u2282 K , \u3008id , J \u2032,K \u2032\u3009 6|= \u03a0\u20321. So let us consider proper subsets J\n\u2032 of K \u2032 such that K \u2286 J , i.e., J \u2032 \u2282 {d(c) | c \u2208 U \u2032}. In this case \u3008id , J \u2032,K \u2032\u3009 6|= d(X), and again \u3008id , J \u2032,K \u2032\u3009 6|= \u03a0\u20321. This proves that M \u2032 is in EHa (\u03a0 \u2032 1). On the other hand, if M 6|= \u03a02\u222a\u03a0, then M 6|= \u03a02, and since\n5 Note that this also holds for QHTs= with functions and the result could be strengthened accordingly.\nno sentence in \u03a02 involves d, we concludeM \u2032 6|= \u03a02, thus M \u2032 6|= \u03a0\u20322. If M |= \u03a02\u222a\u03a0, then \u3008id , J,K\u3009 |= \u03a02 \u222a\u03a0 for some J \u2282 K . Consider J \u2032 = J \u222a {d(c) | c \u2208 U \u2032}. Since J \u2282 K , it holds that J \u2032 \u2282 K \u2032, and since no sentence in \u03a02 \u222a\u03a0 involves d, \u3008id , J \u2032,K \u2032\u3009 |= \u03a02 \u222a\u03a0. Moroever, \u3008id , J \u2032,K \u2032\u3009 |= {d(X)} by construction, hence \u3008id , J \u2032,K \u2032\u3009 |= \u03a0\u20322. This proves M \u2032 6\u2208 EHa (\u03a0 \u2032 2). Note that \u03a0 \u222a {d(X)} is a factual program; contradiction.\nFinally, we turn to the practically relevant setting of finite, possibly unsafe, programs under Herbrand interpretations, i.e., ordinary (and open) answer-set semantics. For finite programs, uniform equivalence can be characterized by HT-models of the grounding, also for infinite domains. In other words, the problems of \u201cinfinite chains\u201d as in Example 1 cannot be generated by the process of grounding. Note that the restriction to finite programs also applies to the programs considered to be potentially added.\nTheorem 10 Let \u03a01,\u03a02 be finite programs over L. Then, \u03a01 \u2261Hu \u03a02 iff \u03a01 and \u03a02 have the same (i) total and (ii) maximal, non-total extended Herbrand QHT-models."}, {"heading": "Proof", "text": "The only-if direction is obvious. If \u03a01 \u2261Hu \u03a02 then also \u03a01 \u2261 E u \u03a02 by Theorem 9. This means that \u03a01 and \u03a02 have (i) the same total extended Herbrand QHT-models, as well as the same sets of closed extended Herbrand QHT equivalence interpretations, and thus (ii) the same maximal, non-total extended Herbrand QHT-models.\nFor the if direction, assume that \u03a01 and \u03a02 have the same total and the same maximal, non-total extended Herbrand QHT-models but, towards a contradiction, that \u03a01 6\u2261Hu \u03a02. Then, there exists a finite factual program \u03a0, such that (\u03a01\u222a\u03a0) 6\u2261Ha (\u03a02\u222a\u03a0). W.l.o.g. let M = \u3008I,K,K\u3009 over L\u2032 \u2287 L be in EHa (\u03a01 \u222a\u03a0) and M 6\u2208 E H a (\u03a02 \u222a\u03a0). Let H denote the Herbrand universe of \u03a01 \u222a \u03a0. Since \u03a01 and \u03a0 are finite, H is finite and so is grdH(\u03a01 \u222a \u03a0, id). Therefore, by minimality, K is finite as well. Note also, that M is a total extended Herbrand QHT-model of \u03a01. By hypothesis (i), \u03a01 and \u03a02 have the same total extended Herbrand QHT-models. Thus, M is also a total extended Herbrand QHT-model of \u03a02. Moreover, there exists a QHT-interpretation M \u2032 = \u3008I, J,K\u3009, such that J \u2282 K and M \u2032 |= (\u03a02\u222a\u03a0), hence M \u2032 |= \u03a02. Since K is finite, we conclude that \u03a02 has a maximal, non-total QHT-model M \u2032\u2032 = \u3008I, J \u2032\u2032,K\u3009, such that J \u2032 \u2286 J \u2032\u2032 \u2282 K . We show that this is not the case for \u03a01. M \u2032 |= (\u03a02 \u222a \u03a0) implies M \u2032 |= \u03a0. Since \u03a0 is a factual program, by Lemma 3 we conclude that M \u2032\u2032 |= \u03a0. However M \u2032\u2032 6|= \u03a01 \u222a \u03a0, because M \u2208 EHa (\u03a01 \u222a \u03a0). Taken together,M \u2032\u2032 |= \u03a0 andM \u2032\u2032 6|= \u03a01\u222a\u03a0 implies M \u2032\u2032 6|= \u03a01. Therefore,M \u2032\u2032 is not a maximal, non-total QHT-model of \u03a01. Observing that M \u2032\u2032 is an Herbrand QHT-model over L\u2032 and L\u2032 \u2287 L, we conclude that M \u2032\u2032 is a maximal non-total extended Herbrand QHT-model of \u03a02, but not of \u03a01. Contradiction."}, {"heading": "6 Conclusion", "text": "Countermodels in equilibrium logic have recently been used by Cabalar and Ferraris (2007) to show that propositional disjunctive logic programs with negation in the head are strongly equivalent to propositional theories, and by Cabalar et al. (2007) to generate a minimal logic program for a given propositional theory.\nBy means of QEL, in (Lifschitz et al. 2007), the notion of strong equivalence has been extended to first-order theories with equality, under the generalized notion of answer set we have adopted. QEL has also been shown to capture open answer-sets (Heymans et al. 2007) and generalized open answer-sets (Heymans et al. 2008), and is a promising framework for hybrid knowledge bases, providing a unified semantics encompassing classical logic as well as disjunctive logic programs under the answer-set semantics (de Bruijn et al. 2007).\nOur results extend these foundations for the research of semantic properties in these generalized settings. First, they complete the picture concerning the prominent notions of equivalence by making uniform equivalence amenable to these generalized settings without any finiteness restrictions, in particular on the domain. In addition, the developed notion of relativized hyperequivalence interpretation provides a means for the study of more specific semantic relationships under generalized answer-set semantics. Thus, a general and uniform model-theoretic framework is achieved for the characterization of various notions of equivalence studied in ASP. We have also shown that for finite programs, i.e., those programs solvers are able to deal with, infinite domains do not cause the problems observed for infinite propositional programs, when dealing with uniform equivalence in terms of HT-models of the grounding.\nAn intersting theoretical problem for further work is to consider equivalences and correspondence under projections of answer sets (Eiter et al. 2005; Oetsch et al. 2007; Pu\u0308hrer et al. 2008; Pu\u0308hrer and Tompits 2009). It is not difficult to apply existing techniques to our characterizations in order to obtain characterizations for projective versions of uniform and strong equivalence, and for relativized notions thereof, i.e., as long as the same alphabet is permitted for positive and negative occurrences in the context. However, it is not trivial to characterize projective versions of relativized hyperequivalence in the general case, something which also has not been considered for propositional logic programs so far.\nConcerning the application of our results, there is ongoing work on combining ontologies and nonmonotonic rules, an important issue in knowledge representation and reasoning for the Semantic Web. The study of equivalences and correspondences under an appropriate (unifying) semantics, such as the generalizations of answer-set semantics characterized by QEL, constitute a highly relevant topic for research in this application domain (Fink and Pearce 2009). Like for Datalog, uniform equivalence may serve investigations on query equivalence and query containment in these hybrid settings, and due to the combination of two formalisms, more specific notions of equivalence are needed to obtain the intended notions of correspondence. While our characterizations serve as a basis for these investigations, in particular the simplified treatment of extended signatures for (equivalence) interpretations is expected to be of avail, when considering separate alphabets.\nOn the foundational level, our results raise the interesting question whether extensions of intuitionistic logics that allow for a direct characterization of countermodels, or equivalence interpretations, would provide a more suitable formal apparatus for the study of (at least notions of uniform) equivalences in ASP."}, {"heading": "Acknowledgements", "text": "I am grateful to the anonymous reviewers for suggestions to improve this article. This work was supported by the Austrian Science Fund (FWF) under grants P18019 and P20841, and by the Vienna Science and Technology Fund (WWTF) under project ICT08-020."}, {"heading": "HEYMANS, S., DE BRUIJN, J., PREDOIU, L., FEIER, C., AND NIEUWENBORGH, D. V. 2008.", "text": "Guarded hybrid knowledge bases. Theory and Practice of Logic Programming 8, 3, 411\u2013429.\nHEYMANS, S., NIEUWENBORGH, D. V., AND VERMEIR, D. 2007. Open answer set programming for the semantic web. J. Applied Logic 5, 1, 144\u2013169.\nINOUE, K. AND SAKAMA, C. 2004. Equivalence of logic programs under updates. In JELIA, J. J. Alferes and J. A. Leite, Eds. Lecture Notes in Computer Science, vol. 3229. Springer, 174\u2013186.\nJANHUNEN, T. 2008. Modular equivalence in general. In ECAI, M. Ghallab, C. D. Spyropoulos, N. Fakotakis, and N. M. Avouris, Eds. Frontiers in Artificial Intelligence and Applications, vol. 178. IOS Press, 75\u201379.\nJANHUNEN, T. AND NIEMELA\u0308, I. 2004. GnT - A solver for disjunctive logic programs. In LPNMR, V. Lifschitz and I. Niemela\u0308, Eds. Lecture Notes in Computer Science, vol. 2923. Springer, 331\u2013 335.\nJANHUNEN, T., OIKARINEN, E., TOMPITS, H., AND WOLTRAN, S. 2009. Modularity aspects of disjunctive stable models. J. Artif. Intell. Res. 35, 813\u2013857."}, {"heading": "LEONE, N., PFEIFER, G., FABER, W., EITER, T., GOTTLOB, G., PERRI, S., AND SCARCELLO,", "text": "F. 2006. The DLV system for knowledge representation and reasoning. ACM Trans. Comput. Log. 7, 3, 499\u2013562.\nLIFSCHITZ, V., PEARCE, D., AND VALVERDE, A. 2007. A characterization of strong equivalence for logic programs with variables. In LPNMR, C. Baral, G. Brewka, and J. S. Schlipf, Eds. Lecture Notes in Computer Science, vol. 4483. Springer, 188\u2013200.\nLIN, F. AND CHEN, Y. 2007. Discovering classes of strongly equivalent logic programs. J. Artif. Intell. Res. 28, 431\u2013451.\nLIN, F. AND ZHAO, Y. 2004. Assat: computing answer sets of a logic program by sat solvers. Artif. Intell. 157, 1-2, 115\u2013137.\nOETSCH, J., SEIDL, M., TOMPITS, H., AND WOLTRAN, S. 2006. cct: A correspondence-checking tool for logic programs under the answer-set semantics. In JELIA, M. Fisher, W. van der Hoek, B. Konev, and A. Lisitsa, Eds. Lecture Notes in Computer Science, vol. 4160. Springer, 502\u2013505.\nOETSCH, J., TOMPITS, H., AND WOLTRAN, S. 2007. Facts do not cease to exist because they are ignored: Relativised uniform equivalence with answer-set projection. In AAAI. AAAI Press, 458\u2013464.\nOIKARINEN, E. AND JANHUNEN, T. 2006. Modular equivalence for normal logic programs. In ECAI, G. Brewka, S. Coradeschi, A. Perini, and P. Traverso, Eds. IOS Press, 412\u2013416.\nPEARCE, D., TOMPITS, H., AND WOLTRAN, S. 2007. Relativised equivalence in equilibrium logic and its applications to prediction and explanation: Preliminary report. In CENT, D. Pearce, A. Polleres, A. Valverde, and S. Woltran, Eds. CEUR Workshop Proceedings, vol. 265. CEURWS.org, 37\u201348.\nPEARCE, D. AND VALVERDE, A. 2004. Uniform equivalence for equilibrium logic and logic programs. In LPNMR, V. Lifschitz and I. Niemela\u0308, Eds. Lecture Notes in Computer Science, vol. 2923. Springer, 194\u2013206.\nPEARCE, D. AND VALVERDE, A. 2006. Quantified equilibrium logic an the first order logic of here-and-there. Tech. Rep. MA-06-02, Univ. Rey Juan Carlos.\nPEARCE, D. AND VALVERDE, A. 2008. Quantified equilibrium logic and foundations for answer set programs. In ICLP, M. G. de la Banda and E. Pontelli, Eds. Lecture Notes in Computer Science, vol. 5366. Springer, 546\u2013560.\nPU\u0308HRER, J. AND TOMPITS, H. 2009. Casting away disjunction and negation under a generalisation of strong equivalence with projection. In LPNMR, E. Erdem, F. Lin, and T. Schaub, Eds. Lecture Notes in Computer Science, vol. 5753. Springer, 264\u2013276.\nPU\u0308HRER, J., TOMPITS, H., AND WOLTRAN, S. 2008. Elimination of disjunction and negation in answer-set programs under hyperequivalence. In ICLP, M. G. de la Banda and E. Pontelli, Eds. Lecture Notes in Computer Science, vol. 5366. Springer, 561\u2013575.\nSAKAMA, C. AND INOUE, K. 2009. Equivalence issues in abduction and induction. J. Applied Logic 7, 3, 318\u2013328.\nSIMONS, P., NIEMELA\u0308, I., AND SOININEN, T. 2002. Extending and Implementing the Stable Model Semantics. Artificial Intelligence 138, 181\u2013234.\nTRUSZCZYNSKI, M. AND WOLTRAN, S. 2008a. Hyperequivalence of logic programs with respect to supported models. Ann. Math. Artif. Intell. 53, 1-4, 331\u2013365.\nTRUSZCZYNSKI, M. AND WOLTRAN, S. 2008b. Relativized hyperequivalence of logic programs for modular programming. In ICLP, M. G. de la Banda and E. Pontelli, Eds. Lecture Notes in Computer Science, vol. 5366. Springer, 576\u2013590.\nWOLTRAN, S. 2008. A common view on strong, uniform, and other notions of equivalence in answer-set programming. Theory and Practice of Logic Programming 8, 2 (Mar.), 217\u2013234."}], "references": [], "referenceMentions": [], "year": 2013, "abstractText": "Different notions of equivalence, such as the prominent notions of strong and uniform equivalence, have been studied in Answer-Set Programming, mainly for the purpose of identifying programs that can serve as substitutes without altering the semantics, for instance in program optimization. Such semantic comparisons are usually characterized by various selections of models in the logic of Hereand-There (HT). For uniform equivalence however, correct characterizations in terms of HT-models can only be obtained for finite theories, respectively programs. In this article, we show that a selection of countermodels in HT captures uniform equivalence also for infinite theories. This result is turned into coherent characterizations of the different notions of equivalence by countermodels, as well as by a mixture of HT-models and countermodels (so-called equivalence interpretations). Moreover, we generalize the so-called notion of relativized hyperequivalence for programs to propositional theories, and apply the same methodology in order to obtain a semantic characterization which is amenable to infinite settings. This allows for a lifting of the results to first-order theories under a very general semantics given in terms of a quantified version of HT. We thus obtain a general framework for the study of various notions of equivalence for theories under answer-set semantics. Moreover, we prove an expedient property that allows for a simplified treatment of extended signatures, and provide further results for non-ground logic programs. In particular, uniform equivalence coincides under open and ordinary answer-set semantics, and for finite non-ground programs under these semantics, also the usual characterization of uniform equivalence in terms of maximal and total HT-models of the grounding is correct, even for infinite domains, when corresponding ground programs are infinite. To appear in Theory and Practice of Logic Programming (TPLP).", "creator": "LaTeX with hyperref package"}}}