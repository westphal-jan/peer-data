{"id": "1302.4989", "review": {"conference": "arxiv", "VERSION": "v1", "DATE_OF_SUBMISSION": "20-Feb-2013", "title": "An Order of Magnitude Calculus", "abstract": "This editorial neural took simple multivariable be order related magnitude precise. A semantics if given with soundness or completeness results. Order major magnitude-5 differential functions frequently only considered by turn just to be equivalent to trinity functions, only example slight nonsensical significant Spohn ' second Natural Conditional Functions. The calculus another what compared to another which example magnitude supreme theory, more example it making soon justify an amended tunes of Pearl ' us decision methods will trion formula_3, only the similar is cautious into less subtlety.", "histories": [["v1", "Wed, 20 Feb 2013 15:24:11 GMT  (369kb)", "http://arxiv.org/abs/1302.4989v1", "Appears in Proceedings of the Eleventh Conference on Uncertainty in Artificial Intelligence (UAI1995)"]], "COMMENTS": "Appears in Proceedings of the Eleventh Conference on Uncertainty in Artificial Intelligence (UAI1995)", "reviews": [], "SUBJECTS": "cs.AI", "authors": ["nic wilson"], "accepted": false, "id": "1302.4989"}, "pdf": {"name": "1302.4989.pdf", "metadata": {"source": "CRF", "title": null, "authors": ["Nic Wilson"], "emails": ["nic@dcs.qmw.ac.uk"], "sections": [{"heading": null, "text": "Keywords: Order of Magnitude Reasoning, Kappa functions, Natural Conditional func tions, Decision Theory, Foundations of U n certain Reasoning\n1 Introduction\nOrder of magnitude reasoning is a common and impor tant form of reasoning. This paper develops a simple formal calculus for such reasoning, giving a semantics for it, in terms of a new theory of infinitesimals, with soundness and completeness results. This is applied to develop order of magnitude probabilistic reasoning, in particular, an order of magnitude decision theory (partly inspired by that given in (Pearl, 93]). Such a theory might be used in an application where the infor mation is of poor quality, so an expert may be happier just giving these very rough indications of probabilities and utilities.\nSection 2 describes the mathematical construction (from (Wilson, 95]) of a new non-standard probabil ity theory, building on ideas of Pearl (93b] and Gold szmidt (92]. Extended reals JR\u2022 are defined to be ra tional functions in parameter \ufffd, which is considered to be a very small unknown positive real number. Ex tended Probability and utility functions are defined in the usual way, except that they now can take values in\nJEt. A serious problem with theories of infinitesimal probability is that it can be hard to say what these new values mean. However, section 3 (based on section 3 of (Wilson, 95]) shows how this theory overcomes the problem, giving a meaning to infinitesimal values of probability.\nSection 4 introduces the order of magnitude calculus JR0\u2022 For each integer n we have an element ( +, n ) meaning 'of order \ufffdn ', and an element (- , n ) mean ing 'of order -\ufffdn '. If we add something of order \ufffdn to something of order -\ufffdn then the result can be of order \u00b1\ufffdm for any m 2:: n: to ensure closure of the calculus under addition we therefore add element (0, n ) repre senting this set of possibilities. The operations on JR\u2022 induce operations on JR0; we explore the properties of this algebraic structure, and show how calculations can be performed within JR0\u2022 Section 5 gives the semantics in terms of sets of extended reals, with soundness and completeness results for the calculus.\nIn section 6, order of magnitude probabilities and util ities are defined; the probability functions are equiva lent to kappa functions, which are a slight generalisa tion of Spohn's Natural Conditional Functions (NCFs) (Spohn, 90), so the results of sections 3 and 5 can be used to give a formal semantics for kappa functions. An order of magnitude decision theory is constructed in section 7, and a completeness result given. The decision theory for kappa functions in (Pearl, 93a] is discussed, and partially justified by the results of this paper.\n2 Extended Reals and Probability\nThis section constructs Extended Probability by first extending JR by adding an infinitesimal element \ufffd, to form a new number system JR\u2022 and then defining prob ability in the usual way.\n2.1 The Extended Reals R\u2022\nLet the Extended Reals JR\u2022 be JR(\ufffd), the field of ra tional functions in (dummy variable) \ufffd over the field JR (Maclane and Birkhoff, 79, page 122]. Each ele-\nment of JR: can be written as a pair plq where p and q are polynomial functions in \ufffd, and plq represents the same element of JR: as r Is if and only if ps is the same polynomial as q r. IFf' clearly contains a copy of JR: for x E JR, the ratio of constant polynomials xl1 is in m\u2022' and we'll denote this element of m\u2022 also by X. In particular the element 0 of m\u00b7 is the function which has constant value 0.\nEvery non-zero element r of m\u2022 can be uniquely ex pressed as r\ufffd1 r', where r E lR \\ {0}, r is in Z, the set of integers, and r1 E m\u2022 is such that r'(O) = 1. Define 6 = oo. The function r f-+ r gives the order of magnitude (in terms of powers of \ufffd) of element r of m\u00b7.\n2.2 The Ordering on R:\nIf r = pI q E m\u2022 where p' q are polynomials in \ufffd' then' for x E JR, r(x) (the value of r when x is substituted for \ufffd) is a real number, if q (x) f. 0. \ufffd is intended to be a very small positive number, so we define r > s iff r is bigger than B for small enough \ufffd: for r, B E m\u2022' define relation > by r > s if and only there exists strictly positive real number y such that r(x) > s(x) for all real x with 0 < x < y. Relations <, \ufffd and :::; are defined from relation > in the usual way, e.g. , r :::; s if and only if s > r or s = r. We have r > s if and only if r - s > 0, and (i) r, s > 0 implies r + s > 0 and rs > 0, and (ii) for each r E m\u2022, exactly one of the following hold: (a) r > 0, (b) r = 0, (c) -r > 0. Therefore m\u2022 is an ordered field [Maclane and Birkhoff, 79, p261]. However, it lacks the completeness property, that every subset of positive elements has a greatest lower bound (consider, for example, the (copy of t he) positive real numbers in m\u2022). Thus m\u2022 is not a non-standard model of the reals in the sense of Robinson's theory of hyperreals [Stroyan and Luxemburg, 76]. It is however isomorphic to a subset of the hyperreals, using the monomorphism m generated by m(x) = x for x E lR and m(\ufffd) = \ufffd\ufffd where \ufffd\ufffd is any positive infinitesimal.\nThough they are defined as functions, elements of m\u2022 should be thought of as numbers; \ufffd is a positive num ber smaller than any strictly positive real number, e2 is an even smaller positive number, e - e2 is between two, though much closer toe, and so on.\n2.3 Extended Probability Theory\nTo define Extended Probability and Utility, the usual definitions suffice, except using m\u2022 instead of JR. Let !.1 be a finite set, which is intended to represent a set of mutually exclusive and exhaustive events. An Ex tended Utility function on !.1 is a function from !.1 to m\u2022.\nLet R be a set containing distinguished elements 0 and 1 with binary operation + and relation :::; on it, and binary operation I defined on all pairs r E R, s E R'\nAn Order of Magnitude Calculus 549\nwhere R' \ufffd R. Define an R-valued probability func tion P over !.1 to be a function from 2\u00b0 to R satisfying\n(i) P(0) = 0; P(!.l) = 1\n(ii) for A, B \ufffd !.1 such that An B = 0, P(A U B) = P(A) + P(B).\n(iii) if A \ufffd B then P(A):::; P(B).\nFor R-valued probability function P over !.1 and A, B \ufffd !.1 with P(B) E R', the conditional probability P(AJB) is defined to be the value P(A n B)IP(B).\nJR- valued probability functions are just the usual prob ability functions (with R' = lR \\ {0}). Define Ex tended Probability functions to be m\u2022 - valued proba bility functions (with R' = m\u2022 \\ {0}). It can easily be checked that extended probability functions take values in (0 , 1r = {r E m\u2022 : 0:::; r:::; 1}.\n3 Interpretation of Extended Probability\nIt is very important to be able to ascribe meaning to values of probability and utility. Clearly if an agent is going to sensibly make probability statements such as Pr( A) = r, it is necessary that she understands what this means. Also, Extended Probability theory will be used to give a semantics to order of magni tude probability theory and Spohn's NCFs; the value of this semantics is heavily dependent on how strong a semantics can be given to Extended Probability the ory. The issues are discussed in [Wilson, 95], and are reviewed here.\nTo justify the ordering used on the extended reals is fairly straight-forward. The value e is considered to be an unknown small positive real number; the ordering given is the only sensible one given that we want m\u2022 to be an ordered field; [Wilson, 95, 3.1] justifies the ordering axiomatically.\nThe axioms of Extended Probability can be justified by adapting the Dutch book argument [de Finetti, 74] or Cox's axioms [Cox, 46]; alternatively, we can view an Extended Probability function P as a family of prob ability functions {Pr,} indexed by parameter e rang ing over a positive neighbourhood (in JR) of 0 (this is closely related to Convergent PPDs in [Goldszmidt, 92]), and use standard justifications of (real-valued) Bayesian probability (see [Wilson, 95, 3.2]).\nInterpretation of Probability and Utility Values\nWe will indicate how an agent could (in theory at least) use a sequence of thought experiments to give meaning to an assignment 'Pr(A) = r' for arbitrary events A and for Extended Reals r between 0 and 1. We will assume that an agent knows what Pr( A) = x means for real value :r: E [ 0, 1], using a standard justification\n550 Wilson\nof Bayesian probability, either by comparison with a chance experiment (e.g. [Shafer, 81]) or a Dutch book argument (e.g., [de Finetti, 74] ).1\nThe agent first imagines some (possible) event E of unknown small probability, and calls this value \ufffd. This step is arbitrary to quite a large extent; however once this has been chosen, the agent must stick with it for the problem at hand.\nSuppose (inductively) that the agent knows what . Prob ability values of r and s mean where r, s E [ 0, 1] , and suppose (without loss of generality) that r ::::; s. To un derstand the meaning of a probability of r s , the agent imagines two independent events A and B with prob abilities r and s respectively; A n B has probability rs.\nIf she imagines events C and D with C \ufffd D and prob abilities r and s respectively then the value s - r is the probability of event D \\ C and the value r / s is the probability of event C, conditional on D being true. For r, s with r + s :::=; 1, the agent should imagine mu tually exclusive F and G with probabilities r and s respectively; then an event should be assigned a prob ability value of r + s if and only if it is considered equiprobable to F U G.\nIt turns out that any r E [ 0, 1 r can be reached using these rules, so by making a sequence of such thought experiments, using qualitative judgements, an agent can calibrate any of the possible values of Extended Probability.\nMeaning must be given to Extended Real values of utility. We start off by assuming that an agent has, as usual, decided what 1 utile means (an arbitrary choice). Then for r E JEt with r 2: 0, the agent imag ines event A with probability ,\ufffd1 such that if A occurs the agent loses 1 utile, and if A occurs the agent gains some prize Q. r utiles is defined to be the value of a prize Q which is just sufficiently large to ensure that she expects not to l ose in this situation (so that the expected utility is 0). Negative values of utility are cal ibrated with a similar thought experiment, but where the agent gains 1 utile if A occurs.\n4 The Order of Magnitude Calculus\nWe will develop a calculus which can used for reasoning about the orders of magnitude of extended reals. This will be used to generate an order of magnitude theory of probability and utility.\n1The reader may not find justifications of Bayesian probability particularly convincing, and may consider that much more general measures of belief are rational (e.g., [Walley, 91; Shafer, 81]). I would agree, but we obviously cannot hope to give a stronger justification of Extended Probability than there is of Bayesian probability;\n4.1 Orders of Magnitude and their Meanings\nLet JR0 = { ( 0', n) : n E Z, 0' E { +, -, 0} } U { ( 0, oo)}, where Z is the set of integers. The element (0, oo) will sometimes be written as 0, element ( +, 0) as 1, and element ( -, 0) as -1. Define function JR\u2022 \ufffd JR0 by\n0 - { (sign(r ), r) if r =P 0 r\ufffdr - 0 ifr= O where sign(r) = + if r > 0 and sign(r) = - if r < 0.\nThe element ( +, n) will be used for reasoning about elements r of JR\u2022 of positive sign and of order \ufffdn, i.e. , r such that r0 = (+,n), for example \ufffdn and 3\ufffdn i\ufffd\ufffd. Similarly ( -, n) represents r such that r0 = ( -, n), e.g., -2\ufffdn. Note that the operation r \ufffd r0 is not onto; the image is the set ( JR0 \\ JR\ufffd) U { 0} where JR\ufffd = { (0, n) : n E Z U { oo} }.\nIf r0 = (+, n) and s0 = ( -,n) then (r+ s)0 could be 0, (+,m) or ( -, m) for any m 2: n. For example, if r = \ufffdn and s = -2\ufffdn then r0 = (+,n), S0 = (-, n) and (r+ s)0 = ( -,n); if, however, s = -\ufffdn then (r+ s) \" = 0. This is the reason that we included elements (0, n) in JR0: to ensure that JR0 is closed under addition. (O, n) is intended to represent elements r of JR\u2022 with f 2: n.\nThus elements of /R0 are interpreted as representing certain subsets of JR\". For a E JR0 we define subset a\u2022 of JR\" which will be viewed as the 'meaning' of a. The calculus we will develop for JR0 may be viewed as a simple way of reasoning about these subsets.\nFor a E JR0 \\ JR\ufffd, let a\u2022 = {r E JR\u2022 : r0 =a}. Thus, for n E Z, ( +, n )\" is the set of positive elements of JR\" of order n, {r : r > O,f = n}, and ( -, n)\" is the set of negative elements of JR\" of order n, {r : r < o, r = n }. For (O,m) E JRg, let (O, m)\" = {r E JR\u2022 : r 2: m}, so that, for example, (0, oo )\" = {0}. Elements a\u2022 for a E (JR0 \\ /Rg) U {0} form of partition of JR\u2022.\n4.2 The Operations on Ro\nThe operations on JR\u2022 induce operations on JRo (the definitions are formally justified by Theorem 1 in sec tion 5.1). These are related to operations in Parsons' work on qualitative uncertainty e.g. [Parsons, 93].\nMultiplication: For (o-,m),(o-',n) E JR0, let (o-, m)x (o-', n) = (o-\u00aeo-',m+ n), where oo+ m = m+oo = oo for m E Z U { oo }, and \u00ae is the natural multiplication of signs: it is the commutative operation on { +, -, 0} such that+\u00ae-= -,+\u00ae+= -\u00ae-= +, and for any o- E {+, -,0}, o- \u00ae 0 = 0. As usual, a X b will be sometimes abbreviated to ab. This multiplication is associative and commutative, and (JR0 \\ JR\ufffd, x) is an abelian group. Also -1 X -1 = 1 and for any a E JRo, a X 0 = 0 and a X 1 = a.\nFor b E /R0 \\ JRg define b-1 to be the multiplica tive inverse of b, and for a E JR0 let a/b = a X b-1. (o-, mt1 = (o-, -m) for 0' E {+, -}.\nAddition: For (q,m),(0\"1,n) E JR0, let { (0', m) ( 0', m) + ( 0'1, n) = ( 0'1, n)\n(0' $ 0''' m) if m < n; if m > n; if m = n\nwhere +$+= +, -$-= -, and otherwise, 0'$0'1 = 0.\nAddition is associative and commutative, and a+O = a for any a E JR0\u2022 We have distributivity: for a, b, c E JR0, (a + b )c = ac + be.\nFor a,b E JRo let -b = -1xb, and a-b = a+(-b). We have -(0', m) = ( -(0'), m) where, as one would expect, -(+) = - , -(-)= + and -(0)= 0. If a,b,c,dE JRo d b d d JRo th a _ ad a + c _ a+c a + c _ an ' 'I' en T - Td' T b - -b- ' b J -adb\ufffdbc, and \ufffd -] = adbdbc. The above properties mean that arithmetic expressions in JR0 can be manipulated in many of the ways that arithmetic expressions in JR can; for example, we shall see in section 7.1 that order of magnitude expectation has the usual linearity properties. However (JR0, 0, 1, +, x) is not a field, or even a ring, because additive inverses do not exist; for example, 1 + -1 = (0, 0) which is not equal to O=(O,oo).\n4.3 Ordering\nDefine (q,m) > 0 iff 0' = +, and (q,m) > (q,n) iff (q,m) - (q,n) > 0.\nWe have that for a, bE JR0, a> 0 if and only if O > -a, and a,b > 0 implies that a+ b > 0 and ab > 0. > is a transitive relation, but is not a total order since, for example, we have neither (0, 0) > -1 nor (0, 0) < -1. Unfortunately, it is possible that a > b and c > 0 hold but a + c > b + c does not hold. For example, if a= 1,b = O, c = -1 then a > b but a+ c = (0, 0) which is not greater than b + c = -1 = ( -, 0); the reason for this is that one of the elements that (0, 0) represents (e.g., -2 E JR\u2022) is smaller than one of the elements that (-, 0) represents (e.g. , -1 E JEt).\n5 Interpretation of the Order of Magnitude Calculus\nHere we give a precise semantics for the order of mag nitude calculus. The meaning of elements (and hence subsets) of JR\u2022 is given above. As stated there, each element a of lR0 will be viewed as a representation of the set a\u2022 \ufffd JR\u2022. Thus order of magnitude statements are interpreted as statements about JR\u2022. Extended real r E a\u2022 will be described as an interpretation of a. Each a E lR0 is considered to be representing some unknown interpretation r E JR\u2022.\nWe will show that the calculus is sound and complete in a particular sense. Roughly speaking, soundness will mean that any computation in the order of mag nitude calculus is correct when viewed as a statement about subsets of JR\u2022; completeness will mean that the\nAn Order of Magnitude Calculus 551\ncalculus is as strong as it could be. For example, suppose that for particular elements a, b, c, d E lR0, (a+ b)/c > c - d holds; we will show that for all in terpretations r of a, s of b, i and u of c and v of d, (r + s )/-t > u- v (note that we should not assume that the two instances of c in the first equation represent the same unknown element of JR\u2022). If this were not the case then the order of magnitude calculus would be making unwarranted conclusions. This is a sound ness result for the order of magnitude calculus. Con versely, if for all interpretations r of a, s of b, i and u of c and v of d, ( r + s)/i > u - v, then we have that (a + b)/ c > c - d. If this were not the case then the order of magnitude calculus would be weaker than it ideally should be. This is a completeness result.\n5.1 Representation Within Algebra of Subsets of R\u2022\nFor 5, T \ufffd JR\u2022 and U \ufffd JR\u2022 \\ {0}, define\n5 + T 5T -5\nu-1\n{s + i : s E 5, i E T} {si : s E 5, i E T} { -s : s E 5} {u-1 : u E U}\nDefine relation > on subsets of JR\u2022 by 5 > T if and only if for all s E 5 and i E T, s > i.\n(5T will sometimes be (implicitly) referred to as 5 x T, although this notation is used as little as possible to avoid confusion with product sets.) The following result justifies the operations in the order of magnitude calculus.\nTheorem 1\nFor a,b,c E JR0 with c \u00a2 JR\ufffd,\n(i) a E JR\ufffd <\u00a2:=} a\u2022 3 0; (ii) (a+b)\" = a\u2022 + b\u2022, (ab)\" = a\u2022b\u2022, ( -a)\" = - (a\u2022) ,\n(c-1)\" = (c\u2022t1;\n(iii) a = b <\u00a2:=} a\u2022 = b\u2022, and a > b <\u00a2:=} a\u2022 > b\u2022.\nIn other words, the structures (lR0, +, X, >) and ( { a\u2022 : a E lR0}, +, x, >) are isomorphic, with isomor phism a t-t a\u2022.\nThe proof is tedious but straight-forward. One might imagine that all the important properties of the order of magnitude calculus can be derived from those of subsets of JR\u2022. This is not the case; we are fortunate that the very valuable distributivity property holds in the order of magnitude calculus, and hence in the cal culus of the corresponding subsets of JR\u2022, since it does not hold for arbitrary subsets of JR\u2022; for example, if 5 = T = {1}, U = {1,2}, then (5 + T)U = {2}U = {2,4}, but 5U + TU = U + U = {2,3,4}.\n552 Wilson\n5.2 Completeness Results for Arithmetic Statements\nWe will construct arithmetic formulae based on set of symbols X = {x1, x:h ... }. Define the set of arithmetic formulae .A to be the smallest set of strings of symbols such that\n(i) for all i = 1 , 2, . . . , the symbol x; is in .A; x; is said to have symbol set { x;};\n(ii) if <p, 1/1 E .A with symbol sets Y and Z respectively, and Y n Z = 0, then the following (strings of symbols) are in .A: ( - <p) and (<p-1), which both have symbol set Y, ( <p + 1/1) and ( <p X 1/1) which both have symbol set Y U Z.\nFor example, (x2 + ( - (x1 X x3))) is an arithmetic for mula with symbol set {x1, x2, x3}. Note that each symbol x; can appear at most once in an arithmetic formula.\nConsider some tuple R = (R, R', +, x, -(\u00b7), (-)-1), where R is a set, R' \ufffd R, + and x are binary op erations on R, -( \u00b7) is a function from R to R, and (.)-1 is a function from R' to R."}, {"heading": "An instantiation !! in R for arithmetic formula <p is", "text": "a function from Y to R, where Z \ufffd Y \ufffd X and Z is the symbol set of <p. <p(!!) is then defined to be the value of the arithmetic expression <p when symbol x; is replaced by f!( x;) for each x; E Z. Formally it is defined inductively as follows: x;(!!) = f!(x;), (<p + \ufffd/\ufffd)(!!) = <p(f!) + \ufffd/\ufffd(_!!), (<p X ljl)(!!) = <p(f!) X 1/1(!!), ( -<p )(!!) = - ( <p(f!))' and ( <p -1 )(!!) = ( <p(!!) r 1 if <p(f!) E R', and ( <p-1 )(!!) equals the string 'undefined' otherwise.\nThe definition allows us to instantiate different sym bols x; and xJ with the same value r E R. For ex ample, if <p = (x2 + ( - (x1 X x3))), R = JRo, and _!!(xi)= f!(x2) = (-,2), f!(x3) = (+,0) (= 1), then <p(f!) = ( -,2) + (- ( ( -,2) X 1)) = ( -,2) + (+,2) = (0, 2). For arithmetic formula <p and instantiation !! : Y -+ JR0 we say that r. : Y -+ JR\u2022 is an interpretation of!! (sometimes abbreviated to 'r. is of !!') if for all x; E Y, r.(x;) E (!!(x;)r, i.e. , if each component of r. is an interpretation of each component of !!\u00b7 Clearly, r. is an instantiation in JR\u2022 for <p. Also define instantiation !!\u2022 in 2JR . by !!\u2022(x;) = (!!(x;)r for each x; E Y; naturally, for R = JR0, we define R' to be JR0 \\ JR\ufffd, for R = JR\u2022, R' = JR\u2022 \\ {0}, and for R = 2JR\u2022 , R' = {U : U \ufffd JR\u2022 \\ {0} }. Theorem 2\nLet !! and !! be instantiations in JR0 for arithmetic for mulae <p and 1/1, respectively. Then\n(i) <p(!!) =undefined {:::::::} <p(!!\u2022) =undefined {:::::::} for some interpretation r. of Q., <p(r.) = undefined;\n(ii) when <p(f!) f; undefined the following equivalences hold: <p(!!) = 1/1(!!) {:::::::} <p(f!\u2022) = \u00a2(f) {:::::::} {<p(r.) : r. is of !!}= {1/1(.!) : .! is of Q}; (iii) <p(!!) > \ufffd/!(!!) {:::::::} <p(!!\u2022) > 1/!(f) {:::::::} for all interpretations r. of Q., and .! of !!. <p(r.) > lj! (.!).\n(iii) can be viewed as a soundness and completeness result for the order of magnitude calculus; any strict inequality statement that can be deduced in the or der of magnitude calculus is true when viewed as a statement about the extended reals (soundness); con versely, any strict inequality statement in the order of magnitude calculus which is true when viewed as a statement in the extended reals, can be deduced in the order of magnitude calculus (completeness).\n6 Order of Magnitude Probability /Utility\nTo define order of magnitude probability and utility, we use, as before, the standard definitions, except us ing JR0 instead of JR.\nAn order of magnitude utility function on Q is a func tion from n to JR0\u2022\nAn order of magnitude probability function P over Q is defined to be an JR0 -valued probability function (with R' = JR0 \\ JR\ufffd; see definition of R-valued probability function in section 2. 3).\n6.1 The Meaning of Order of Magnitude Probability\nIf I is a function from some set W to JR0 then g: W -+ JR\u2022 is said to be an interpretation of I if for all wE W, g(w) E (/(w)r. If g happens also to be an extended probability function then we say that g is a probabilistic interpretation of I. Each order of magnitude probability function P over Q has a probabilistic interpretation; for example we can define extended probability function R by R( w) = 0 if P(w) = 0 and R(w) =a.!\", for P(w) = (+,n), where a is a normalisation constant (and then we extend R by additivity to 2\u00b0 ). Conversely, each extended prob ability function R is a probabilistic interpretation for exactly one order of magnitude probability function R0 given by R\"(A) = (R(A)) \" ; also for all A, B \ufffd Q with R0(B) \ufffd JR\ufffd, R0(AiB) = (R(AIB)) \" . Similar comments apply for utility.\nThis means that an order of magnitude probability function P may be viewed as a representation of a set of extended probability functions, i. e., its probabilistic interpretations, which were given meaning in section 3 and in [Wilson, 95].\nThus if P(A) = (+, 1) then we judge the probability of A to be of the same order as the calibrating event E (see section 3.3); if P(B) = ( +, n) we judge the\nprobability of B be of the same order as n independent events, each of which has probability equal to that of E.\n6.2 Kappa Functions\nA kappa function over n is defined to be a function \"': 2\u00b0 --+ IN U { oo} such that\n(i) K-(0) = oo; K(rl) = 0; (ii) for A,B \ufffd n such that An B = 0, K(A u B)=\nmin (K(A), K(B)).\nFor kappa function \"' over Q and A, B \ufffd Q such that K(B) =P oo, the conditional value K(AIB) is defined to be K-(A n B)- K-(B).\nKappa functions are a slight generalisation of Spohn's NCFs [Spohn, 88, 90], in that a non-empty set A can be assigned value oo, meaning 'A is impossible'; they have been used, for example, in [Goldszmidt and Pearl, 91; Goldszmidt, 92; Pearl, 93a,b]. They are also closely related to Zadeh's possibility functions [Dubois and Prade, 88]; the mapping\"' f-+ 2-\" gives an embedding of kappa functions into the set of possibility measures.\nThe values of an order of magnitude probability func tion are all contained in [ 0, 1 ]\" = { ( +, m) : m \ufffd 0} U {0}. This set is totally ordered by > , and in fact ([ 0,1 ]\",+,x,>) can be seen to be isomorphic to (IN U { oo}, min , +, <). Using this isomorphism, it is easy to see that order of magnitude probability func tions are just kappa functions, with their values la belled differently; also definitions of conditional val ues K(AIB) and P(AIB) can be seen to be equivalent. This means that the justification above for order of magnitude probabilities also justifies kappa functions. Of course, this justification is closely related to stan dard justifications in terms of infinitesimal probabili ties such as (Spohn, 90], but I think that it is stronger since it is based on a more meaningful theory of in finitesimal probability (see section 3). The justifica tion also benefits logics such as Adams' [66,75] which can be given semantics in terms of kappa functions (see e.g., [Goldszmidt, 92]).\n7 Order of Magnitude Decision Theory\nThis section shows how the definitions for order of magnitude probability and utility lead to an order of magnitude decision theory, and the relationship with the decision theory for kappa functions in [Pearl, 93a] is discussed.\n7.1 Expectation\nExpectation for order of magnitude probability func tions can be defined in the usual way, and turns out to have the usual linearity properties.\nAn Order of Magnitude Calculus 553\nProposition\nLet P be an order of magnitude probability function over n, and let U and V be order of magnitude utility functions on n. Define P(U), the expected value of U with respect to P, to be LwEO P(w)U(w) (note that the summation sign makes sense because of the com mutativity and associativity of addition in lR0). For ,\\ E IE?\", let U). be the constant function on Q which takes value ,\\, Then,\n(i) P(U + V) = P(U) + P(V); (ii) P( -U) = -P(U); (iii) P(U).) = ,\\,\n(iv) P(,\\U) = ,\\P(U),\nwhere, as usual, addition and scalar multiplication of the order of magnitude utility functions is defined pointwise.\nThis result follows easily from the properties of the order of magnitude calculus given in section 4.2.\nLet P and U be an order of magnitude probability and utility function on Q, respectively. Let 0' = {wE Q : P(w) =j; 0}. For w E 0' let us write P(w) as (+, K(w)) and U(w) as (u (w), m(w)). Then, P(U) equals\n2:P (w)U(w) = 2: (+, K(w)) (u (w),m(w)), wEO wEO'\nwhich equals (+, u+)+(O,u0)+( -,u-) = (u, u) where, for X E {+, - , 0}, uX = min.,EO':cr(w)= x (K(w )+m(w)) (the operator min taken over the empty set is defined to have value oo), u = min(u+,u0,u-), and\n{ + if u+ < u0,u-; u= - if u- <u0,u+; 0 otherwise. 7.2 Comparison of Expected Utility\nSuppose we are comparing two options with associated order of magnitude probability and utility functions P;, U; for i = 1, 2. Option 1 is strictly preferred to option 2 if P1(Ul) > P:\ufffd(U:\ufffd).\nTheorem 3\nFor i. = 1, 2, let P; be order of magnitude probability functions over n and U; be order of magnitude utility functions on n. Then P1(Ul) > P2(U:\ufffd) if and only if for any probabilistic interpretations R; of P; (i. = 1, 2), and for any interpretations V; of U, (i = 1, 2), Rt (Vt) > R2(V2).\nThis can be viewed as a soundness and completeness result for the order of magnitude decision theory: we strictly prefer option 1 to option 2 if and only if for all probabilistic interpretations we would do so.\n554 Wilson\n7.3 Pearl's Decision Theory for Kappa Functions\nIn [Pearl, 93a, section 3] a decision theory for kappa functions is developed. 2 The scale used for utility is coarser than that given here, and leads sometimes to conclusions being unnecessarily weak.\nPearl's order of magnitude utility functions on n are functions J.' from n to Z, the set of integers. Fori > 0, J.'( w) = i is intended to represent values of utility of order 1/ \ufffd\u00b7, and thus corresponds to ( +, -i ) E lR0; J.'( w) = -i is. intended to represent values of utility of order -1/\ufffd', thus corresponds to (-,-i ) E lR0\u2022 It seems that J.'( w) = 0 is intended to represent values of utility of order + 1 or -1 or anything in between (i.e., constant function of\ufffd or less), so it corresponds to (0,0) E 1R0\u2022 Note that, because of the reasons given earlier, in the discussion on addition in lR0, the sum of J.' values i (> 0) and -i does not correspond to a single J.' value, so when such a value occurs in a calculation, it is la belled 'ambiguous'. Thus elements (0, -i) E lR0 for i > 0 are represented in Pearl's system by the value of 'ambiguous'.\nLet K be a kappa function over n. For i = 0, 1, 2, . . . , the set W/ is defined to be {wE n : J.'(w) = i } and W;- is defined to be { w E n : J.'( w) = -i}. Define non negative integers n+ and n- by n+ = max;(O,i K(W/)) and n-= max; (O, i- K(wn). The expected utility of J.' with respect to K is then defined in [Pearl, 93a] to be\n{ ambiguous if n+ = n-> 0; n + -n- otherwise.\nAs we shall shortly see, this cannot have been what Pearl intended; instead he probably intended the ex pected utility e of J.' with respect to K to be\nExample\n{ \ufffdmbiguous n+ -nif n+ = n-> 0; if n+ = n-= 0; if n+ > n-; if n+ < n-.\nLet n = {wl,w2}, and define K, by K(wl) = K(w2) = 0, corresponding to non-infinitesimal values of probabil ity, and J.' by J.'(wl) = 4, J.'(w2) = -3, which correspond to utilities of orders 1/ \ufffd4 and -1/ \ufffd3 respectively. Thus the expected utility will be of order 1/\ufffd4 - 1/\ufffd3 which is of order 1/ \ufffd4. We haven+ = 4, n-= 3, so the orig inal definition of expected value of /A with respect to K gives a value of 1 corresponding to expected utility of order 1/\ufffd, not 1/\ufffd4.\n2Pearl refers to this as a qualitative decision theory, and the kappa function as an ordinal belief ranking; this is misleading: an ordinal scale is not sufficient for kappa functions because the differences between values do matter, for conditioning and independence.\nThe second definition gives the correct answer in this example and will be justified using the order of mag nitude calculus.\nAs explained earlier, kappa function K corresponds to an order of magnitude probability function P, and, using the above correspondence, J.' functions can be viewed as order of magnitude utility functions U; for example \ufffdJ(w) = -5 is translated to U(w) = ( -, -5) and \ufffdJ(w) = 0 is translated to U(w) = (0,0). Thus we can use the results of 7.1 to give the correct expected value. Using the results and notation of section 7.1 we have P (U) = ( 0'1 u) where 0' equals { 0 if u = u0\n0 if u =J u0 and u+ = u-; + \ufffdf u =J u0 and u+ < u-; - 1f u =J u0 and u+ > u-.\nBy considering some w1 E n with K(w') = 0, we can see that, because of the special form of U, (i) u ::; 0 and (ii) u = u0 <=::::> u = 0 <=::::> u+, u- ;:::: 0. These facts enable us to eliminate mentions of u0 and u in the above equation. Proving that n+ = max(O, -u+) and n-= max(O, -u-) is straight-forward, and these equivalences can be used to show that P( U) equals\nifn+=n-=0 if n+ = n- > 0; ifn+>n-\u00b7 if n+ < n-:\nWhen we convert the order of magnitude values into Pearl's !A-values we get the amended definition.\nThis justifies Pearl's (amended) decision theory. Note, that we have just shown a soundness result; it does sometimes give unnecessarily weak results, as shown by the following example, in which we have a choice between two options with associated K and /A func tions. Let n = {wl,w2}\u00b7 Fori= 1,2, let K,(wd = K;(w2) = 0. Let J.'1(wl) = 2 and /A2(w2) = -2, and let J.'2(wl) = -5 = 1J2(w2). The expected value e1 of J.'l with respect to K1 equals 'ambiguous', and e2 = -5 so neither option is preferred over the other. How ever, the expected utility in the first option is of or der \u00b11/ \ufffd2 which is greater than the expected util ity of the second option, of order -1/ \ufffd5. The or der of magnitude calculus is able to give this con clusion (as we know from the completeness results): P1(Ul) = (0,-2) > (- , -5) = P2(U2).\nThus, although we have given Pearl's order of magni tude decision theory a formal semantics, it has a num ber of disadvantages compared to one developed in this paper; it cannot represent infinitesimal utilities, it does not distinguish utilities of order 1, represent ing finite positive benefit, from utilities of order -1, representing finite negative benefit; also, it does not distinguish different grades of ambiguity, which means that it lacks the completeness results enjoyed by this paper's formalism.\n8 Discussion\nThis is clearly a rather simple order of magnitude cal culus; it was designed to be just expressive enough to give a satisfactory decision theory for kappa func tions. There are natural ways to extend the calculus; we might add elements (p, n) representing the non negative elements of order at most n, and ( m, n) rep resenting the non-positive elements of order at most n, so that e.g., (p, n )\" = {r E JR\u2022 : r :2: n, r :2: 0}. We might also then consider adding a squaring operation. The semantics of this would be given by defining for 5 <;;; JR\u2022, 52 = { s2 : s E 5}. (note that 52 is not usually equal to 55).\nMore ambitious extensions might allow representations of statements such as 'greater than order \ufffdn ', or such as 'between order \ufffd\" and \ufffd\"' '. We could also consider intermediate calculi; a natural idea is to define a calcu lus containing pairs (A,n), where,\\ E JR\\ {0}, n E Z, representing extended reals r with r = n and r = ,\\; however, it may be the case that we would have to either give up distributivity or completeness. In any case, the methods and concepts of this paper, particu larly section 5, would be useful in the analysis of these more sophisticated calculi.\nIt would be interesting to explore applications of this calculus in other areas of Artificial Intelligence, in par ticular, Qualitative Physics and Constraint-based rea soning.\nAcknowledgements\nThis work was supported by European Community ESPRIT project DRUMS2, BRA 6156. I benefitted from discussions with Moises Goldszmidt, Milan Stu deny and Frantisek Matus and technical assistance from David Shrimpton.\nReferences\nAdams, E., 66, Probability and the logic of condition als, in Aspects of inductive logic, J. Hintikka and P. Suppes (eds.), North Holland, Amsterdam, 265- 316.\nAdams, E., 75, The Logic of Conditionals, Reidel, Boston.\nCox, R., Probability, Frequency and Reasonable Ex pectation, 46 American Journal of Physics 14:1, January-February 1-13. Reprinted in Readings in Uncertain Reasoning, G. Shafer and J. Pearl (eds.),\nMorgan Kaufmann, San Mateo, California, 1990.\nDubois, D. and Prade, H., 88, Possibility Theory: An Approach to Computerized Processing and Uncer tainty, Plenum Press, New York.\nde F inetti, B., 74 Theory of Probability, Volt. (Wiley, London, 1974).\nAn Order of Magnitude Calculus 555\nGoldszmidt, M., 92, Qualitative Probabilities: A Nor mative Framework for Commonsense Reasoning PhD Dissertation, UCLA; also: Technical Re port R-190, Cognitive Systems Laboratory, Dept of Computer Science, University of California, Los Angeles, CA 90024.\nGoldszmidt, M., and Pearl, J., 91, System z+: A For malisation for Reasoning with Variable Strength Defaults, Proc. American Association for Artifi cial Intelligence Conference, AAAI-91, Anaheim, CA, 399-404.\nMaclane, S., Birkhoff, G., 79, Algebra, second edition, Macmillan, New York.\nPearl, J ., 93a, From Conditional Oughts to Quali tative Decision Theory, Proceedings of the Ninth Conference of Uncertainty in Artificial Intelligence (UAI93), David Heckerman and Abe Mamdani (eds.), Morgan Kaufmann Publishers, San Mateo, California, 12-20.\nParsons, S., and Mamdani, E. H., 93, On Reasoning in Networks with Qualitative Uncertainty, Proceed ings of the Ninth Conference of Uncertainty in Ar tificial Intelligence (UAI93), David Heckerman and Abe Mamdani (eds.), Morgan Kaufmann Publish ers, San Mateo, California.\nPearl, J ., 93b, From Adams' Conditionals to Default Expressions, Causal Conditionals and Counterfac tuals, Festschrift for Ernest Adams, Cambridge University Press.\nShafer, G., 81, Constructive Probability, Synthese, 48: 1-60.\nSpohn, W., 88, Ordinal conditional functions: a dy namic theory of epistemic states, in Causation in Decision, Belief Change and Statistics W. Harper, B. Skyrms (eds.), 105-134.\nSpohn, W., 90, A General Non-Probabilistic Theory of Inductive Reasoning, Uncertainty in Artificial Intelligence 4, R. D. Shachter et al. (eds.), Elsevier Science Publishers.\nStroyan, K. D., and Luxemburg, W. A. J., 76, Intro duction to the Theory of Infinitesimals, Academic Press, New York, San Francisco, London.\nWalley, P., 91, Statistical Reasoning with Imprecise Probabilities, Chapman and Hall, London.\nWilson, N., 95, Extended Probability, unpublished re port."}], "references": [{"title": "Probability, Frequency and Reasonable Ex\u00ad pectation", "author": ["R. Cox"], "venue": "American Journal of Physics 14:1,", "citeRegEx": "Cox,? \\Q1990\\E", "shortCiteRegEx": "Cox", "year": 1990}], "referenceMentions": [], "year": 2011, "abstractText": "This paper develops a simple calculus for order of magnitude reasoning. A seman\u00ad tics is given with soundness and complete\u00ad ness results. Order of magnitude probabil\u00ad ity functions are easily defined and turn out to be equivalent to kappa functions, which are slight generalisations of Spohn's Natu\u00ad ral Conditional Functions. The calculus also gives rise to an order of magnitude deci\u00ad sion theory, which can be used to justify an amended version of Pearl's decision theory for kappa functions, although the latter is weaker and less expressive.", "creator": "pdftk 1.41 - www.pdftk.com"}}}